

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <meta name="description" content="Apache Ozone Documentation">

    <title>Documentation for Apache Ozone</title>

    
    <link href="../css/bootstrap.min.css" rel="stylesheet">

    
    <link href="../css/ozonedoc.css" rel="stylesheet">

    
    
    <link href="../swagger-resources/swagger-ui.css" rel="stylesheet">

    
    <script>
      var _paq = window._paq = window._paq || [];
      

       
      _paq.push(['disableCookies']);
      

      _paq.push(['trackPageView']);
      _paq.push(['enableLinkTracking']);
      (function() {
        var u="//analytics.apache.org/";
        _paq.push(['setTrackerUrl', u+'matomo.php']);
        _paq.push(['setSiteId', '34']);
        var d=document, g=d.createElement('script'),
s=d.getElementsByTagName('script')[0];
        g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
      })();
    </script>
    

  </head>


<body>

  
<nav class="navbar navbar-inverse navbar-fixed-top">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#sidebar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a href="../index.html" class="navbar-left ozone-logo">
        <img src="../ozone-logo-small.png"/>
      </a>
      <a class="navbar-brand hidden-xs" href="../index.html">
        Apache Ozone/HDDS Documentation
      </a>
      <a class="navbar-brand visible-xs-inline" href="#">Apache Ozone</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li><a href="https://github.com/apache/ozone">Source</a></li>
        <li><a href="https://ozone.apache.org">Apache Ozone</a></li>
        <li><a href="https://apache.org">ASF</a></li>
      </ul>
    </div>
  </div>
</nav>


  <div class="wrapper">
  <div class="container-fluid">
    <div class="row">
      
<div class="col-sm-2 col-md-2 sidebar" id="sidebar">
  <ul class="nav nav-sidebar">
    
    
        
            <li class="">
                
                   <a href="../index.html">
                

                    
                    <span>An Introduction to Apache Ozone</span>
                </a>
            </li>
        
    
        
            <li class="">
                <a href="../start/index.html">
                    
                    <span>Getting Started</span>
                </a>
                <ul class="nav">
                    
                        <li class="">
                           
                           <a href="../start/productiondeployment.html">Production Deployment</a>
                           
                        </li>
                    
                </ul>
            </li>
        
    
        
            <li class="">
                <a href="../concept/index.html">
                    
                    <span>Architecture</span>
                </a>
                <ul class="nav">
                    
                        <li class="">
                           
                           <a href="../concept/overview.html">Overview</a>
                           
                        </li>
                    
                        <li class="">
                           
                               <a href="../concept/ozonemanager.html">
                                 
                                 <span>Ozone Manager</span>
                               </a>
                               <ul class="nav">
                               
                                  <li class="">
                                     <a href="../concept/volumesbucketskeys.html">Volumes, Buckets, and Keys</a>
                                  </li>
                               
                               </ul>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../concept/storagecontainermanager.html">Storage Container Manager</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../concept/containers.html">Containers</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../concept/datanodes.html">Datanodes</a>
                           
                        </li>
                    
                        <li class="">
                           
                               <a href="../concept/ozones3gateway.html">
                                 
                                 <span>Ozone S3 Gateway</span>
                               </a>
                               <ul class="nav">
                               
                                  <li class="">
                                     <a href="../concept/s3-gateway-load-balancing.html">S3 Gateway Load Balancing</a>
                                  </li>
                               
                               </ul>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../concept/recon.html">Recon</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../concept/networkports.html">Network Ports</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../concept/comparison.html">Comparison with Other Storage Technologies</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../concept/rocksdb.html">RocksDB in Apache Ozone</a>
                           
                        </li>
                    
                </ul>
            </li>
        
    
        
            <li class="">
                <a href="../feature/index.html">
                    
                    <span>Features</span>
                </a>
                <ul class="nav">
                    
                        <li class="">
                           
                           <a href="../feature/decommission.html">Decommissioning</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../feature/diskbalancer.html">DiskBalancer</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../feature/snapshotdefragmentation.html">Improve Ozone Snapshot Scale with Snapshot Defragmentation</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../feature/om-ha.html">OM High Availability</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../feature/erasurecoding.html">Ozone Erasure Coding</a>
                           
                        </li>
                    
                        <li class="">
                           
                               <a href="../feature/snapshot.html">
                                 
                                 <span>Ozone Snapshot</span>
                               </a>
                               <ul class="nav">
                               
                                  <li class="">
                                     <a href="../feature/snapshot-configuration-properties.html">Snapshot Configuration Properties</a>
                                  </li>
                               
                               </ul>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../feature/scm-ha.html">SCM High Availability</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../feature/streaming-write-pipeline.html">Streaming Write Pipeline</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../feature/dn-merge-rocksdb.html">Merge Container RocksDB in DN</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../feature/prefixfso.html">Prefix based File System Optimization</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../feature/topology.html">Topology awareness</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../feature/quota.html">Quota in Ozone</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../feature/recon.html">Recon Server</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../feature/observability.html">Observability</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../feature/nonrolling-upgrade.html">Non-Rolling Upgrades and Downgrades</a>
                           
                        </li>
                    
                        <li class="">
                           
                               <a href="../feature/s3-multi-tenancy.html">
                                 
                                 <span>S3 Multi-Tenancy</span>
                               </a>
                               <ul class="nav">
                               
                                  <li class="">
                                     <a href="../feature/s3-multi-tenancy-setup.html">Setup</a>
                                  </li>
                               
                                  <li class="">
                                     <a href="../feature/s3-tenant-commands.html">Tenant commands</a>
                                  </li>
                               
                                  <li class="">
                                     <a href="../feature/s3-multi-tenancy-access-control.html">Access Control</a>
                                  </li>
                               
                               </ul>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../feature/reconfigurability.html">Dynamic Property Reload</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../feature/containerbalancer.html">Container Balancer</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../feature/maintenance.html">Maintenance Mode</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../feature/multi-raft-support.html">Multi-Raft Support in Ozone</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../feature/trash.html">Trash</a>
                           
                        </li>
                    
                </ul>
            </li>
        
    
        
            <li class="">
                <a href="../integration/index.html">
                    
                    <span>Application Integrations</span>
                </a>
                <ul class="nav">
                    
                        <li class="">
                           
                           <a href="../integration/distcp.html">Hadoop DistCp</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../integration/hive.html">Hive</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../integration/impala.html">Impala</a>
                           
                        </li>
                    
                </ul>
            </li>
        
    
        
            <li class="">
                <a href="../interface/index.html">
                    
                    <span>Client Interfaces</span>
                </a>
                <ul class="nav">
                    
                        <li class="">
                           
                           <a href="../interface/ofs.html">Ofs (Hadoop compatible)</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../interface/o3fs.html">O3fs (Hadoop compatible)</a>
                           
                        </li>
                    
                        <li class="">
                           
                               <a href="../interface/s3.html">
                                 
                                 <span>S3 Protocol</span>
                               </a>
                               <ul class="nav">
                               
                                  <li class="">
                                     <a href="../interface/cyberduckozones3.html">Accessing Ozone S3 via CyberDuck</a>
                                  </li>
                               
                               </ul>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../interface/cli.html">Command Line Interface</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../interface/reconapi.html">Recon API</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../interface/javaapi.html">Java API</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../interface/python.html">Accessing Apache Ozone from Python</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../interface/csi.html">CSI Protocol</a>
                           
                        </li>
                    
                        <li class="active">
                           
                           <a href="../interface/httpfs.html">HttpFS Gateway</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../interface/native-cpp.html">Native C/C&#43;&#43; Client Access to Ozone</a>
                           
                        </li>
                    
                </ul>
            </li>
        
    
        
            <li class="">
                <a href="../security/index.html">
                    
                    <span>Security</span>
                </a>
                <ul class="nav">
                    
                        <li class="">
                           
                           <a href="../security/secureozone.html">Securing Ozone</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../security/securingtde.html">Transparent Data Encryption</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../security/gdpr.html">GDPR in Ozone</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../security/securingdatanodes.html">Securing Datanodes</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../security/securingozonehttp.html">Securing HTTP</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../security/securings3.html">Securing S3</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../security/securityacls.html">Ozone ACLs</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../security/protect-in-transit-traffic.html">Protect In-Transit Traffic</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../security/securitywithranger.html">Apache Ranger</a>
                           
                        </li>
                    
                </ul>
            </li>
        
    
        
            <li class="">
                
                   <a href="../tools/index.html">
                

                    
                    <span>Tools</span>
                </a>
            </li>
        
    
        
            <li class="">
                
                   <a href="../recipe/index.html">
                

                    
                    <span>Recipes</span>
                </a>
            </li>
        
    
        
            <li class="">
                
                   <a href="../troubleshooting/index.html">
                

                    
                    <span>Troubleshooting</span>
                </a>
            </li>
        
    
    <li><a href="../design.html"><span><b>Design docs</b></span></a></li>
    <li class="visible-xs"><a href="#">References</a>
    <ul class="nav">
        <li><a href="https://github.com/apache/ozone"><span class="glyphicon glyphicon-new-window" aria-hidden="true"></span> Source</a></li>
        <li><a href="https://ozone.apache.org"><span class="glyphicon glyphicon-new-window" aria-hidden="true"></span> Apache Ozone</a></li>
        <li><a href="https://apache.org"><span class="glyphicon glyphicon-new-window" aria-hidden="true"></span> ASF</a></li>
    </ul></li>
  </ul>

</div>

      <div class="col-sm-10 col-sm-offset-2 col-md-10 col-md-offset-2 main-content">



        <div class="col-md-9">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                  <li class="breadcrumb-item"><a href="../index.html">Home</a></li>
                  <li class="breadcrumb-item" aria-current="page"><a href="../interface/index.html">Client Interfaces</a></li>
                  <li class="breadcrumb-item active" aria-current="page">HttpFS Gateway</li>
                </ol>
              </nav>

          

<div class="pull-right">
    
    
    
</div>


          <div class="col-md-9">
            <h1>HttpFS Gateway</h1>

            <!---
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<p>Ozone HttpFS can be used to integrate Ozone with other tools via REST API.</p>
<h2 id="introduction">Introduction</h2>
<p>Ozone HttpFS is forked from the HDFS HttpFS endpoint implementation (<a href="https://issues.apache.org/jira/browse/HDDS-5448">HDDS-5448</a>). Ozone HttpFS is intended to be added optionally as a role in an Ozone cluster, similar to <a href="../design/s3gateway.html">S3 Gateway</a>.</p>
<p>HttpFS is a service that provides a REST HTTP gateway supporting File System operations (read and write). It is interoperable with the <strong>webhdfs</strong> REST HTTP API.</p>
<p>HttpFS can be used to access data on an Ozone cluster behind of a firewall. For example, the HttpFS service acts as a gateway and is the only system that is allowed to cross the firewall into the cluster.</p>
<p>HttpFS can be used to access data in Ozone using HTTP utilities (such as curl and wget) and HTTP libraries Perl from other languages than Java.</p>
<p>The <strong>webhdfs</strong> client FileSystem implementation can be used to access HttpFS using the Ozone filesystem command line tool (<code>ozone fs</code>) as well as from Java applications using the Hadoop FileSystem Java API.</p>
<p>HttpFS has built-in security supporting Hadoop pseudo authentication and Kerberos SPNEGO and other pluggable authentication mechanisms. It also provides Hadoop proxy user support.</p>
<h2 id="getting-started">Getting started</h2>
<p>HttpFS service itself is a Jetty based web-application that uses the Hadoop FileSystem API to talk to the cluster, it is a separate service which provides access to Ozone via a REST APIs. It should be started in addition to other regular Ozone components.</p>
<p>To try it out, follow the instructions from the link below to start the Ozone cluster with Docker Compose.</p>
<p><a href="https://ozone.apache.org/docs/edge/start/startfromdockerhub.html">https://ozone.apache.org/docs/edge/start/startfromdockerhub.html</a></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker compose up -d --scale datanode<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>
</span></span></code></pre></div><p>You can/should find now the HttpFS gateway in docker with the name like <code>ozone_httpfs</code>,
and it can be accessed through <code>localhost:14000</code>.
HttpFS HTTP web-service API calls are HTTP REST calls that map to an Ozone file system operation.</p>
<p>Here&rsquo;s some example usage:</p>
<h3 id="create-a-volume">Create a volume</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># creates a volume called `volume1`.</span>
</span></span><span style="display:flex;"><span>curl -i -X PUT <span style="color:#e6db74">&#34;http://localhost:14000/webhdfs/v1/volume1?op=MKDIRS&amp;user.name=hdfs&#34;</span>
</span></span></code></pre></div><p>Example Output:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>HTTP/1.1 <span style="color:#ae81ff">200</span> OK
</span></span><span style="display:flex;"><span>Date: Sat, <span style="color:#ae81ff">18</span> Oct <span style="color:#ae81ff">2025</span> 07:51:21 GMT
</span></span><span style="display:flex;"><span>Cache-Control: no-cache
</span></span><span style="display:flex;"><span>Expires: Sat, <span style="color:#ae81ff">18</span> Oct <span style="color:#ae81ff">2025</span> 07:51:21 GMT
</span></span><span style="display:flex;"><span>Pragma: no-cache
</span></span><span style="display:flex;"><span>Content-Type: application/json
</span></span><span style="display:flex;"><span>X-Content-Type-Options: nosniff
</span></span><span style="display:flex;"><span>X-XSS-Protection: 1; mode<span style="color:#f92672">=</span>block
</span></span><span style="display:flex;"><span>Set-Cookie: hadoop.auth<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;u=hdfs&amp;p=hdfs&amp;t=simple-dt&amp;e=1760809881100&amp;s=OCdVOi8eyMguFySkmEJxm5EkRfj6NbAM9agi5Gue1Iw=&#34;</span>; Path<span style="color:#f92672">=</span>/; HttpOnly
</span></span><span style="display:flex;"><span>Content-Length: <span style="color:#ae81ff">17</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">{</span><span style="color:#e6db74">&#34;boolean&#34;</span>:true<span style="color:#f92672">}</span>
</span></span></code></pre></div><h3 id="create-a-bucket">Create a bucket</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># creates a bucket called `bucket1`.</span>
</span></span><span style="display:flex;"><span>curl -i -X PUT <span style="color:#e6db74">&#34;http://localhost:14000/webhdfs/v1/volume1/bucket1?op=MKDIRS&amp;user.name=hdfs&#34;</span>
</span></span></code></pre></div><p>Example Output:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>HTTP/1.1 <span style="color:#ae81ff">200</span> OK
</span></span><span style="display:flex;"><span>Date: Sat, <span style="color:#ae81ff">18</span> Oct <span style="color:#ae81ff">2025</span> 07:52:06 GMT
</span></span><span style="display:flex;"><span>Cache-Control: no-cache
</span></span><span style="display:flex;"><span>Expires: Sat, <span style="color:#ae81ff">18</span> Oct <span style="color:#ae81ff">2025</span> 07:52:06 GMT
</span></span><span style="display:flex;"><span>Pragma: no-cache
</span></span><span style="display:flex;"><span>Content-Type: application/json
</span></span><span style="display:flex;"><span>X-Content-Type-Options: nosniff
</span></span><span style="display:flex;"><span>X-XSS-Protection: 1; mode<span style="color:#f92672">=</span>block
</span></span><span style="display:flex;"><span>Set-Cookie: hadoop.auth<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;u=hdfs&amp;p=hdfs&amp;t=simple-dt&amp;e=1760809926682&amp;s=yvOaeaRCVJZ+z+nZQ/rM/Y01pzEmS9Pe2mE9f0b+TWw=&#34;</span>; Path<span style="color:#f92672">=</span>/; HttpOnly
</span></span><span style="display:flex;"><span>Content-Length: <span style="color:#ae81ff">17</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">{</span><span style="color:#e6db74">&#34;boolean&#34;</span>:true<span style="color:#f92672">}</span>
</span></span></code></pre></div><h3 id="upload-a-file">Upload a file</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;hello&#34;</span> &gt;&gt; ./README.txt
</span></span><span style="display:flex;"><span>curl -i -X PUT <span style="color:#e6db74">&#34;http://localhost:14000/webhdfs/v1/volume1/bucket1/user/foo/README.txt?op=CREATE&amp;data=true&amp;user.name=hdfs&#34;</span> -T ./README.txt -H <span style="color:#e6db74">&#34;Content-Type: application/octet-stream&#34;</span> 
</span></span></code></pre></div><p>Example Output:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>HTTP/1.1 <span style="color:#ae81ff">100</span> Continue
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>HTTP/1.1 <span style="color:#ae81ff">201</span> Created
</span></span><span style="display:flex;"><span>Date: Sat, <span style="color:#ae81ff">18</span> Oct <span style="color:#ae81ff">2025</span> 08:33:33 GMT
</span></span><span style="display:flex;"><span>Cache-Control: no-cache
</span></span><span style="display:flex;"><span>Expires: Sat, <span style="color:#ae81ff">18</span> Oct <span style="color:#ae81ff">2025</span> 08:33:33 GMT
</span></span><span style="display:flex;"><span>Pragma: no-cache
</span></span><span style="display:flex;"><span>X-Content-Type-Options: nosniff
</span></span><span style="display:flex;"><span>X-XSS-Protection: 1; mode<span style="color:#f92672">=</span>block
</span></span><span style="display:flex;"><span>Set-Cookie: hadoop.auth<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;u=hdfs&amp;p=hdfs&amp;t=simple-dt&amp;e=1760812413286&amp;s=09t7xKu/p/fjCJiQNL3bvW/Q7mTw28IbeNqDGlslZ6w=&#34;</span>; Path<span style="color:#f92672">=</span>/; HttpOnly
</span></span><span style="display:flex;"><span>Location: http://localhost:14000/webhdfs/v1/volume1/bucket1/user/foo/README.txt
</span></span><span style="display:flex;"><span>Content-Type: application/json
</span></span><span style="display:flex;"><span>Content-Length: <span style="color:#ae81ff">84</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">{</span><span style="color:#e6db74">&#34;Location&#34;</span>:<span style="color:#e6db74">&#34;http://localhost:14000/webhdfs/v1/volume1/bucket1/user/foo/README.txt&#34;</span><span style="color:#f92672">}</span>
</span></span></code></pre></div><h3 id="read-the-file-content">Read the file content</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># returns the content of the key `/user/foo/README.txt`.</span>
</span></span><span style="display:flex;"><span>curl <span style="color:#e6db74">&#39;http://localhost:14000/webhdfs/v1/volume1/bucket1/user/foo/README.txt?op=OPEN&amp;user.name=foo&#39;</span>
</span></span><span style="display:flex;"><span>hello
</span></span></code></pre></div><h2 id="supported-operations">Supported operations</h2>
<p>Here are the tables of WebHDFS REST APIs and their state of support in Ozone.</p>
<h3 id="file-and-directory-operations">File and Directory Operations</h3>
<table>
  <thead>
      <tr>
          <th>Operation</th>
          <th>Support</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Create and Write to a File</td>
          <td>supported</td>
      </tr>
      <tr>
          <td>Append to a File</td>
          <td>not implemented in Ozone</td>
      </tr>
      <tr>
          <td>Concat File(s)</td>
          <td>not implemented in Ozone</td>
      </tr>
      <tr>
          <td>Open and Read a File</td>
          <td>supported</td>
      </tr>
      <tr>
          <td>Make a Directory</td>
          <td>supported</td>
      </tr>
      <tr>
          <td>Create a Symbolic Link</td>
          <td>not implemented in Ozone</td>
      </tr>
      <tr>
          <td>Rename a File/Directory</td>
          <td>supported (with limitations)</td>
      </tr>
      <tr>
          <td>Delete a File/Directory</td>
          <td>supported</td>
      </tr>
      <tr>
          <td>Truncate a File</td>
          <td>not implemented in Ozone</td>
      </tr>
      <tr>
          <td>Status of a File/Directory</td>
          <td>supported</td>
      </tr>
      <tr>
          <td>List a Directory</td>
          <td>supported</td>
      </tr>
      <tr>
          <td>List a File</td>
          <td>supported</td>
      </tr>
      <tr>
          <td>Iteratively List a Directory</td>
          <td>unsupported</td>
      </tr>
  </tbody>
</table>
<h3 id="other-file-system-operations">Other File System Operations</h3>
<table>
  <thead>
      <tr>
          <th>Operation</th>
          <th>Support</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Get Content Summary of a Directory</td>
          <td>supported</td>
      </tr>
      <tr>
          <td>Get Quota Usage of a Directory</td>
          <td>supported</td>
      </tr>
      <tr>
          <td>Set Quota</td>
          <td>not implemented in Ozone FileSystem API</td>
      </tr>
      <tr>
          <td>Set Quota By Storage Type</td>
          <td>not implemented in Ozone</td>
      </tr>
      <tr>
          <td>Get File Checksum</td>
          <td>unsupported (to be fixed)</td>
      </tr>
      <tr>
          <td>Get Home Directory</td>
          <td>unsupported (to be fixed)</td>
      </tr>
      <tr>
          <td>Get Trash Root</td>
          <td>unsupported</td>
      </tr>
      <tr>
          <td>Set Permission</td>
          <td>not implemented in Ozone FileSystem API</td>
      </tr>
      <tr>
          <td>Set Owner</td>
          <td>not implemented in Ozone FileSystem API</td>
      </tr>
      <tr>
          <td>Set Replication Factor</td>
          <td>not implemented in Ozone FileSystem API</td>
      </tr>
      <tr>
          <td>Set Access or Modification Time</td>
          <td>not implemented in Ozone FileSystem API</td>
      </tr>
      <tr>
          <td>Modify ACL Entries</td>
          <td>not implemented in Ozone FileSystem API</td>
      </tr>
      <tr>
          <td>Remove ACL Entries</td>
          <td>not implemented in Ozone FileSystem API</td>
      </tr>
      <tr>
          <td>Remove Default ACL</td>
          <td>not implemented in Ozone FileSystem API</td>
      </tr>
      <tr>
          <td>Remove ACL</td>
          <td>not implemented in Ozone FileSystem API</td>
      </tr>
      <tr>
          <td>Set ACL</td>
          <td>not implemented in Ozone FileSystem API</td>
      </tr>
      <tr>
          <td>Get ACL Status</td>
          <td>not implemented in Ozone FileSystem API</td>
      </tr>
      <tr>
          <td>Check access</td>
          <td>not implemented in Ozone FileSystem API</td>
      </tr>
  </tbody>
</table>
<h2 id="proxy-user-configuration">Proxy User Configuration</h2>
<p>HttpFS supports proxy user (user impersonation) functionality, which allows a user to perform operations on behalf of another user. This is useful when HttpFS is used as a gateway and you want to allow certain users to impersonate other users.</p>
<p>To configure proxy users, you need to add the following properties to <code>httpfs-site.xml</code>.</p>
<h3 id="configuration-properties">Configuration Properties</h3>
<p>For each user that should be allowed to perform impersonation, you need to configure two properties:</p>
<ol>
<li><strong><code>httpfs.proxyuser.#USER#.hosts</code></strong>: List of hosts from which the user is allowed to perform impersonation operations.</li>
<li><strong><code>httpfs.proxyuser.#USER#.groups</code></strong>: List of groups whose users can be impersonated by the specified user.</li>
</ol>
<p>Replace <code>#USER#</code> with the actual username of the user who should be allowed to perform impersonation.</p>
<h3 id="example-configuration">Example Configuration</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;property&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;name&gt;</span>httpfs.proxyuser.knoxuser.hosts<span style="color:#f92672">&lt;/name&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;value&gt;</span>*<span style="color:#f92672">&lt;/value&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;description&gt;</span>
</span></span><span style="display:flex;"><span>    List of hosts the &#39;knoxuser&#39; user is allowed to perform &#39;doAs&#39;
</span></span><span style="display:flex;"><span>    operations.
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    The value can be the &#39;*&#39; wildcard or a comma-separated list of hostnames.
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    For multiple users, copy this property and replace the user name
</span></span><span style="display:flex;"><span>    in the property name.
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;/description&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/property&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;property&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;name&gt;</span>httpfs.proxyuser.knoxuser.groups<span style="color:#f92672">&lt;/name&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;value&gt;</span>*<span style="color:#f92672">&lt;/value&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;description&gt;</span>
</span></span><span style="display:flex;"><span>    List of groups the &#39;knoxuser&#39; user is allowed to impersonate users
</span></span><span style="display:flex;"><span>    from to perform &#39;doAs&#39; operations.
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    The value can be the &#39;*&#39; wildcard or a comma-separated list of group names.
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    For multiple users, copy this property and replace the user name
</span></span><span style="display:flex;"><span>    in the property name.
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;/description&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/property&gt;</span>
</span></span></code></pre></div><p>In this example, the user <code>knoxuser</code> is allowed to impersonate any user from any host. For production environments, it&rsquo;s recommended to restrict these values to specific hosts and groups instead of using the wildcard <code>*</code>.</p>
<h3 id="troubleshooting">Troubleshooting</h3>
<p>If you encounter an error like:</p>
<pre tabindex="0"><code>User: user/host@REALM is not allowed to impersonate user01
</code></pre><p>This indicates that the proxy user configuration is missing or incorrect. Ensure that:</p>
<ol>
<li>The <code>httpfs.proxyuser.#USER#.hosts</code> property is set with appropriate host values</li>
<li>The <code>httpfs.proxyuser.#USER#.groups</code> property is set with appropriate group values</li>
<li>The HttpFS service has been restarted after configuration changes</li>
</ol>
<h2 id="hadoop-user-and-developer-documentation-about-httpfs">Hadoop user and developer documentation about HttpFS</h2>
<ul>
<li>
<p><a href="https://hadoop.apache.org/docs/stable/hadoop-hdfs-httpfs/ServerSetup.html">HttpFS Server Setup</a></p>
</li>
<li>
<p><a href="https://hadoop.apache.org/docs/stable/hadoop-hdfs-httpfs/ServerSetup.html">Using HTTP Tools</a></p>
</li>
</ul>


          
          <a class="btn  btn-success btn-lg" href="../interface/native-cpp.html">Next >></a>
          
          </div>

        </div>
      </div>
    </div>
  </div>
    <div class="push"></div>
  </div>

  

<footer class="footer">
  <div class="container">
    <span class="small text-muted">
      Version: 2.2.0-SNAPSHOT, Last Modified: January 13, 2026 <a class="hide-child link primary-color" href="https://github.com/apache/ozone/commit/643b80abf5a77cbf4bca2e493d0965d466d28b7d">643b80abf5</a>
    </span>
  </div>
</footer>



<script src="../js/jquery-3.5.1.min.js"></script>
<script src="../js/ozonedoc.js"></script>
<script src="../js/bootstrap.min.js"></script>


</body>

</html>