---
title: Release 2.0.0 available
date: 2025-03-26
linked: true
---
<!---
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License. See accompanying LICENSE file.
-->

![Indiana-Dunes-haiku](releases/2.0.0.jpg)

Apache Ozone 2.0.0 adds 1708 new features, improvements and bug fixes on top of Ozone 1.4.


_All notable changes to Apache Ozone are documented in this file. This project adheres to the [Keep a Changelog](https://keepachangelog.com/en/1.0.0/) format and [Semantic Versioning](https://semver.org/)._

## [2.0.0] – 2025-04-04

### Added
- **[HDDS-7593](https://issues.apache.org/jira/browse/HDDS-7593): HSync and Lease Recovery**  
  Added support for HDFS-compatible hsync/hflush on Ozone client output streams, including HDFS-style lease recovery. This enables durable writes (useful for workloads such as HBase and Solr).

- **[HDDS-7852](https://issues.apache.org/jira/browse/HDDS-7852): SCM Decommissioning Support**  
  The Storage Container Manager (SCM) now supports decommissioning in HA mode, allowing administrators to gracefully remove an SCM node from the cluster.

- **[HDDS-11306](https://issues.apache.org/jira/browse/HDDS-11306): OM System Audit Log**  
  Ozone Manager now provides an additional system audit log capturing internal events (e.g. startup, leader changes) to assist with debugging and compliance.

- **[HDDS-10328](https://issues.apache.org/jira/browse/HDDS-10328): Cross-Realm Kerberos Support**  
  Ozone now supports cross-realm Kerberos authentication out-of-the-box with a default principal pattern, easing inter-realm operations for users in multi-realm environments.

- **[HDDS-10984](https://issues.apache.org/jira/browse/HDDS-10984): SCM Certificate Restore Tool**  
  Introduced a CLI tool to recover SCM security certificates from the RocksDB backend, aiding recovery in HA deployments.

- **[HDDS-10605](https://issues.apache.org/jira/browse/HDDS-10605): Crypto Compliance Configurations**  
  Added configuration options to define allowed cryptographic algorithms via whitelists, making it easier to enforce compliance with FIPS or other approved standards.

### Changed
- **[HDDS-10605](https://issues.apache.org/jira/browse/HDDS-10605): Default Crypto Compliance Mode**  
  The default value for `ozone.security.crypto.compliance.mode` has been updated to enforce stricter cryptographic standards by default.

- **[HDDS-10328](https://issues.apache.org/jira/browse/HDDS-10328): Kerberos Principal Pattern Update**  
  Updated the default Kerberos principal pattern for Ozone Manager to better support cross-realm authentication.

- **[HDDS-10770](https://issues.apache.org/jira/browse/HDDS-10770): HSync File Overwrite**  
  Modified behavior so that files which have been hsync’d can now be overwritten, aligning Ozone’s semantics with those of HDFS.

- **[HDDS-10749](https://issues.apache.org/jira/browse/HDDS-10749): DataNode Failure Handling**  
  If a DataNode’s internal Raft server fails, the DataNode will now shut down automatically to preserve cluster consistency.

- **[HDDS-10551](https://issues.apache.org/jira/browse/HDDS-10551): Performance Improvements in Write Path**  
  Optimized the Hadoop FS interface for improved streaming performance, reduced client memory usage through fewer byte array copies, and enabled zero-copy transfers for data replication.

### Deprecated
- **[HDDS-10241](https://issues.apache.org/jira/browse/HDDS-10241): File-Per-Chunk Container Layout**  
  The legacy *FILE_PER_CHUNK* container layout is now deprecated. New containers will not be created using this layout, and support will be removed in a future release. Users should migrate to the chunk-per-block layout.

### Removed
- **[HDDS-10397](https://issues.apache.org/jira/browse/HDDS-10397): Removal of Non-HA OM/SCM Modes**  
  Standalone (non-Ratis) deployment modes for Ozone Manager and SCM have been removed. Clusters upgrading from non-HA setups will be converted to single-node Ratis quorums automatically.

- *Various internal configurations and unused settings (e.g., some Netty-related SCM config keys) have been removed to simplify the overall configuration.*

### Fixed
- **[HDDS-9984](https://issues.apache.org/jira/browse/HDDS-9984): Encryption Regression**  
  Fixed a regression that broke Ozone encryption. Encrypted buckets and keys now function as expected, restoring data-at-rest encryption.

- **[HDDS-10404](https://issues.apache.org/jira/browse/HDDS-10404): S3 Secret Generation Issue**  
  Resolved an issue causing an Internal Server Error during S3 secret generation via the HTTP API. The endpoint now returns proper success or error messages.

- **[HDDS-10404](https://issues.apache.org/jira/browse/HDDS-10404): OM Crash on S3 Secret Handling**  
  Fixed a bug where the Ozone Manager would crash with an NPE during S3 secret processing, ensuring stability when managing S3 credentials.

- **[HDDS-10516](https://issues.apache.org/jira/browse/HDDS-10516): S3 MPU ETag Compatibility**  
  Corrected the ETag calculation for multi-part uploads to better align with AWS S3 expectations, enhancing compatibility with S3 clients.

- **[HDDS-10516](https://issues.apache.org/jira/browse/HDDS-10516): Orphaned Blocks on Overwrite**  
  Fixed an issue where overwriting an existing key could leave orphaned data blocks. The cleanup process has been improved to prevent storage leaks.

- **[HDDS-10551](https://issues.apache.org/jira/browse/HDDS-10551): FSO ListKeys Accuracy**  
  Corrected the ListKeys API for FileSystem Optimized buckets to ensure complete and correct key listings when using key prefixes.

- **[HDDS-10770](https://issues.apache.org/jira/browse/HDDS-10770): Dynamic Config in Secure Clusters**  
  Fixed the `ozone admin reconfig` command in Kerberized clusters so that configuration updates now succeed in secure deployments.

- **[HDDS-10770](https://issues.apache.org/jira/browse/HDDS-10770): Block Allocation in Safe Mode**  
  Improved client behavior when SCM is in safe mode by ensuring block allocation retries instead of failing immediately.

- **[HDDS-10770](https://issues.apache.org/jira/browse/HDDS-10770): SCM Recommission State Transition**  
  Fixed an InvalidStateTransitionException occurring after recommissioning an SCM in HA mode, resulting in smoother state transitions.

- **[HDDS-10984](https://issues.apache.org/jira/browse/HDDS-10984): DataNode Out-of-Memory Prevention**  
  Resolved a memory issue on DataNodes related to excessive mmap allocations, improving overall stability under high load.

- **[HDDS-10551](https://issues.apache.org/jira/browse/HDDS-10551): OM Memory Leak Fix**  
  Plugged a memory leak in the Ozone Manager related to per-client thread-local storage, preventing gradual memory growth.

- **[HDDS-10551](https://issues.apache.org/jira/browse/HDDS-10551): DataNode Block Deletion Leak**  
  Fixed a resource leak in the DataNode delete blocks process that could cause memory buildup under heavy load.

- **[HDDS-10749](https://issues.apache.org/jira/browse/HDDS-10749): Heartbeat Reporting**  
  Corrected an issue that could cause DataNodes to miss heartbeats, ensuring timely container reports and improved cluster reliability.

- **[HDDS-10749](https://issues.apache.org/jira/browse/HDDS-10749): Replication Count Accuracy**  
  Fixed the miscounting of containers on decommissioned DataNodes to avoid false mis-replication alerts.

- **[HDDS-10749](https://issues.apache.org/jira/browse/HDDS-10749): Log Spam on Pipeline Loss**  
  Fixed an infinite-loop bug in SCM that caused excessive logging when pipeline nodes were missing.

- **[HDDS-10770](https://issues.apache.org/jira/browse/HDDS-10770): SetTimes on Linked Buckets**  
  Corrected the behavior of the `ozone fs -setTimes` command on linked buckets so that it now sets access/modification times correctly.

### Security
- **[HDDS-10404](https://issues.apache.org/jira/browse/HDDS-10404): CVE-2024-45106 – S3 Secret Vulnerability**  
  Fixed an authentication flaw in the S3 Gateway that could allow an authenticated Kerberos user to inadvertently trigger S3 secret regeneration. The endpoint is now disabled by default and secured properly.

- **[HDDS-10516](https://issues.apache.org/jira/browse/HDDS-10516): Sticky-Bit Enforcement on Shared `/tmp`**  
  Enforced proper sticky-bit handling on the shared `/tmp` bucket when Ranger authorization is enabled, preventing unauthorized file deletions in world-writable directories.


For more details, check out [Apache Ozone 2.0.0 JIRA list](https://issues.apache.org/jira/projects/HDDS/versions/12353070)

This is a generally available (GA) release.
It represents a point of API stability and quality that we consider production-ready.


Image credit: [Indiana Dunes National Lakeshore, Michigan City, Indiana, USA][image] by [Diego Delso][author], [CC-BY-SA 3.0][cc] / Text added to original

[image]: https://commons.wikimedia.org/wiki/File:Indiana_Dunes_National_Lakeshore,_Michigan_City,_Indiana,_Estados_Unidos,_2012-10-20,_DD_03.jpg
[author]: https://delso.photo/
[cc]: https://creativecommons.org/licenses/by-sa/3.0/
