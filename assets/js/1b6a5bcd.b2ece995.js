"use strict";(self.webpackChunkdoc_site=self.webpackChunkdoc_site||[]).push([[9337],{62392:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>t});var d=r(30758);const i={},s=d.createContext(i);function o(e){const n=d.useContext(s);return d.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),d.createElement(s.Provider,{value:n},e.children)}},98620:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>h,frontMatter:()=>o,metadata:()=>d,toc:()=>l});const d=JSON.parse('{"id":"administrator-guide/operations/dynamic-property-reload","title":"Dynamic Property Reload","description":"Ozone supports dynamic reloading of certain configuration properties without restarting services. This enables operators to tune cluster behavior, adjust limits, and update settings in production without service disruption.","source":"@site/docs/05-administrator-guide/03-operations/13-dynamic-property-reload.md","sourceDirName":"05-administrator-guide/03-operations","slug":"/administrator-guide/operations/dynamic-property-reload","permalink":"/docs/administrator-guide/operations/dynamic-property-reload","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/ozone-site/tree/HDDS-9225-website-v2/docs/05-administrator-guide/03-operations/13-dynamic-property-reload.md","tags":[],"version":"current","sidebarPosition":13,"frontMatter":{"sidebar_label":"Dynamic Property Reload"},"sidebar":"defaultSidebar","previous":{"title":"Trash","permalink":"/docs/administrator-guide/operations/trash"},"next":{"title":"Troubleshooting","permalink":"/docs/troubleshooting/"}}');var i=r(86070),s=r(62392);const o={sidebar_label:"Dynamic Property Reload"},t="Dynamic Property Reload",c={},l=[{value:"Overview",id:"overview",level:2},{value:"Command Reference",id:"command-reference",level:2},{value:"Options",id:"options",level:3},{value:"Operations",id:"operations",level:3},{value:"Reconfigurable Properties",id:"reconfigurable-properties",level:2},{value:"Ozone Manager (OM)",id:"ozone-manager-om",level:3},{value:"Storage Container Manager (SCM)",id:"storage-container-manager-scm",level:3},{value:"Datanode",id:"datanode",level:3},{value:"Usage Examples",id:"usage-examples",level:2},{value:"List Reconfigurable Properties",id:"list-reconfigurable-properties",level:3},{value:"OM Reconfiguration",id:"om-reconfiguration",level:3},{value:"SCM Reconfiguration",id:"scm-reconfiguration",level:3},{value:"Datanode Reconfiguration",id:"datanode-reconfiguration",level:3},{value:"Batch Operations (Datanode Only)",id:"batch-operations-datanode-only",level:3},{value:"Best Practices",id:"best-practices",level:2}];function a(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"dynamic-property-reload",children:"Dynamic Property Reload"})}),"\n",(0,i.jsx)(n.p,{children:"Ozone supports dynamic reloading of certain configuration properties without restarting services. This enables operators to tune cluster behavior, adjust limits, and update settings in production without service disruption."}),"\n",(0,i.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsx)(n.p,{children:"When a property is marked as reconfigurable, you can:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Modify the property value in the configuration file (",(0,i.jsx)(n.code,{children:"ozone-site.xml"}),")"]}),"\n",(0,i.jsx)(n.li,{children:"Invoke the reconfig command to apply the changes to the running service"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"The reconfiguration is performed asynchronously, and you can check the status to verify completion."}),"\n",(0,i.jsx)(n.h2,{id:"command-reference",children:"Command Reference"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"ozone admin reconfig --service=[OM|SCM|DATANODE] --address=<ip:port|hostname:port> <operation>\n"})}),"\n",(0,i.jsx)(n.h3,{id:"options",children:"Options"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Option"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--service"})}),(0,i.jsxs)(n.td,{children:["The service type: ",(0,i.jsx)(n.code,{children:"OM"}),", ",(0,i.jsx)(n.code,{children:"SCM"}),", or ",(0,i.jsx)(n.code,{children:"DATANODE"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--address"})}),(0,i.jsxs)(n.td,{children:["RPC address of the target server (e.g., ",(0,i.jsx)(n.code,{children:"hadoop1:9862"})," or ",(0,i.jsx)(n.code,{children:"192.168.1.10:9862"}),"). Required unless ",(0,i.jsx)(n.code,{children:"--in-service-datanodes"})," is specified."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--in-service-datanodes"})}),(0,i.jsx)(n.td,{children:"(Datanode only) Apply to all IN_SERVICE Datanodes"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"operations",children:"Operations"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Operation"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"start"})}),(0,i.jsx)(n.td,{children:"Execute reconfiguration asynchronously"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"status"})}),(0,i.jsx)(n.td,{children:"Check the status of a reconfiguration task"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"properties"})}),(0,i.jsx)(n.td,{children:"List all reconfigurable properties for the service"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"reconfigurable-properties",children:"Reconfigurable Properties"}),"\n",(0,i.jsx)(n.h3,{id:"ozone-manager-om",children:"Ozone Manager (OM)"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Property"}),(0,i.jsx)(n.th,{children:"Default"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ozone.administrators"})}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"Comma-separated list of Ozone administrators"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ozone.readonly.administrators"})}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"Comma-separated list of read-only administrators"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ozone.om.server.list.max.size"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"1000"})}),(0,i.jsx)(n.td,{children:"Maximum server-side response size for list operations"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ozone.om.volume.listall.allowed"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"true"})}),(0,i.jsx)(n.td,{children:"Allow all users to list all volumes"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ozone.om.follower.read.local.lease.enabled"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"false"})}),(0,i.jsx)(n.td,{children:"Enable local lease for follower read optimization"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ozone.om.follower.read.local.lease.lag.limit"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"10000"})}),(0,i.jsx)(n.td,{children:"Maximum log lag for follower reads"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ozone.om.follower.read.local.lease.time.ms"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"5000"})}),(0,i.jsx)(n.td,{children:"Lease time in milliseconds for follower reads"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ozone.key.deleting.limit.per.task"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"50000"})}),(0,i.jsx)(n.td,{children:"Maximum keys to delete per task"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ozone.directory.deleting.service.interval"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"60s"})}),(0,i.jsx)(n.td,{children:"Directory deletion service run interval"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ozone.thread.number.dir.deletion"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"10"})}),(0,i.jsx)(n.td,{children:"Number of threads for directory deletion"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ozone.snapshot.filtering.service.interval"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"60s"})}),(0,i.jsx)(n.td,{children:"Snapshot SST filtering service run interval"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"storage-container-manager-scm",children:"Storage Container Manager (SCM)"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Property"}),(0,i.jsx)(n.th,{children:"Default"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ozone.administrators"})}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"Comma-separated list of Ozone administrators"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ozone.readonly.administrators"})}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:"Comma-separated list of read-only administrators"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"hdds.scm.block.deletion.per-interval.max"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"500000"})}),(0,i.jsx)(n.td,{children:"Maximum blocks SCM processes per deletion interval"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"hdds.scm.replication.thread.interval"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"300s"})}),(0,i.jsx)(n.td,{children:"Interval for the replication monitor thread"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"hdds.scm.replication.under.replicated.interval"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"30s"})}),(0,i.jsx)(n.td,{children:"Frequency to check the under-replicated queue"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"hdds.scm.replication.over.replicated.interval"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"30s"})}),(0,i.jsx)(n.td,{children:"Frequency to check the over-replicated queue"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"hdds.scm.replication.event.timeout"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"12m"})}),(0,i.jsx)(n.td,{children:"Timeout for replication/deletion commands"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"hdds.scm.replication.event.timeout.datanode.offset"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"6m"})}),(0,i.jsx)(n.td,{children:"Offset subtracted from event timeout for Datanode deadline"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"hdds.scm.replication.maintenance.replica.minimum"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"2"})}),(0,i.jsx)(n.td,{children:"Minimum replicas required for node maintenance"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"hdds.scm.replication.maintenance.remaining.redundancy"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"1"})}),(0,i.jsx)(n.td,{children:"Remaining redundancy required for maintenance (EC)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"hdds.scm.replication.datanode.replication.limit"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"20"})}),(0,i.jsx)(n.td,{children:"Max replication commands queued per Datanode"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"hdds.scm.replication.datanode.reconstruction.weight"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"3"})}),(0,i.jsx)(n.td,{children:"Weight multiplier for reconstruction commands"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"hdds.scm.replication.datanode.delete.container.limit"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"40"})}),(0,i.jsx)(n.td,{children:"Max delete container commands queued per Datanode"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"hdds.scm.replication.inflight.limit.factor"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"0.75"})}),(0,i.jsx)(n.td,{children:"Factor to scale cluster-wide replication limit"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"hdds.scm.replication.container.sample.limit"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"100"})}),(0,i.jsx)(n.td,{children:"Number of containers sampled per state for debugging"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ozone.scm.ec.pipeline.minimum"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"5"})}),(0,i.jsx)(n.td,{children:"Minimum EC pipelines to keep open"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ozone.scm.ec.pipeline.per.volume.factor"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"1"})}),(0,i.jsx)(n.td,{children:"Factor for calculating EC pipelines based on volumes"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"datanode",children:"Datanode"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Property"}),(0,i.jsx)(n.th,{children:"Default"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"hdds.datanode.block.deleting.limit.per.interval"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"20000"})}),(0,i.jsx)(n.td,{children:"Maximum blocks deleted per interval on a Datanode"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"hdds.datanode.block.delete.threads.max"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"5"})}),(0,i.jsx)(n.td,{children:"Maximum threads for block deletion"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ozone.block.deleting.service.workers"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"10"})}),(0,i.jsx)(n.td,{children:"Number of block deletion service workers"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ozone.block.deleting.service.interval"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"60s"})}),(0,i.jsx)(n.td,{children:"Block deletion service run interval"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ozone.block.deleting.service.timeout"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"300s"})}),(0,i.jsx)(n.td,{children:"Block deletion service timeout"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"hdds.datanode.replication.streams.limit"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"10"})}),(0,i.jsx)(n.td,{children:"Maximum replication streams per Datanode"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"usage-examples",children:"Usage Examples"}),"\n",(0,i.jsx)(n.h3,{id:"list-reconfigurable-properties",children:"List Reconfigurable Properties"}),"\n",(0,i.jsx)(n.p,{children:"To view all properties that can be dynamically reconfigured:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"$ ozone admin reconfig --service=OM --address=hadoop1:9862 properties\nOM: Node [hadoop1:9862] Reconfigurable properties:\nozone.administrators\nozone.om.server.list.max.size\nozone.om.volume.listall.allowed\n"})}),"\n",(0,i.jsx)(n.h3,{id:"om-reconfiguration",children:"OM Reconfiguration"}),"\n",(0,i.jsxs)(n.p,{children:["Modify ",(0,i.jsx)(n.code,{children:"ozone.administrators"})," in ",(0,i.jsx)(n.code,{children:"ozone-site.xml"}),", then execute:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'$ ozone admin reconfig --service=OM --address=hadoop1:9862 start\nOM: Started reconfiguration task on node [hadoop1:9862].\n\n$ ozone admin reconfig --service=OM --address=hadoop1:9862 status\nOM: Reconfiguring status for node [hadoop1:9862]: started at Wed Dec 28 19:04:44 CST 2022 and finished at Wed Dec 28 19:04:44 CST 2022.\nSUCCESS: Changed property ozone.administrators\nFrom: "hadoop"\nTo: "hadoop,bigdata"\n'})}),"\n",(0,i.jsx)(n.h3,{id:"scm-reconfiguration",children:"SCM Reconfiguration"}),"\n",(0,i.jsxs)(n.p,{children:["Modify ",(0,i.jsx)(n.code,{children:"ozone.administrators"})," in ",(0,i.jsx)(n.code,{children:"ozone-site.xml"}),", then execute:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'$ ozone admin reconfig --service=SCM --address=hadoop1:9860 start\nSCM: Started reconfiguration task on node [hadoop1:9860].\n\n$ ozone admin reconfig --service=SCM --address=hadoop1:9860 status\nSCM: Reconfiguring status for node [hadoop1:9860]: started at Wed Dec 28 19:04:44 CST 2022 and finished at Wed Dec 28 19:04:44 CST 2022.\nSUCCESS: Changed property ozone.administrators\nFrom: "hadoop"\nTo: "hadoop,bigdata"\n'})}),"\n",(0,i.jsx)(n.h3,{id:"datanode-reconfiguration",children:"Datanode Reconfiguration"}),"\n",(0,i.jsxs)(n.p,{children:["Modify ",(0,i.jsx)(n.code,{children:"hdds.datanode.block.deleting.limit.per.interval"})," in ",(0,i.jsx)(n.code,{children:"ozone-site.xml"}),", then execute:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'$ ozone admin reconfig --service=DATANODE --address=hadoop1:19864 start\nDatanode: Started reconfiguration task on node [hadoop1:19864].\n\n$ ozone admin reconfig --service=DATANODE --address=hadoop1:19864 status\nDatanode: Reconfiguring status for node [hadoop1:19864]: started at Wed Dec 28 19:04:44 CST 2022 and finished at Wed Dec 28 19:04:44 CST 2022.\nSUCCESS: Changed property hdds.datanode.block.deleting.limit.per.interval\nFrom: "20000"\nTo: "30000"\n'})}),"\n",(0,i.jsx)(n.h3,{id:"batch-operations-datanode-only",children:"Batch Operations (Datanode Only)"}),"\n",(0,i.jsx)(n.p,{children:"To perform reconfiguration on all IN_SERVICE Datanodes simultaneously:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"$ ozone admin reconfig --service=DATANODE --in-service-datanodes start\nDatanode: Started reconfiguration task on node [hadoop1:19864].\nDatanode: Started reconfiguration task on node [hadoop2:19864].\nDatanode: Started reconfiguration task on node [hadoop3:19864].\nReconfig successfully 3 nodes, failure 0 nodes.\n"})}),"\n",(0,i.jsx)(n.p,{children:"To list properties across all Datanodes:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"$ ozone admin reconfig --service=DATANODE --in-service-datanodes properties\nDatanode: Node [hadoop1:19864] Reconfigurable properties:\nhdds.datanode.block.deleting.limit.per.interval\nDatanode: Node [hadoop2:19864] Reconfigurable properties:\nhdds.datanode.block.deleting.limit.per.interval\nDatanode: Node [hadoop3:19864] Reconfigurable properties:\nhdds.datanode.block.deleting.limit.per.interval\nReconfig successfully 3 nodes, failure 0 nodes.\n"})}),"\n",(0,i.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Test in non-production first"}),": Always validate configuration changes in a test environment before applying to production."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Change one property at a time"}),": When making multiple changes, apply them incrementally to isolate the impact of each change."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Monitor after changes"}),": Watch cluster metrics and logs after reconfiguration to ensure the changes have the desired effect."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Document changes"}),": Keep a record of configuration changes for troubleshooting and audit purposes."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Use batch operations carefully"}),": When using ",(0,i.jsx)(n.code,{children:"--in-service-datanodes"}),", ensure all nodes should receive the same configuration."]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}}}]);