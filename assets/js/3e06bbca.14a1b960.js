"use strict";(self.webpackChunkdoc_site=self.webpackChunkdoc_site||[]).push([[5409],{43772:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>r,default:()=>d,frontMatter:()=>o,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"core-concepts/namespace/buckets/links","title":"Bucket Links","description":"Bucket linking allows exposing a bucket from one volume (or even another bucket) as if it were in a different location, particularly useful for S3 compatibility or cross-tenant access. This creates a symbolic link-like behavior. For more information, see the S3 Protocol documentation and S3 Multi-Tenancy documentation.","source":"@site/docs/03-core-concepts/03-namespace/02-buckets/07-links.md","sourceDirName":"03-core-concepts/03-namespace/02-buckets","slug":"/core-concepts/namespace/buckets/links","permalink":"/docs/core-concepts/namespace/buckets/links","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/ozone-site/tree/HDDS-9225-website-v2/docs/03-core-concepts/03-namespace/02-buckets/07-links.md","tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"sidebar_label":"Links"},"sidebar":"defaultSidebar","previous":{"title":"Encryption","permalink":"/docs/core-concepts/namespace/buckets/encryption"},"next":{"title":"Snapshots","permalink":"/docs/core-concepts/namespace/buckets/snapshots"}}');var c=t(86070),i=t(62392);const o={sidebar_label:"Links"},r="Bucket Links",a={},l=[{value:"Overview",id:"overview",level:2},{value:"Use Cases",id:"use-cases",level:2},{value:"Creating Bucket Links",id:"creating-bucket-links",level:2},{value:"How Bucket Links Work",id:"how-bucket-links-work",level:2},{value:"Accessing Linked Buckets",id:"accessing-linked-buckets",level:2}];function u(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.header,{children:(0,c.jsx)(n.h1,{id:"bucket-links",children:"Bucket Links"})}),"\n",(0,c.jsxs)(n.p,{children:["Bucket linking allows exposing a bucket from one volume (or even another bucket) as if it were in a different location, particularly useful for S3 compatibility or cross-tenant access. This creates a symbolic link-like behavior. For more information, see the ",(0,c.jsx)(n.a,{href:"/docs/user-guide/client-interfaces/s3",children:"S3 Protocol documentation"})," and ",(0,c.jsx)(n.a,{href:"/docs/administrator-guide/operations/s3-multi-tenancy",children:"S3 Multi-Tenancy documentation"}),"."]}),"\n",(0,c.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,c.jsxs)(n.p,{children:["Ozone has one more element in the namespace hierarchy compared to S3: volumes. By default, all the buckets of the ",(0,c.jsx)(n.code,{children:"/s3v"})," volume can be accessed with the S3 interface, but only the (Ozone) buckets of the ",(0,c.jsx)(n.code,{children:"/s3v"})," volume are exposed."]}),"\n",(0,c.jsx)(n.p,{children:'Bucket linking provides a way to make buckets from any volume accessible through the S3 interface by creating a "symbolic link" to the target bucket.'}),"\n",(0,c.jsx)(n.h2,{id:"use-cases",children:"Use Cases"}),"\n",(0,c.jsx)(n.p,{children:"Bucket links are particularly useful for:"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"S3 Compatibility"}),": Exposing buckets from non-S3 volumes through the S3 interface"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"Cross-Tenant Access"}),": Providing access to buckets across different volumes without data duplication"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"Namespace Organization"}),": Creating logical groupings of buckets without moving data"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"Access Control"}),": Controlling visibility of buckets through different access paths"]}),"\n"]}),"\n",(0,c.jsx)(n.h2,{id:"creating-bucket-links",children:"Creating Bucket Links"}),"\n",(0,c.jsx)(n.p,{children:"To make any bucket available with the S3 interface, create a symbolic linked bucket:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"ozone sh volume create /s3v\nozone sh volume create /vol1\n\nozone sh bucket create /vol1/bucket1\nozone sh bucket link /vol1/bucket1 /s3v/common-bucket\n"})}),"\n",(0,c.jsxs)(n.p,{children:["This example exposes the ",(0,c.jsx)(n.code,{children:"/vol1/bucket1"})," Ozone bucket as an S3 compatible ",(0,c.jsx)(n.code,{children:"common-bucket"})," via the S3 interface."]}),"\n",(0,c.jsx)(n.h2,{id:"how-bucket-links-work",children:"How Bucket Links Work"}),"\n",(0,c.jsx)(n.p,{children:"Bucket links are stored in the database the same way as regular buckets, but with additional information about the source volume and bucket they reference:"}),"\n",(0,c.jsxs)(n.ol,{children:["\n",(0,c.jsxs)(n.li,{children:["The source bucket (e.g., ",(0,c.jsx)(n.code,{children:"/vol1/bucket1"}),") continues to store the actual data"]}),"\n",(0,c.jsxs)(n.li,{children:["The link bucket (e.g., ",(0,c.jsx)(n.code,{children:"/s3v/common-bucket"}),") acts as a symbolic reference"]}),"\n",(0,c.jsx)(n.li,{children:"Key operations (list, get, put, etc.) on the link bucket are transparently redirected to the source bucket"}),"\n",(0,c.jsx)(n.li,{children:"Bucket operations (info, delete, ACL) work on the link object itself"}),"\n",(0,c.jsx)(n.li,{children:"No data is copied or duplicated during the linking process"}),"\n"]}),"\n",(0,c.jsx)(n.h2,{id:"accessing-linked-buckets",children:"Accessing Linked Buckets"}),"\n",(0,c.jsx)(n.p,{children:"Once a bucket link is created, you can access it through the S3 interface just like any other bucket:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"# Set up AWS credentials\nexport AWS_ACCESS_KEY_ID=your-access-key\nexport AWS_SECRET_ACCESS_KEY=your-secret-key\n\n# Access the linked bucket through S3 interface\naws s3api --endpoint http://localhost:9878 list-objects --bucket common-bucket\n"})}),"\n",(0,c.jsxs)(n.p,{children:["For implementation details, refer to the ",(0,c.jsx)(n.a,{href:"https://ozone.apache.org/docs/edge/design/volume-management.html",children:"Volume Management design document"}),"."]})]})}function d(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(u,{...e})}):u(e)}},62392:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>r});var s=t(30758);const c={},i=s.createContext(c);function o(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:o(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);