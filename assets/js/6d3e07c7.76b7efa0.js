"use strict";(self.webpackChunkdoc_site=self.webpackChunkdoc_site||[]).push([[74900],{3961:(e,o,t)=>{t.r(o),t.d(o,{assets:()=>d,contentTitle:()=>s,default:()=>l,frontMatter:()=>r,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"administrator-guide/operations/tools/ozone-debug/debug-om","title":"Debug OM","description":"Debug commands related to OM.","source":"@site/docs/05-administrator-guide/03-operations/11-tools/03-ozone-debug/02-debug-om.md","sourceDirName":"05-administrator-guide/03-operations/11-tools/03-ozone-debug","slug":"/administrator-guide/operations/tools/ozone-debug/debug-om","permalink":"/docs/next/administrator-guide/operations/tools/ozone-debug/debug-om","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/ozone-site/tree/master/docs/05-administrator-guide/03-operations/11-tools/03-ozone-debug/02-debug-om.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{},"sidebar":"defaultSidebar","previous":{"title":"LDB Tool","permalink":"/docs/next/administrator-guide/operations/tools/ozone-debug/ldb-tool"},"next":{"title":"Debug Datanode","permalink":"/docs/next/administrator-guide/operations/tools/ozone-debug/debug-datanode"}}');var a=t(86070),i=t(62392);const r={},s="Debug OM",d={},c=[{value:"generate-compaction-dag",id:"generate-compaction-dag",level:2},{value:"prefix",id:"prefix",level:2}];function u(e){const o={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.header,{children:(0,a.jsx)(o.h1,{id:"debug-om",children:"Debug OM"})}),"\n",(0,a.jsxs)(o.p,{children:["Debug commands related to OM.",(0,a.jsx)(o.br,{}),"\n","It has the following subcommands:"]}),"\n",(0,a.jsx)(o.h2,{id:"generate-compaction-dag",children:"generate-compaction-dag"}),"\n",(0,a.jsx)(o.p,{children:"Creates a DAG image of the current compaction log of an OM.db instance. It is downloaded to the specified location."}),"\n",(0,a.jsx)(o.pre,{children:(0,a.jsx)(o.code,{className:"language-bash",children:'Usage: ozone debug om generate-compaction-dag [-hV] [--verbose] --db=<dbPath>\n       -o=<imageLocation>\nCreate an image of the current compaction log DAG. This command is an offline\ncommand. i.e., it can run on any instance of om.db and does not require OM to\nbe up.\n      --db=<dbPath>   Path to OM RocksDB\n  -h, --help          Show this help message and exit.\n  -o, --output-file=<imageLocation>\n                      Path to location at which image will be downloaded.\n                        Should include the image file name with ".png"\n                        extension.\n  -V, --version       Print version information and exit.\n      --verbose       More verbose output. Show the stack trace of the errors.\n'})}),"\n",(0,a.jsx)(o.h2,{id:"prefix",children:"prefix"}),"\n",(0,a.jsx)(o.p,{children:"Parses the contents of a prefix."}),"\n",(0,a.jsx)(o.pre,{children:(0,a.jsx)(o.code,{className:"language-bash",children:"Usage: ozone debug om prefix [--verbose] --bucket=<bucket> --db=<dbPath>\n                             --path=<filePath> --volume=<volume>\nParse prefix contents\n      --bucket=<bucket>   bucket name\n      --db=<dbPath>       Path to OM RocksDB\n      --path=<filePath>   prefixFile Path\n      --verbose           More verbose output. Show the stack trace of the\n                            errors.\n      --volume=<volume>   volume name\n"})}),"\n",(0,a.jsx)(o.p,{children:(0,a.jsx)(o.a,{href:"/docs/administrator-guide/operations/tools/ozone-debug/debug-datanode",children:"Next >>"})})]})}function l(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,a.jsx)(o,{...e,children:(0,a.jsx)(u,{...e})}):u(e)}},62392:(e,o,t)=>{t.d(o,{R:()=>r,x:()=>s});var n=t(30758);const a={},i=n.createContext(a);function r(e){const o=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function s(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),n.createElement(i.Provider,{value:o},e.children)}}}]);