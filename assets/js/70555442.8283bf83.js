"use strict";(self.webpackChunkdoc_site=self.webpackChunkdoc_site||[]).push([[5509],{62392:(e,t,s)=>{s.d(t,{R:()=>i,x:()=>o});var n=s(30758);const r={},a=n.createContext(r);function i(e){const t=n.useContext(a);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),n.createElement(a.Provider,{value:t},e.children)}},82821:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"user-guide/client-interfaces/s3/s3-api","title":"Overview","description":"Ozone provides S3 compatible REST interface to use the object store data with any S3 compatible tools.","source":"@site/docs/04-user-guide/01-client-interfaces/03-s3/01-s3-api.md","sourceDirName":"04-user-guide/01-client-interfaces/03-s3","slug":"/user-guide/client-interfaces/s3/s3-api","permalink":"/docs/user-guide/client-interfaces/s3/s3-api","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/ozone-site/tree/HDDS-9225-website-v2/docs/04-user-guide/01-client-interfaces/03-s3/01-s3-api.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_label":"Overview"},"sidebar":"defaultSidebar","previous":{"title":"S3 API","permalink":"/docs/user-guide/client-interfaces/s3/"},"next":{"title":"Securing S3","permalink":"/docs/user-guide/client-interfaces/s3/securing-s3"}}');var r=s(86070),a=s(62392);const i={sidebar_label:"Overview"},o="Overview",c={},d=[{value:"Getting started",id:"getting-started",level:2},{value:"URL Schema",id:"url-schema",level:2},{value:"Implemented REST Endpoints",id:"implemented-rest-endpoints",level:2},{value:"Bucket Operations",id:"bucket-operations",level:3},{value:"Object Operations",id:"object-operations",level:3},{value:"Object Tagging Operations",id:"object-tagging-operations",level:3},{value:"Multipart Upload Operations",id:"multipart-upload-operations",level:3},{value:"Additional Operations",id:"additional-operations",level:3},{value:"Security",id:"security",level:2},{value:"Expose any volume",id:"expose-any-volume",level:2},{value:"Clients",id:"clients",level:2},{value:"AWS CLI",id:"aws-cli",level:3},{value:"Compatible third-party applications",id:"compatible-third-party-applications",level:2}];function l(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"overview",children:"Overview"})}),"\n",(0,r.jsxs)(t.p,{children:["Ozone provides S3 compatible REST interface to use the object store data with any S3 compatible tools.\nS3 buckets are stored under the ",(0,r.jsx)(t.code,{children:"/s3v"})," volume."]}),"\n",(0,r.jsx)(t.h2,{id:"getting-started",children:"Getting started"}),"\n",(0,r.jsx)(t.p,{children:"S3 Gateway is a separated component which provides the S3 compatible APIs. It should be started additional to the regular Ozone components.\nYou can start a Docker based cluster, including the S3 Gateway from the release package."}),"\n",(0,r.jsxs)(t.p,{children:["Go to the ",(0,r.jsx)(t.code,{children:"compose/ozone"})," directory, and start the server:"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"docker-compose up -d --scale datanode=3\n"})}),"\n",(0,r.jsxs)(t.p,{children:["You can access the S3 Gateway at ",(0,r.jsx)(t.code,{children:"http://localhost:9878"})]}),"\n",(0,r.jsx)(t.h2,{id:"url-schema",children:"URL Schema"}),"\n",(0,r.jsxs)(t.p,{children:["Ozone S3 Gateway supports both the virtual-host-style URL S3 bucket addresses (eg. ",(0,r.jsx)(t.a,{href:"http://bucketname.host:9878",children:"http://bucketname.host:9878"}),") and the path-style addresses (eg. ",(0,r.jsx)(t.a,{href:"http://host:9878/bucketname",children:"http://host:9878/bucketname"}),")\nBy default it uses the path-style addressing. To use virtual host style URLs set your main domain name in your ",(0,r.jsx)(t.code,{children:"ozone-site.xml"}),":"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-xml",children:"<property>\n   <name>ozone.s3g.domain.name</name>\n   <value>s3g.internal</value>\n</property>\n"})}),"\n",(0,r.jsx)(t.h2,{id:"implemented-rest-endpoints",children:"Implemented REST Endpoints"}),"\n",(0,r.jsx)(t.p,{children:"The Ozone S3 Gateway implements a substantial subset of the Amazon S3 REST API. The tables below summarize each API\u2019s support status, its feature, and any relevant notes, including known deviations from AWS S3 behavior."}),"\n",(0,r.jsx)(t.h3,{id:"bucket-operations",children:"Bucket Operations"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:(0,r.jsx)(t.strong,{children:"API Name"})}),(0,r.jsx)(t.th,{children:(0,r.jsx)(t.strong,{children:"Feature"})}),(0,r.jsx)(t.th,{children:(0,r.jsx)(t.strong,{children:"Note"})})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{children:["\u2705 ",(0,r.jsx)(t.a,{href:"https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListBuckets.html",children:"ListBuckets"})]}),(0,r.jsx)(t.td,{children:"Lists all buckets owned by the authenticated user."}),(0,r.jsx)(t.td,{children:"Returns the full bucket list."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{children:["\u2705 ",(0,r.jsx)(t.a,{href:"https://docs.aws.amazon.com/AmazonS3/latest/API/API_CreateBucket.html",children:"CreateBucket"})]}),(0,r.jsx)(t.td,{children:"Creates a new bucket."}),(0,r.jsxs)(t.td,{children:[(0,r.jsx)(t.strong,{children:"Non-compliant behavior:"})," The default bucket ACL may include extra group permissions instead of being strictly private. Bucket names must adhere to S3 naming conventions."]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{children:["\u2705 ",(0,r.jsx)(t.a,{href:"https://docs.aws.amazon.com/AmazonS3/latest/API/API_HeadBucket.html",children:"HeadBucket"})]}),(0,r.jsx)(t.td,{children:"Checks for the existence of a bucket."}),(0,r.jsx)(t.td,{children:"Returns a 200 status if the bucket exists."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{children:["\u2705 ",(0,r.jsx)(t.a,{href:"https://docs.aws.amazon.com/AmazonS3/latest/API/API_DeleteBucket.html",children:"DeleteBucket"})]}),(0,r.jsx)(t.td,{children:"Deletes a bucket."}),(0,r.jsx)(t.td,{children:"Bucket must be empty before deletion."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{children:["\u2705 ",(0,r.jsx)(t.a,{href:"https://docs.aws.amazon.com/AmazonS3/latest/API/API_GetBucketLocation.html",children:"GetBucketLocation"})]}),(0,r.jsx)(t.td,{children:"Retrieves the location (region) of a bucket."}),(0,r.jsxs)(t.td,{children:["Typically returns a default region (e.g., ",(0,r.jsx)(t.code,{children:"us-east-1"}),"), which may differ from AWS if region-specific responses are expected."]})]})]})]}),"\n",(0,r.jsx)(t.h3,{id:"object-operations",children:"Object Operations"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:(0,r.jsx)(t.strong,{children:"API Name"})}),(0,r.jsx)(t.th,{children:(0,r.jsx)(t.strong,{children:"Feature"})}),(0,r.jsx)(t.th,{children:(0,r.jsx)(t.strong,{children:"Note"})})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{children:["\u2705 ",(0,r.jsx)(t.a,{href:"https://docs.aws.amazon.com/AmazonS3/latest/API/API_GetObject.html",children:"GetObject"})]}),(0,r.jsx)(t.td,{children:"Retrieves the contents of an object."}),(0,r.jsxs)(t.td,{children:[(0,r.jsx)(t.strong,{children:"Non-compliant behavior:"})," For non-existent objects, Ozone may return a generic 404 without the structured XML error body defined by AWS S3."]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{children:["\u2705 ",(0,r.jsx)(t.a,{href:"https://docs.aws.amazon.com/AmazonS3/latest/API/API_HeadObject.html",children:"HeadObject"})]}),(0,r.jsx)(t.td,{children:"Retrieves metadata for an object."}),(0,r.jsx)(t.td,{children:"Similar to GET Object, error responses for missing objects might lack detailed AWS-style error XML."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{children:["\u2705 ",(0,r.jsx)(t.a,{href:"https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutObject.html",children:"PutObject"})]}),(0,r.jsx)(t.td,{children:"Uploads a new object."}),(0,r.jsxs)(t.td,{children:["Supports both single PUT and multipart uploads. ",(0,r.jsx)(t.strong,{children:"Non-compliant behavior:"})," Any ACL headers provided in the request are ignored."]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{children:["\u2705 ",(0,r.jsx)(t.a,{href:"https://docs.aws.amazon.com/AmazonS3/latest/API/API_DeleteObject.html",children:"DeleteObject"})]}),(0,r.jsx)(t.td,{children:"Deletes a single object."}),(0,r.jsx)(t.td,{children:"Returns standard error codes for missing objects."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{children:["\u2705 ",(0,r.jsx)(t.a,{href:"https://docs.aws.amazon.com/AmazonS3/latest/API/API_DeleteObjects.html",children:"DeleteObjects"})]}),(0,r.jsx)(t.td,{children:"Deletes multiple objects in one request."}),(0,r.jsx)(t.td,{children:"Bulk delete operation with aggregated error reporting."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{children:["\u2705 ",(0,r.jsx)(t.a,{href:"https://docs.aws.amazon.com/AmazonS3/latest/API/API_CopyObject.html",children:"CopyObject"})]}),(0,r.jsx)(t.td,{children:"Copies an object (intra- or inter-bucket)."}),(0,r.jsxs)(t.td,{children:["Supports metadata directives (COPY/REPLACE). ",(0,r.jsx)(t.strong,{children:"Non-compliant behavior:"})," Self-copying for metadata updates may differ slightly from AWS S3."]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{children:["\u2705 ",(0,r.jsx)(t.a,{href:"https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListObjectsV2.html",children:"ListObjectsV2"})]}),(0,r.jsx)(t.td,{children:"Lists objects in a bucket with filtering and pagination."}),(0,r.jsx)(t.td,{children:"Supports prefix, delimiter, and continuation tokens."})]})]})]}),"\n",(0,r.jsx)(t.h3,{id:"object-tagging-operations",children:"Object Tagging Operations"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:(0,r.jsx)(t.strong,{children:"API Name"})}),(0,r.jsx)(t.th,{children:(0,r.jsx)(t.strong,{children:"Feature"})}),(0,r.jsx)(t.th,{children:(0,r.jsx)(t.strong,{children:"Note"})})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{children:["\u2705 ",(0,r.jsx)(t.a,{href:"https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutObjectTagging.html",children:"PutObjectTagging"})]}),(0,r.jsx)(t.td,{children:"Adds or updates tags on an object."}),(0,r.jsx)(t.td,{children:"Fully supported; updates replace any existing tag set."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{children:["\u2705 ",(0,r.jsx)(t.a,{href:"https://docs.aws.amazon.com/AmazonS3/latest/API/API_GetObjectTagging.html",children:"GetObjectTagging"})]}),(0,r.jsx)(t.td,{children:"Retrieves the tag set of an object."}),(0,r.jsx)(t.td,{children:"Returns the tag set as defined by the S3 API."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{children:["\u2705 ",(0,r.jsx)(t.a,{href:"https://docs.aws.amazon.com/AmazonS3/latest/API/API_DeleteObjectTagging.html",children:"DeleteObjectTagging"})]}),(0,r.jsx)(t.td,{children:"Removes the tag set from an object."}),(0,r.jsx)(t.td,{children:"Clears all tags associated with the object."})]})]})]}),"\n",(0,r.jsx)(t.h3,{id:"multipart-upload-operations",children:"Multipart Upload Operations"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:(0,r.jsx)(t.strong,{children:"API Name"})}),(0,r.jsx)(t.th,{children:(0,r.jsx)(t.strong,{children:"Feature"})}),(0,r.jsx)(t.th,{children:(0,r.jsx)(t.strong,{children:"Note"})})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{children:["\u2705 ",(0,r.jsx)(t.a,{href:"https://docs.aws.amazon.com/AmazonS3/latest/API/API_CreateMultipartUpload.html",children:"CreateMultipartUpload"})]}),(0,r.jsx)(t.td,{children:"Starts a multipart upload session."}),(0,r.jsx)(t.td,{children:"Returns an UploadId for subsequent parts."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{children:["\u2705 ",(0,r.jsx)(t.a,{href:"https://docs.aws.amazon.com/AmazonS3/latest/API/API_UploadPart.html",children:"UploadPart"})]}),(0,r.jsx)(t.td,{children:"Uploads an individual part for a multipart upload."}),(0,r.jsx)(t.td,{children:"Part numbering and ETag computation follow AWS semantics."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{children:["\u2705 ",(0,r.jsx)(t.a,{href:"https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListMultipartUploads.html",children:"ListMultipartUploads"})]}),(0,r.jsx)(t.td,{children:"Lists in-progress multipart uploads in a bucket."}),(0,r.jsx)(t.td,{children:"Up to 1000 multipart uploads are returned in a batch by default."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{children:["\u2705 ",(0,r.jsx)(t.a,{href:"https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListParts.html",children:"ListParts"})]}),(0,r.jsx)(t.td,{children:"Lists uploaded parts for an in-progress multipart upload."}),(0,r.jsx)(t.td,{children:"Supports pagination if many parts exist."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{children:["\u2705 ",(0,r.jsx)(t.a,{href:"https://docs.aws.amazon.com/AmazonS3/latest/API/API_CompleteMultipartUpload.html",children:"CompleteMultipartUpload"})]}),(0,r.jsx)(t.td,{children:"Assembles all uploaded parts into a final object."}),(0,r.jsx)(t.td,{children:"Returns an ETag that follows AWS multipart rules."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{children:["\u2705 ",(0,r.jsx)(t.a,{href:"https://docs.aws.amazon.com/AmazonS3/latest/API/API_AbortMultipartUpload.html",children:"AbortMultipartUpload"})]}),(0,r.jsx)(t.td,{children:"Aborts an in-progress multipart upload."}),(0,r.jsx)(t.td,{children:"Frees up storage used by uploaded parts. Incomplete multipart uploads older than 7 days are automatically aborted by Ozone."})]})]})]}),"\n",(0,r.jsx)(t.h3,{id:"additional-operations",children:"Additional Operations"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:(0,r.jsx)(t.strong,{children:"API Name"})}),(0,r.jsx)(t.th,{children:(0,r.jsx)(t.strong,{children:"Feature"})}),(0,r.jsx)(t.th,{children:(0,r.jsx)(t.strong,{children:"Note"})})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"\u2705 Generate Presigned URL"}),(0,r.jsx)(t.td,{children:"Generates a temporary URL for accessing an object."}),(0,r.jsxs)(t.td,{children:["Uses AWS Signature V4. ",(0,r.jsx)(t.strong,{children:"Non-compliant behavior:"})," The generated URL may include a fixed default region rather than dynamically reflecting the bucket\u2019s location. Ozone now supports generating presigned URLs for all major S3 operations, including ",(0,r.jsx)(t.code,{children:"GetObject"}),", ",(0,r.jsx)(t.code,{children:"PutObject"}),", ",(0,r.jsx)(t.code,{children:"DeleteObject"}),", ",(0,r.jsx)(t.code,{children:"HeadObject"}),", ",(0,r.jsx)(t.code,{children:"HeadBucket"}),", ",(0,r.jsx)(t.code,{children:"MultipartUpload"}),"."]})]})})]}),"\n",(0,r.jsx)(t.admonition,{title:"Additional Notes",type:"note",children:(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Advanced Features Not Supported:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"ACLs, Bucket Policies, CORS Configuration, and Website Hosting:"})," These are not fully implemented; Ozone uses an internal permission model that deviates from AWS S3."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Bucket Versioning, Object Locking, Server-Side Encryption, and S3 Select:"})," These features are currently not supported."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Conditional Requests:"})," Support for conditional requests (e.g., ",(0,r.jsx)(t.code,{children:"If-Match"}),", ",(0,r.jsx)(t.code,{children:"If-None-Match"}),") is planned and tracked in ",(0,r.jsx)(t.a,{href:"https://issues.apache.org/jira/browse/HDDS-13117",children:"HDDS-13117"}),"."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Lifecycle configuration, cross region replication, S3 event notifications"})," are being implemented and in the roadmap."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(t.li,{children:"While Ozone S3 Gateway provides extensive support for common S3 operations, users should be aware of the above non-compliant behaviors and limitations when integrating with applications expecting full AWS S3 functionality."}),"\n",(0,r.jsxs)(t.li,{children:["While Ozone S3 Gateway does not support S3 Server-Side Encryption, it does support encrypted buckets using Apache Ranger KMS. For more information, see the ",(0,r.jsx)(t.a,{href:"/docs/administrator-guide/configuration/security/encryption/transparent-data-encryption",children:"Transparent Data Encryption"})," documentation."]}),"\n"]})}),"\n",(0,r.jsx)(t.h2,{id:"security",children:"Security"}),"\n",(0,r.jsxs)(t.p,{children:["If security is not enabled, you can ",(0,r.jsx)(t.em,{children:"use"})," ",(0,r.jsx)(t.strong,{children:"any"})," AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY"]}),"\n",(0,r.jsxs)(t.p,{children:["If security is enabled, you can get the key and the secret with the ",(0,r.jsx)(t.code,{children:"ozone s3 getsecret"})," command (*Kerberos based authentication is required)."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"kinit -kt /etc/security/keytabs/testuser.keytab testuser/scm@EXAMPLE.COM\nozone s3 getsecret\nawsAccessKey=testuser/scm@EXAMPLE.COM\nawsSecret=c261b6ecabf7d37d5f9ded654b1c724adac9bd9f13e247a235e567e8296d2999\n"})}),"\n",(0,r.jsx)(t.admonition,{type:"note",children:(0,r.jsxs)(t.p,{children:["Starting in Ozone 1.4.0, the secret will be ",(0,r.jsx)(t.strong,{children:"shown only once"})," when generated with ",(0,r.jsx)(t.code,{children:"getsecret"}),". If the secret is lost, the user would have to ",(0,r.jsx)(t.code,{children:"revokesecret"})," first before regenerating a new secret with ",(0,r.jsx)(t.code,{children:"getsecret"}),"."]})}),"\n",(0,r.jsx)(t.p,{children:"Now, you can use the key and the secret to access the S3 endpoint:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"export AWS_ACCESS_KEY_ID=testuser/scm@EXAMPLE.COM\nexport AWS_SECRET_ACCESS_KEY=c261b6ecabf7d37d5f9ded654b1c724adac9bd9f13e247a235e567e8296d2999\naws s3api --endpoint http://localhost:9878 create-bucket --bucket bucket1\n"})}),"\n",(0,r.jsxs)(t.p,{children:["To invalidate/revoke the secret, use ",(0,r.jsx)(t.code,{children:"ozone s3 revokesecret"})," command. Parameter '-y' can be appended to skip the interactive confirmation."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"ozone s3 revokesecret\nEnter 'y' to confirm S3 secret revocation for 'testuser/scm@EXAMPLE.COM': y\nS3 secret revoked.\n"})}),"\n",(0,r.jsxs)(t.p,{children:["Ozone Manager administrators can run ",(0,r.jsx)(t.code,{children:"ozone s3 getsecret"})," and ",(0,r.jsx)(t.code,{children:"ozone s3 revokesecret"})," command with ",(0,r.jsx)(t.code,{children:"-u"})," parameter to specify another users."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"# Obtained Kerberos TGT for testuser/scm@EXAMPLE.COM with kinit,\n# testuser/scm@EXAMPLE.COM is an OM admin.\nozone s3 getsecret -u om/om@EXAMPLE.COM\nawsAccessKey=om/om@EXAMPLE.COM\nawsSecret=1e9379d0424cce6669b1a501ff14834e46dee004ee868b41a313b49eabcfb68f\n\nozone s3 revokesecret -u om/om@EXAMPLE.COM -y\nS3 secret revoked.\n"})}),"\n",(0,r.jsx)(t.h2,{id:"expose-any-volume",children:"Expose any volume"}),"\n",(0,r.jsxs)(t.p,{children:["Ozone has one more element in the name-space hierarchy compared to S3: the volumes. By default, all the buckets of the ",(0,r.jsx)(t.code,{children:"/s3v"})," volume can be accessed with S3 interface but only the (Ozone) buckets of the ",(0,r.jsx)(t.code,{children:"/s3v"})," volumes are exposed."]}),"\n",(0,r.jsx)(t.p,{children:'To make any other buckets available with the S3 interface a "symbolic linked" bucket can be created:'}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"ozone sh volume create /s3v\nozone sh volume create /vol1\n\nozone sh bucket create /vol1/bucket1\nozone sh bucket link /vol1/bucket1 /s3v/common-bucket\n"})}),"\n",(0,r.jsxs)(t.p,{children:["This example expose the ",(0,r.jsx)(t.code,{children:"/vol1/bucket1"})," Ozone bucket as an S3 compatible ",(0,r.jsx)(t.code,{children:"common-bucket"})," via the S3 interface."]}),"\n",(0,r.jsx)(t.admonition,{type:"note",children:(0,r.jsxs)(t.p,{children:["The implementation details of the bucket-linking feature can be found in the ",(0,r.jsx)(t.a,{href:"https://ozone.apache.org/docs/edge/design/volume-management.html",children:"design doc"}),"."]})}),"\n",(0,r.jsx)(t.h2,{id:"clients",children:"Clients"}),"\n",(0,r.jsx)(t.h3,{id:"aws-cli",children:"AWS CLI"}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"aws"})," CLI could be used by specifying the custom REST endpoint."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"aws s3api --endpoint http://localhost:9878 create-bucket --bucket buckettest\n"})}),"\n",(0,r.jsx)(t.p,{children:"Or"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"aws s3 ls --endpoint http://localhost:9878 s3://buckettest\n"})}),"\n",(0,r.jsx)(t.h2,{id:"compatible-third-party-applications",children:"Compatible third-party applications"}),"\n",(0,r.jsx)(t.p,{children:"Ozone's S3 Gateway enables integration with a wide range of cloud-native and analytics applications. Here are some examples of tools and platforms known to work with Ozone (in alphabetical order):"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://clickhouse.com/docs/en/integrations/s3",children:"Clickhouse"})}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.a,{href:"https://docs.fluentd.org/output/s3",children:"Fluentd"})," can send logs directly to Ozone via the S3 Gateway."]}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://juicefs.com/docs/community/s3_gateway/",children:"JuiceFS"})}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.a,{href:"https://docs.starburst.io/latest/connector/starburst-ozone.html",children:"Starburst"})," (Starburst also supports Ozone ",(0,r.jsx)(t.code,{children:"ofs://"}),")"]}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://docs.teradata.com/r/Enterprise_IntelliFlex_VMware/Teradata-VantageTM-Native-Object-Store-Getting-Started-Guide-17.20",children:"Teradata NOS"})}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.a,{href:"https://cyberduck.io/",children:"CyberDuck"})," See the ",(0,r.jsx)(t.a,{href:"https://ozone.apache.org/docs/edge/interface/cyberduckozones3.html",children:"tutorial page"})]}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:"This list is not exhaustive\u2014any application that supports the S3 protocol can potentially connect to Ozone, making it easy to adopt Ozone in modern data pipelines and cloud-native workflows."})]})}function h(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}}}]);