"use strict";(self.webpackChunkdoc_site=self.webpackChunkdoc_site||[]).push([[1090],{62392:(e,r,a)=>{a.d(r,{R:()=>s,x:()=>i});var n=a(30758);const t={},o=n.createContext(t);function s(e){const r=n.useContext(o);return n.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function i(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),n.createElement(o.Provider,{value:r},e.children)}},90932:(e,r,a)=>{a.r(r),a.d(r,{assets:()=>d,contentTitle:()=>i,default:()=>h,frontMatter:()=>s,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"administrator-guide/operations/leader-transfer/storage-container-manager","title":"Storage Container Manager Leader Transfer","description":"The ozone admin scm transfer command allows you to manually transfer the leadership of the Storage Container Manager (SCM) Raft group to a specific SCM node or to a randomly chosen follower.","source":"@site/docs/05-administrator-guide/03-operations/10-leader-transfer/02-storage-container-manager.md","sourceDirName":"05-administrator-guide/03-operations/10-leader-transfer","slug":"/administrator-guide/operations/leader-transfer/storage-container-manager","permalink":"/docs/administrator-guide/operations/leader-transfer/storage-container-manager","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/ozone-site/tree/HDDS-9225-website-v2/docs/05-administrator-guide/03-operations/10-leader-transfer/02-storage-container-manager.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_label":"Storage Container Manager"},"sidebar":"defaultSidebar","previous":{"title":"Ozone Manager","permalink":"/docs/administrator-guide/operations/leader-transfer/ozone-manager"},"next":{"title":"Quota in Ozone","permalink":"/docs/administrator-guide/operations/quota"}}');var t=a(86070),o=a(62392);const s={sidebar_label:"Storage Container Manager"},i="Storage Container Manager Leader Transfer",d={},c=[{value:"Usage",id:"usage",level:2},{value:"Example",id:"example",level:2}];function l(e){const r={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.header,{children:(0,t.jsx)(r.h1,{id:"storage-container-manager-leader-transfer",children:"Storage Container Manager Leader Transfer"})}),"\n",(0,t.jsxs)(r.p,{children:["The ",(0,t.jsx)(r.code,{children:"ozone admin scm transfer"})," command allows you to manually transfer the leadership of the Storage Container Manager (SCM) Raft group to a specific SCM node or to a randomly chosen follower."]}),"\n",(0,t.jsx)(r.p,{children:"Be aware of the node's status(eg. Safemode, Operational status), Ozone currently has no ability to check the target node's status before transferring the leadership."}),"\n",(0,t.jsx)(r.h2,{id:"usage",children:"Usage"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-bash",children:"ozone admin scm transfer -id <SCM_SERVICE_ID> -n <NEW_LEADER_ID>\nozone admin scm transfer -id <SCM_SERVICE_ID> -r\n"})}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.code,{children:"-id, --service-id"}),": Specifies the SCM Service ID."]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.code,{children:"-n, --newLeaderId, --new-leader-id"}),": The SCM UUID (Raft peer ID) of the SCM to which leadership will be transferred (e.g., ",(0,t.jsx)(r.code,{children:"e6877ce5-56cd-4f0b-ad60-4c8ef9000882"}),")."]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.code,{children:"-r, --random"}),": Randomly chooses a follower to transfer leadership to."]}),"\n"]}),"\n",(0,t.jsx)(r.h2,{id:"example",children:"Example"}),"\n",(0,t.jsxs)(r.p,{children:["To transfer leadership to a specific SCM in a cluster with service ID ",(0,t.jsx)(r.code,{children:"cluster1"}),":"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-bash",children:"ozone admin scm transfer -id cluster1 -n e6877ce5-56cd-4f0b-ad60-4c8ef9000882\n"})}),"\n",(0,t.jsx)(r.p,{children:"To transfer leadership to a random follower:"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-bash",children:"ozone admin scm transfer -id cluster1 -r\n"})})]})}function h(e={}){const{wrapper:r}={...(0,o.R)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}}}]);