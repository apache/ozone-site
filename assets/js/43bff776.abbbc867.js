"use strict";(self.webpackChunkdoc_site=self.webpackChunkdoc_site||[]).push([[3262],{53684:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"core-concepts/namespace/buckets/overview","title":"Buckets Overview","description":"What is a Bucket?","source":"@site/docs/03-core-concepts/03-namespace/02-buckets/01-overview.md","sourceDirName":"03-core-concepts/03-namespace/02-buckets","slug":"/core-concepts/namespace/buckets/overview","permalink":"/docs/core-concepts/namespace/buckets/overview","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/ozone-site/tree/HDDS-9225-website-v2/docs/03-core-concepts/03-namespace/02-buckets/01-overview.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_label":"Overview"},"sidebar":"defaultSidebar","previous":{"title":"Buckets","permalink":"/docs/core-concepts/namespace/buckets/"},"next":{"title":"Owners","permalink":"/docs/core-concepts/namespace/buckets/owners"}}');var i=t(86070),o=t(62392);const r={sidebar_label:"Overview"},c="Buckets Overview",a={},l=[{value:"What is a Bucket?",id:"what-is-a-bucket",level:2},{value:"Details",id:"details",level:2},{value:"Creation and Management",id:"creation-and-management",level:3},{value:"Bucket Layouts (Object Store vs. File System Optimized)",id:"bucket-layouts-object-store-vs-file-system-optimized",level:3},{value:"Erasure Coding",id:"erasure-coding",level:3},{value:"Snapshots",id:"snapshots",level:3},{value:"GDPR Compliance",id:"gdpr-compliance",level:3},{value:"Bucket Linking",id:"bucket-linking",level:3},{value:"Access Control Lists (ACLs)",id:"access-control-lists-acls",level:3}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"buckets-overview",children:"Buckets Overview"})}),"\n",(0,i.jsx)(n.h2,{id:"what-is-a-bucket",children:"What is a Bucket?"}),"\n",(0,i.jsxs)(n.p,{children:["A ",(0,i.jsx)(n.strong,{children:"Bucket"})," is the second level in the Ozone data hierarchy, residing within a volume. Buckets are analogous to directories or folders in a traditional file system.\nThey serve as containers for keys (data objects)."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Key Characteristics:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Contained within Volumes:"})," Every bucket must belong to a volume."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Container for Keys:"})," A bucket can contain any number of keys."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"No Nested Buckets:"})," Unlike directories, buckets cannot contain other buckets."]}),"\n"]}),"\n",(0,i.jsxs)(n.admonition,{title:"Volume/Bucket Naming Convention",type:"note",children:[(0,i.jsx)(n.p,{children:"To maintain S3 compatibility, Ozone volume and bucket name follows S3 naming convention."}),(0,i.jsx)(n.p,{children:"This means volume/bucket names in Ozone:"}),(0,i.jsx)(n.p,{children:"Allowed Characters and Length:"}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Allowed characters: Lowercase letters (a-z), numbers (0-9), dots (.), and hyphens (-)"}),"\n",(0,i.jsx)(n.li,{children:"Length: Must be between 3 and 63 characters long"}),"\n",(0,i.jsx)(n.li,{children:"Start and End: Must begin and end with a letter or a number"}),"\n"]}),(0,i.jsx)(n.p,{children:"Prohibitions:"}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Cannot contain uppercase letters or underscores (_)"}),"\n",(0,i.jsx)(n.li,{children:"Cannot be formatted as an IP address (e.g., 192.168.5.4)"}),"\n",(0,i.jsx)(n.li,{children:"Cannot have consecutive periods (e.g., my..bucket) or have dashes adjacent to periods (e.g., my-.bucket)"}),"\n",(0,i.jsx)(n.li,{children:"Cannot end with a dash"}),"\n"]}),(0,i.jsx)(n.p,{children:"This can cause trouble when migrating HDFS workloads to Ozone, since HDFS path names are POSIX-compliant."}),(0,i.jsxs)(n.p,{children:["To relax the compliance check, configure the property ",(0,i.jsx)(n.code,{children:"ozone.om.namespace.s3.strict"})," to ",(0,i.jsx)(n.code,{children:"false"})," in the ",(0,i.jsx)(n.code,{children:"ozone-site.xml"})," of Ozone Manager."]})]}),"\n",(0,i.jsx)(n.h2,{id:"details",children:"Details"}),"\n",(0,i.jsx)(n.h3,{id:"creation-and-management",children:"Creation and Management"}),"\n",(0,i.jsx)(n.p,{children:"Buckets are created within a specified volume."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ozone sh bucket create /myvolume/mybucket\n"})}),"\n",(0,i.jsxs)(n.p,{children:["For more details on bucket operations, refer to the ",(0,i.jsx)(n.a,{href:"/docs/user-guide/client-interfaces/o3#bucket-operations",children:"Ozone CLI documentation"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"bucket-layouts-object-store-vs-file-system-optimized",children:"Bucket Layouts (Object Store vs. File System Optimized)"}),"\n",(0,i.jsx)(n.p,{children:"Ozone supports different bucket layouts, primarily:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Object Store (OBS):"})," The traditional object storage layout, where keys are stored with their full path names. This is suitable for S3-like access patterns.\nFor more details, refer to the ",(0,i.jsx)(n.a,{href:"/docs/core-concepts/namespace/buckets/layouts/object-store",children:"Object Store documentation"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"File System Optimized (FSO):"})," An optimized layout for Hadoop Compatible File System (HCFS) semantics, where intermediate directories are stored separately, improving performance for file system operations like listing and renaming.\nFor more details, refer to the ",(0,i.jsx)(n.a,{href:"/docs/core-concepts/namespace/buckets/layouts/file-system-optimized",children:"Prefix FSO documentation"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"erasure-coding",children:"Erasure Coding"}),"\n",(0,i.jsxs)(n.p,{children:["Erasure Coding (EC) can be enabled at the bucket level to define data redundancy strategies. This allows for more efficient storage compared to replication, especially for large datasets.\nFor more information, see the ",(0,i.jsx)(n.a,{href:"/docs/core-concepts/replication/erasure-coding",children:"Erasure Coding documentation"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"snapshots",children:"Snapshots"}),"\n",(0,i.jsxs)(n.p,{children:["Ozone's snapshot feature allows users to take point-in-time consistent images of a given bucket. These snapshots are immutable and can be used for backup, recovery, archival, and incremental replication purposes.\nFor more details, refer to the ",(0,i.jsx)(n.a,{href:"/docs/core-concepts/namespace/buckets/snapshots",children:"Ozone Snapshot documentation"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"gdpr-compliance",children:"GDPR Compliance"}),"\n",(0,i.jsxs)(n.p,{children:['Ozone provides features to support GDPR compliance, particularly the "right to be forgotten." When a GDPR-compliant bucket is created, encryption keys for deleted data are immediately removed, making the data unreadable even if the underlying blocks haven\'t been physically purged yet.\nFor more details, refer to the ',(0,i.jsx)(n.a,{href:"https://ozone.apache.org/docs/edge/security/gdpr.html",children:"GDPR documentation"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"bucket-linking",children:"Bucket Linking"}),"\n",(0,i.jsxs)(n.p,{children:["Bucket linking allows exposing a bucket from one volume (or even another bucket) as if it were in a different location, particularly useful for S3 compatibility or cross-tenant access. This creates a symbolic link-like behavior.\nFor more information, see the ",(0,i.jsx)(n.a,{href:"/docs/core-concepts/namespace/buckets/links",children:"Bucket Links documentation"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"access-control-lists-acls",children:"Access Control Lists (ACLs)"}),"\n",(0,i.jsxs)(n.p,{children:["ACLs define permissions for buckets, controlling who can list keys, read/write data, or delete the bucket.\nFor more details, refer to the ",(0,i.jsx)(n.a,{href:"/docs/core-concepts/security/acls/native-acls",children:"Security ACLs documentation"}),"."]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},62392:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>c});var s=t(30758);const i={},o=s.createContext(i);function r(e){const n=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);