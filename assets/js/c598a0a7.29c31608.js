"use strict";(self.webpackChunkdoc_site=self.webpackChunkdoc_site||[]).push([[3547],{62392:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>r});var o=s(30758);const t={},a=o.createContext(t);function i(e){const n=o.useContext(a);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),o.createElement(a.Provider,{value:n},e.children)}},63186:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>i,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"core-concepts/namespace/volumes/overview","title":"Volumes Overview","description":"What is a Volume?","source":"@site/docs/03-core-concepts/03-namespace/01-volumes/01-overview.md","sourceDirName":"03-core-concepts/03-namespace/01-volumes","slug":"/core-concepts/namespace/volumes/overview","permalink":"/docs/core-concepts/namespace/volumes/overview","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/ozone-site/tree/HDDS-9225-website-v2/docs/03-core-concepts/03-namespace/01-volumes/01-overview.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_label":"Overview"},"sidebar":"defaultSidebar","previous":{"title":"Volumes","permalink":"/docs/core-concepts/namespace/volumes/"},"next":{"title":"Owners","permalink":"/docs/core-concepts/namespace/volumes/owners"}}');var t=s(86070),a=s(62392);const i={sidebar_label:"Overview"},r="Volumes Overview",l={},c=[{value:"What is a Volume?",id:"what-is-a-volume",level:2},{value:"Details",id:"details",level:2},{value:"Creation and Management",id:"creation-and-management",level:3},{value:"Quota Management",id:"quota-management",level:3},{value:"Access Control Lists (ACLs)",id:"access-control-lists-acls",level:3},{value:"S3 Gateway Integration (<code>/s3v</code> Volume)",id:"s3-gateway-integration-s3v-volume",level:3},{value:"Datanode Physical Volumes vs. Ozone Manager Logical Volumes",id:"datanode-physical-volumes-vs-ozone-manager-logical-volumes",level:3}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"volumes-overview",children:"Volumes Overview"})}),"\n",(0,t.jsx)(n.h2,{id:"what-is-a-volume",children:"What is a Volume?"}),"\n",(0,t.jsxs)(n.p,{children:["A ",(0,t.jsx)(n.strong,{children:"Volume"})," in Ozone is the highest level of the namespace hierarchy. It serves as a logical container for one or more buckets. Conceptually, a volume can be thought of as a user's home directory or a project space, providing a clear separation of data ownership and management."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Key Characteristics:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Administrative Control:"})," Only administrators can create or delete volumes. This ensures proper resource allocation and access control at the highest level."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Storage Accounting:"})," Volumes are used as the basis for storage accounting, allowing administrators to track resource usage per volume."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Container for Buckets:"})," A volume can contain any number of buckets."]}),"\n"]}),"\n",(0,t.jsxs)(n.admonition,{title:"Volume/Bucket Naming Convention",type:"note",children:[(0,t.jsx)(n.p,{children:"To maintain S3 compatibility, Ozone volume and bucket name follows S3 naming convention."}),(0,t.jsx)(n.p,{children:"This means volume/bucket names in Ozone:"}),(0,t.jsx)(n.p,{children:"Allowed Characters and Length:"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Allowed characters: Lowercase letters (a-z), numbers (0-9), dots (.), and hyphens (-)"}),"\n",(0,t.jsx)(n.li,{children:"Length: Must be between 3 and 63 characters long"}),"\n",(0,t.jsx)(n.li,{children:"Start and End: Must begin and end with a letter or a number"}),"\n"]}),(0,t.jsx)(n.p,{children:"Prohibitions:"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Cannot contain uppercase letters or underscores (_)"}),"\n",(0,t.jsx)(n.li,{children:"Cannot be formatted as an IP address (e.g., 192.168.5.4)"}),"\n",(0,t.jsx)(n.li,{children:"Cannot have consecutive periods (e.g., my..bucket) or have dashes adjacent to periods (e.g., my-.bucket)"}),"\n",(0,t.jsx)(n.li,{children:"Cannot end with a dash"}),"\n"]}),(0,t.jsx)(n.p,{children:"This can cause trouble when migrating HDFS workloads to Ozone, since HDFS path names are POSIX-compliant."}),(0,t.jsxs)(n.p,{children:["To relax the compliance check, configure the property ",(0,t.jsx)(n.code,{children:"ozone.om.namespace.s3.strict"})," to ",(0,t.jsx)(n.code,{children:"false"})," in the ",(0,t.jsx)(n.code,{children:"ozone-site.xml"})," of Ozone Manager."]})]}),"\n",(0,t.jsx)(n.h2,{id:"details",children:"Details"}),"\n",(0,t.jsx)(n.h3,{id:"creation-and-management",children:"Creation and Management"}),"\n",(0,t.jsx)(n.p,{children:"Volumes are typically created and managed using the Ozone command-line interface (CLI). For example:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"ozone sh volume create /myvolume\n"})}),"\n",(0,t.jsxs)(n.p,{children:["For more details on volume operations, refer to the ",(0,t.jsx)(n.a,{href:"/docs/user-guide/client-interfaces/o3#volume-operations",children:"Ozone CLI documentation"}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"quota-management",children:"Quota Management"}),"\n",(0,t.jsx)(n.p,{children:"Volumes can have quotas applied to them, limiting the total storage space or the number of namespaces (buckets) they can consume. This is crucial for multi-tenant environments to prevent any single user or project from monopolizing resources."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Storage Space Quota:"})," Limits the total data size within the volume."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Namespace Quota:"})," Limits the number of buckets that can be created within the volume."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["For comprehensive information on configuring and managing quotas, see the ",(0,t.jsx)(n.a,{href:"/docs/administrator-guide/operations/quota",children:"Quota Management documentation"}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"access-control-lists-acls",children:"Access Control Lists (ACLs)"}),"\n",(0,t.jsx)(n.p,{children:"Access to volumes is controlled via ACLs, which define permissions for users and groups. These permissions determine who can create buckets within a volume, list its contents, or perform other operations."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Create:"})," Allows creating buckets within the volume."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"List:"})," Allows listing buckets within the volume."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Read:"})," Allows reading metadata of the volume."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Write:"})," Allows writing metadata of the volume."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Delete:"})," Allows deleting the volume (if empty or recursively)."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["ACLs can be set and managed using the Ozone CLI. Refer to the ",(0,t.jsx)(n.a,{href:"/docs/core-concepts/security/acls/native-acls",children:"Security ACLs documentation"})," for more in-depth information."]}),"\n",(0,t.jsxs)(n.h3,{id:"s3-gateway-integration-s3v-volume",children:["S3 Gateway Integration (",(0,t.jsx)(n.code,{children:"/s3v"})," Volume)"]}),"\n",(0,t.jsxs)(n.p,{children:["For compatibility with the S3 API, Ozone uses a special volume, typically ",(0,t.jsx)(n.code,{children:"/s3v"}),'. By default, all buckets accessed via the S3 interface are stored under this volume. It\'s also possible to expose buckets from other Ozone volumes via the S3 interface using "bucket linking."\nFor more details, refer to the ',(0,t.jsx)(n.a,{href:"/docs/user-guide/client-interfaces/s3/s3-api",children:"S3 Protocol documentation"})," and ",(0,t.jsx)(n.a,{href:"/docs/administrator-guide/operations/s3-multi-tenancy/overview",children:"S3 Multi-Tenancy documentation"}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"datanode-physical-volumes-vs-ozone-manager-logical-volumes",children:"Datanode Physical Volumes vs. Ozone Manager Logical Volumes"}),"\n",(0,t.jsx)(n.p,{children:'It\'s important to distinguish between the logical "volumes" managed by the Ozone Manager (as described above) and the physical "volumes" (disks) managed by the Datanodes.'}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Ozone Manager Volumes:"})," Logical namespace containers for buckets and keys."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Datanode Volumes:"})," Physical storage devices (disks) on a Datanode where actual data blocks are stored in containers."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["For more information on Datanode volume management, refer to the ",(0,t.jsx)(n.a,{href:"https://ozone.apache.org/docs/edge/concept/datanodes.html",children:"Datanodes documentation"}),"."]})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}}}]);