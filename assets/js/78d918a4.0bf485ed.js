"use strict";(self.webpackChunkdoc_site=self.webpackChunkdoc_site||[]).push([[2927],{13374:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>n,toc:()=>a});const n=JSON.parse('{"id":"user-guide/integrations/hbase","title":"HBase","description":"Apache Ozone supports integration with Apache HBase, allowing you to use Ozone as the underlying storage layer for HBase tables. This integration leverages the ofs:// scheme to provide a scalable and robust filesystem for HBase Region Servers.","source":"@site/docs/04-user-guide/03-integrations/09-hbase.md","sourceDirName":"04-user-guide/03-integrations","slug":"/user-guide/integrations/hbase","permalink":"/docs/user-guide/integrations/hbase","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/ozone-site/tree/master/docs/04-user-guide/03-integrations/09-hbase.md","tags":[],"version":"current","sidebarPosition":9,"frontMatter":{"sidebar_label":"HBase"},"sidebar":"defaultSidebar","previous":{"title":"Flink","permalink":"/docs/user-guide/integrations/flink"},"next":{"title":"Administrator Guide","permalink":"/docs/administrator-guide/"}}');var i=s(86070),r=s(62392);const o={sidebar_label:"HBase"},l="HBase",d={},a=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Configuration Steps",id:"configuration-steps",level:2},{value:"1. Ozone Setup",id:"1-ozone-setup",level:3},{value:"2. Ozone Service Configurations",id:"2-ozone-service-configurations",level:3},{value:"3. HBase Service Configurations",id:"3-hbase-service-configurations",level:3},{value:"Support Matrix and Restrictions",id:"support-matrix-and-restrictions",level:2},{value:"Unsupported Features",id:"unsupported-features",level:3}];function c(e){const t={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"hbase",children:"HBase"})}),"\n",(0,i.jsxs)(t.p,{children:["Apache Ozone supports integration with Apache HBase, allowing you to use Ozone as the underlying storage layer for HBase tables. This integration leverages the ",(0,i.jsx)(t.code,{children:"ofs://"})," scheme to provide a scalable and robust filesystem for HBase Region Servers."]}),"\n",(0,i.jsx)(t.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"An active Apache Ozone cluster."}),"\n",(0,i.jsxs)(t.li,{children:["Ozone must be configured to use ",(0,i.jsx)(t.strong,{children:"Ratis replication"}),". HBase does not currently support Erasure Coded (EC) buckets."]}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"configuration-steps",children:"Configuration Steps"}),"\n",(0,i.jsx)(t.h3,{id:"1-ozone-setup",children:"1. Ozone Setup"}),"\n",(0,i.jsx)(t.p,{children:"Before configuring HBase, you must prepare the Ozone filesystem:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Create Volume and Bucket:"})," Create a dedicated volume and bucket for HBase. Ensure the bucket is ",(0,i.jsx)(t.strong,{children:"File System Optimized (FSO)"}),"."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Permissions:"})," If using Apache Ranger, grant the ",(0,i.jsx)(t.code,{children:"hbase"})," user ",(0,i.jsx)(t.code,{children:"READ/WRITE"})," permissions for the specific Ozone volume and bucket."]}),"\n"]}),"\n",(0,i.jsx)(t.h3,{id:"2-ozone-service-configurations",children:"2. Ozone Service Configurations"}),"\n",(0,i.jsxs)(t.p,{children:["Update your ",(0,i.jsx)(t.code,{children:"ozone-site.xml"})," (or via your cluster management tool) with the following properties to enable HBase compatibility:"]}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{style:{textAlign:"left"},children:"Property"}),(0,i.jsx)(t.th,{style:{textAlign:"left"},children:"Value"}),(0,i.jsx)(t.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.code,{children:"ozone.fs.hsync.enabled"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.code,{children:"true"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Required for HBase WAL (Write Ahead Log) durability."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.code,{children:"ozone.hbase.enhancements.allowed"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.code,{children:"true"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Enables Ozone-side optimizations for HBase."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.code,{children:"ozone.client.hbase.enhancements.allowed"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.code,{children:"true"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Enables client-side optimizations."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.code,{children:"ozone.client.stream.putblock.piggybacking"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.code,{children:"true"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Improves performance for small writes."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.code,{children:"ozone.client.incremental.chunk.list"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.code,{children:"true"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Optimizes metadata handling for HBase."})]})]})]}),"\n",(0,i.jsx)(t.h3,{id:"3-hbase-service-configurations",children:"3. HBase Service Configurations"}),"\n",(0,i.jsxs)(t.p,{children:["Configure HBase to point to the Ozone filesystem. Update ",(0,i.jsx)(t.code,{children:"hbase-site.xml"})," with the following:"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Root Directory:"})," Set ",(0,i.jsx)(t.code,{children:"hbase.rootdir"})," to your Ozone path using the ",(0,i.jsx)(t.code,{children:"ofs://"})," scheme."]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-xml",children:"<property>\n  <name>hbase.rootdir</name>\n  <value>ofs://[service-id]/[volume]/[bucket]/hbase</value>\n</property>\n"})}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Scheme Support:"})," Note that only ",(0,i.jsx)(t.code,{children:"ofs://"})," is supported. The older ",(0,i.jsx)(t.code,{children:"o3fs://"})," scheme is not supported for HBase integration."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"Now you are ready to start your HBase cluster with Ozone."}),"\n",(0,i.jsx)(t.h2,{id:"support-matrix-and-restrictions",children:"Support Matrix and Restrictions"}),"\n",(0,i.jsx)(t.h3,{id:"unsupported-features",children:"Unsupported Features"}),"\n",(0,i.jsxs)(t.p,{children:["The following features are currently ",(0,i.jsx)(t.strong,{children:"not supported"})," when running HBase on Ozone:"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"HBase Features:"})," Medium Object Storage (MOB), Favored Nodes, Hedged Read, Storage Policy, and Short Circuit Read."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Ozone Features:"})," Snapshots, Erasure Coded (EC) buckets, and Object Store (OBS) buckets."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Phoenix:"})," Phoenix User Defined Functions (UDF) are not supported on Ozone."]}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},62392:(e,t,s)=>{s.d(t,{R:()=>o,x:()=>l});var n=s(30758);const i={},r=n.createContext(i);function o(e){const t=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),n.createElement(r.Provider,{value:t},e.children)}}}]);