"use strict";(self.webpackChunkdoc_site=self.webpackChunkdoc_site||[]).push([[7033],{6296:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>i,metadata:()=>r,toc:()=>l});var s=o(3274),t=o(5262);const i={sidebar_label:"Docker"},c="Try Ozone With Docker",r={id:"quick-start/installation/docker",title:"Try Ozone With Docker",description:"Apache Ozone can be quickly deployed using Docker Compose, making it ideal for development, testing, and evaluation purposes. This guide walks you through setting up a multi-node Ozone cluster using pre-built Docker images.",source:"@site/docs/02-quick-start/01-installation/01-docker.md",sourceDirName:"02-quick-start/01-installation",slug:"/quick-start/installation/docker",permalink:"/docs/quick-start/installation/docker",draft:!1,unlisted:!1,editUrl:"https://github.com/apache/ozone-site/tree/HDDS-9225-website-v2/docs/02-quick-start/01-installation/01-docker.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_label:"Docker"},sidebar:"defaultSidebar",previous:{title:"Installation",permalink:"/docs/quick-start/installation/"},next:{title:"Kubernetes",permalink:"/docs/quick-start/installation/kubernetes"}},a={},l=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Running Ozone",id:"running-ozone",level:2},{value:"Obtain the Docker Compose Configuration",id:"obtain-the-docker-compose-configuration",level:3},{value:"Start the Cluster",id:"start-the-cluster",level:3},{value:"Verify the Deployment",id:"verify-the-deployment",level:3},{value:"Configuration",id:"configuration",level:2},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"try-ozone-with-docker",children:"Try Ozone With Docker"}),"\n",(0,s.jsx)(n.p,{children:"Apache Ozone can be quickly deployed using Docker Compose, making it ideal for development, testing, and evaluation purposes. This guide walks you through setting up a multi-node Ozone cluster using pre-built Docker images."}),"\n",(0,s.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://docs.docker.com/engine/install/",children:"Docker Engine"})," - Latest stable version"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://docs.docker.com/compose/install/",children:"Docker Compose"})," - Latest stable version"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"running-ozone",children:"Running Ozone"}),"\n",(0,s.jsx)(n.h3,{id:"obtain-the-docker-compose-configuration",children:"Obtain the Docker Compose Configuration"}),"\n",(0,s.jsx)(n.p,{children:"First, obtain Ozone's sample Docker Compose configuration:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Download the latest Docker Compose configuration file\ncurl -O https://raw.githubusercontent.com/apache/ozone-docker/refs/heads/latest/docker-compose.yaml\n"})}),"\n",(0,s.jsx)(n.h3,{id:"start-the-cluster",children:"Start the Cluster"}),"\n",(0,s.jsx)(n.p,{children:"Start your Ozone cluster with three Datanodes using the following command:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"docker compose up -d --scale datanode=3\n"})}),"\n",(0,s.jsx)(n.p,{children:"This command will:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Automatically pull required images from Docker Hub"}),"\n",(0,s.jsx)(n.li,{children:"Create a multi-node cluster with the core Ozone services"}),"\n",(0,s.jsx)(n.li,{children:"Start all components in detached mode"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"verify-the-deployment",children:"Verify the Deployment"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Check the status of your Ozone cluster components:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"docker compose ps\n"})}),"\n",(0,s.jsx)(n.p,{children:"You should see output similar to this:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'NAME                IMAGE                      COMMAND                  SERVICE    CREATED          STATUS          PORTS\ndocker-datanode-1   apache/ozone:1.4.1-rocky   "/usr/local/bin/dumb\u2026"   datanode   14 seconds ago   Up 13 seconds   0.0.0.0:32958->9864/tcp, :::32958->9864/tcp\ndocker-datanode-2   apache/ozone:1.4.1-rocky   "/usr/local/bin/dumb\u2026"   datanode   14 seconds ago   Up 13 seconds   0.0.0.0:32957->9864/tcp, :::32957->9864/tcp\ndocker-datanode-3   apache/ozone:1.4.1-rocky   "/usr/local/bin/dumb\u2026"   datanode   14 seconds ago   Up 12 seconds   0.0.0.0:32959->9864/tcp, :::32959->9864/tcp\ndocker-om-1         apache/ozone:1.4.1-rocky   "/usr/local/bin/dumb\u2026"   om         14 seconds ago   Up 13 seconds   0.0.0.0:9874->9874/tcp, :::9874->9874/tcp\ndocker-recon-1      apache/ozone:1.4.1-rocky   "/usr/local/bin/dumb\u2026"   recon      14 seconds ago   Up 13 seconds   0.0.0.0:9888->9888/tcp, :::9888->9888/tcp\ndocker-s3g-1        apache/ozone:1.4.1-rocky   "/usr/local/bin/dumb\u2026"   s3g        14 seconds ago   Up 13 seconds   0.0.0.0:9878->9878/tcp, :::9878->9878/tcp\ndocker-scm-1        apache/ozone:1.4.1-rocky   "/usr/local/bin/dumb\u2026"   scm        14 seconds ago   Up 13 seconds   0.0.0.0:9876->9876/tcp, :::9876->9876/tcp\n'})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Check the Ozone version"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"docker compose exec om bash\nozone version\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Access the Ozone Recon server, which provides monitoring and management capabilities by navigating to the ",(0,s.jsx)(n.a,{href:"http://localhost:9888",children:"Recon server home page"}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,s.jsxs)(n.p,{children:["You can customize your Ozone deployment by modifying the configuration parameters in the ",(0,s.jsx)(n.code,{children:"docker-compose.yaml"})," file:"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Common Configurations"}),": Located under the ",(0,s.jsx)(n.code,{children:"x-common-config"})," section"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Service-Specific Settings"}),": Found under the ",(0,s.jsx)(n.code,{children:"environment"})," section of individual services"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"As an example, to update the port on which Recon listens to, append the following configuration:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"x-common-config:\n  ...\n  OZONE-SITE.XML_ozone.recon.http-address: 0.0.0.0:9090\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Refer to the ",(0,s.jsx)(n.a,{href:"/docs/quick-start/installation/docker",children:"Configuring Ozone For Production"})," page for more configuration guidelines."]}),"\n",(0,s.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,s.jsx)(n.p,{children:"Now that your Ozone cluster is up and running, you can enter any container and explore the environment."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"docker compose exec om bash\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Next, learn how to ",(0,s.jsx)(n.a,{href:"/docs/quick-start/reading-writing-data",children:"read and write data"})," into Ozone."]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},5262:(e,n,o)=>{o.d(n,{R:()=>c,x:()=>r});var s=o(9474);const t={},i=s.createContext(t);function c(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:c(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);