"use strict";(self.webpackChunkdoc_site=self.webpackChunkdoc_site||[]).push([[7560],{3586:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>c,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"core-concepts/namespace/buckets/owners","title":"Bucket Owners","description":"1. Overview","source":"@site/docs/03-core-concepts/03-namespace/02-buckets/02-owners.md","sourceDirName":"03-core-concepts/03-namespace/02-buckets","slug":"/core-concepts/namespace/buckets/owners","permalink":"/docs/core-concepts/namespace/buckets/owners","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/ozone-site/tree/master/docs/03-core-concepts/03-namespace/02-buckets/02-owners.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_label":"Owners"},"sidebar":"defaultSidebar","previous":{"title":"Overview","permalink":"/docs/core-concepts/namespace/buckets/overview"},"next":{"title":"Quotas","permalink":"/docs/core-concepts/namespace/buckets/quotas"}}');var t=s(86070),i=s(62392);const c={sidebar_label:"Owners"},o="Bucket Owners",a={},l=[{value:"1. Overview",id:"1-overview",level:2},{value:"2. Setting the Bucket Owner",id:"2-setting-the-bucket-owner",level:2},{value:"During Bucket Creation",id:"during-bucket-creation",level:3},{value:"Changing Bucket Ownership",id:"changing-bucket-ownership",level:3},{value:"3. Bucket Owner Privileges",id:"3-bucket-owner-privileges",level:2},{value:"Property Updates",id:"property-updates",level:3},{value:"4. Volume Owner vs. Bucket Owner",id:"4-volume-owner-vs-bucket-owner",level:2}];function u(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"bucket-owners",children:"Bucket Owners"})}),"\n",(0,t.jsx)(n.h2,{id:"1-overview",children:"1. Overview"}),"\n",(0,t.jsxs)(n.p,{children:["Every bucket in Ozone has an ",(0,t.jsx)(n.strong,{children:"owner"})," property that identifies the user who owns the bucket. A bucket has a single owner. The bucket owner plays a role in access control and property management, particularly when using Ozone's native ACL authorization."]}),"\n",(0,t.jsx)(n.h2,{id:"2-setting-the-bucket-owner",children:"2. Setting the Bucket Owner"}),"\n",(0,t.jsx)(n.h3,{id:"during-bucket-creation",children:"During Bucket Creation"}),"\n",(0,t.jsxs)(n.p,{children:["When creating a bucket, the owner can be explicitly specified using the ",(0,t.jsx)(n.code,{children:"--user"})," or ",(0,t.jsx)(n.code,{children:"-u"})," command-line option:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"ozone sh bucket create /myvolume/mybucket --user alice\n"})}),"\n",(0,t.jsx)(n.p,{children:"If the owner is not specified during creation, the owner defaults based on the authentication method:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"S3 Authentication:"})," Owner defaults to the short username derived from the S3 access ID."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Standard Authentication:"})," Owner defaults to the current user's short username (",(0,t.jsx)(n.code,{children:"UserGroupInformation.getCurrentUser().getShortUserName()"}),")."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Example:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'# Create bucket without specifying owner (defaults to current user)\n$ ozone sh bucket create /myvol1/buck1\n$ ozone sh bucket info /myvol1/buck1\n{\n  "volumeName" : "myvol1",\n  "name" : "buck1",\n  "owner" : "om",\n  ...\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"changing-bucket-ownership",children:"Changing Bucket Ownership"}),"\n",(0,t.jsx)(n.p,{children:"The bucket owner can be changed after creation using the bucket update command:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"ozone sh bucket update <volume>/<bucket> --user <new_owner>\n"})}),"\n",(0,t.jsx)(n.p,{children:"Or using the short form:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"ozone sh bucket update <volume>/<bucket> -u <new_owner>\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Example:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'$ ozone sh bucket update /myvol1/buck1 --user bob\n{\n  "volumeName" : "myvol1",\n  "name" : "buck1",\n  "owner" : "bob",\n  "modificationTime" : "2026-01-25T16:06:38.516Z",\n  ...\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Requirements for Changing Ownership:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Permissions:"})," When Ozone ACL is enabled, the user attempting to change ownership must have ",(0,t.jsx)(n.code,{children:"WRITE_ACL"})," permission on the bucket. This ensures that only authorized users can transfer ownership."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Owner vs. ACLs:"})}),"\n",(0,t.jsxs)(n.p,{children:["Changing the bucket owner via ",(0,t.jsx)(n.code,{children:"ozone sh bucket update -u <new_owner>"})," updates the ownership metadata but ",(0,t.jsx)(n.strong,{children:"does not automatically modify ACLs"}),". The previous owner's ACL entries remain unchanged. If you need to revoke the old owner's access entirely, you must manage ACLs separately using ACL update commands."]}),"\n",(0,t.jsx)(n.h2,{id:"3-bucket-owner-privileges",children:"3. Bucket Owner Privileges"}),"\n",(0,t.jsx)(n.h3,{id:"property-updates",children:"Property Updates"}),"\n",(0,t.jsx)(n.p,{children:"When using Ozone's native ACL authorization, the bucket owner can update bucket properties. Bucket properties include:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Storage type"}),"\n",(0,t.jsx)(n.li,{children:"Versioning"}),"\n",(0,t.jsx)(n.li,{children:"Encryption settings"}),"\n",(0,t.jsx)(n.li,{children:"Quotas (space and namespace)"}),"\n",(0,t.jsx)(n.li,{children:"Bucket layout"}),"\n",(0,t.jsx)(n.li,{children:"Other bucket metadata"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Access Control Check:"})}),"\n",(0,t.jsx)(n.p,{children:"For native ACL authorization, bucket property updates are allowed by:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Administrators"}),"\n",(0,t.jsx)(n.li,{children:"Bucket owners"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"For Ranger authorization, bucket property updates are determined by Ranger policies."}),"\n",(0,t.jsx)(n.h2,{id:"4-volume-owner-vs-bucket-owner",children:"4. Volume Owner vs. Bucket Owner"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Volume Owner Privileges:"})}),"\n",(0,t.jsx)(n.p,{children:"The volume owner has broader privileges than the bucket owner:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Volume owners bypass ACL checks for all resources (buckets, keys, prefixes) within their volume."}),"\n",(0,t.jsx)(n.li,{children:"Volume owners have implicit access to all buckets in their volume, regardless of bucket ownership or ACLs."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Bucket Owner Privileges:"})}),"\n",(0,t.jsx)(n.p,{children:"Bucket owners have limited privileges:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Bucket owners can update bucket properties (when using native ACL authorization)."}),"\n",(0,t.jsxs)(n.li,{children:["Bucket owners do ",(0,t.jsx)(n.strong,{children:"not"})," bypass ACL checks for keys or prefixes within the bucket."]}),"\n",(0,t.jsx)(n.li,{children:"Bucket ownership is primarily used for property management, not access control bypass."}),"\n"]}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsx)(n.p,{children:"Volume ownership takes precedence over bucket ownership in access control decisions. If a user is the volume owner, they have full access regardless of bucket ownership."})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}},62392:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>o});var r=s(30758);const t={},i=r.createContext(t);function c(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:c(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);