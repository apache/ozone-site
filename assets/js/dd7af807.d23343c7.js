"use strict";(self.webpackChunkdoc_site=self.webpackChunkdoc_site||[]).push([[7742],{47348:(e,n,o)=>{o.d(n,{A:()=>t});const t=o.p+"assets/images/ContainerMetadata-0e1d6fbd9172fdd064e4b1623db13b28.png"},50128:(e,n,o)=>{o.d(n,{A:()=>t});const t="data:image/png;base64,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"},62392:(e,n,o)=>{o.d(n,{R:()=>i,x:()=>r});var t=o(30758);const a={},s=t.createContext(a);function i(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),t.createElement(s.Provider,{value:n},e.children)}},91076:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>h,frontMatter:()=>i,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"core-concepts/architecture/datanodes","title":"Datanodes","description":"Datanodes are the worker bees of Ozone. All data is stored on data nodes. Clients write data in terms of blocks.","source":"@site/docs/03-core-concepts/01-architecture/05-datanodes.md","sourceDirName":"03-core-concepts/01-architecture","slug":"/core-concepts/architecture/datanodes","permalink":"/docs/core-concepts/architecture/datanodes","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/ozone-site/tree/HDDS-9225-website-v2/docs/03-core-concepts/01-architecture/05-datanodes.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_label":"Datanodes"},"sidebar":"defaultSidebar","previous":{"title":"Ozone S3 Gateway","permalink":"/docs/core-concepts/architecture/s3-gateway"},"next":{"title":"Replication","permalink":"/docs/core-concepts/replication/"}}');var a=o(86070),s=o(62392);const i={sidebar_label:"Datanodes"},r="Datanodes",d={},l=[{value:"Storage Containers",id:"storage-containers",level:2},{value:"Understanding Ozone Blocks and Containers",id:"understanding-ozone-blocks-and-containers",level:2},{value:"Discovering Container Locations",id:"discovering-container-locations",level:2},{value:"Data Volume Management",id:"data-volume-management",level:2},{value:"What is a Volume?",id:"what-is-a-volume",level:3},{value:"Defining Volumes with <code>hdds.datanode.dir</code>",id:"defining-volumes-with-hddsdatanodedir",level:3},{value:"Volume Choosing Policy",id:"volume-choosing-policy",level:3},{value:"Volume-Related Configuration Properties",id:"volume-related-configuration-properties",level:3},{value:"Disk Balancer",id:"disk-balancer",level:3},{value:"Notable Configurations",id:"notable-configurations",level:2}];function c(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"datanodes",children:"Datanodes"})}),"\n",(0,a.jsx)(n.p,{children:"Datanodes are the worker bees of Ozone. All data is stored on data nodes. Clients write data in terms of blocks.\nDatanode aggregates these blocks into a storage container. A storage container is the data streams and metadata about\nthe blocks written by the clients."}),"\n",(0,a.jsx)(n.h2,{id:"storage-containers",children:"Storage Containers"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"Container Metadata",src:o(47348).A+"",width:"720",height:"424"})}),"\n",(0,a.jsx)(n.p,{children:"A storage container is a self-contained super block. It has a list of Ozone blocks that reside inside it, as well as on-disk\nfiles which contain the actual data streams. This is the default Storage container format. From Ozone's perspective, container\nis a protocol spec, actual storage layouts does not matter. In other words, it is trivial to extend or bring new container layouts.\nHence this should be treated as a reference implementation of containers under Ozone."}),"\n",(0,a.jsx)(n.h2,{id:"understanding-ozone-blocks-and-containers",children:"Understanding Ozone Blocks and Containers"}),"\n",(0,a.jsx)(n.p,{children:"When a client wants to read a key from Ozone, the client sends the name of the key to the Ozone Manager. Ozone Manager returns\nthe list of Ozone blocks that make up that key."}),"\n",(0,a.jsx)(n.p,{children:"An Ozone block contains the container ID and a local ID. The figure below shows the logical layout of the Ozone block."}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"Ozone Block",src:o(50128).A+"",width:"158",height:"126"})}),"\n",(0,a.jsx)(n.p,{children:"The container ID lets the clients discover the location of the container.\nThe authoritative information about where a container is located is with the Storage Container Manager (SCM). In most cases,\nthe container location will be cached by Ozone Manager and will be returned along with the Ozone blocks."}),"\n",(0,a.jsxs)(n.p,{children:["Once the client is able to locate the container, the client will connect to the Datanode and read the data stream specified\nby ",(0,a.jsxs)(n.em,{children:["Container ID",":Local"," ID"]}),". In other words, the local ID serves as index into the container which describes what data stream to read from."]}),"\n",(0,a.jsx)(n.h2,{id:"discovering-container-locations",children:"Discovering Container Locations"}),"\n",(0,a.jsx)(n.p,{children:"How does SCM know where the containers are located? This is very similar to what HDFS does; the data nodes regularly send\ncontainer reports like block reports. Container reports are far more concise than block reports. For example, an Ozone deployment\nwith a 196 TB data node will have around 40 thousand containers, compared to HDFS block count of million and half blocks\u2014a 40x\nreduction in the block reports."}),"\n",(0,a.jsx)(n.p,{children:"This extra indirection helps tremendously with scaling Ozone. SCM has far less block data to process and the namespace\nservice (Ozone Manager) as a different service are critical to scaling Ozone."}),"\n",(0,a.jsx)(n.h2,{id:"data-volume-management",children:"Data Volume Management"}),"\n",(0,a.jsx)(n.h3,{id:"what-is-a-volume",children:"What is a Volume?"}),"\n",(0,a.jsx)(n.p,{children:'In the context of an Ozone Datanode, a "volume" refers to a physical disk or storage device managed by the Datanode. Each\nvolume can store many containers, which are the fundamental units of storage in Ozone. This is different from the "volume"\nconcept in Ozone Manager, which refers to a namespace for organizing buckets and keys.'}),"\n",(0,a.jsx)(n.p,{children:"The status of volumes, including used space, available space and whether or not they are operational (healthy) or failed,\ncan be looked up from Datanode Web UI."}),"\n",(0,a.jsxs)(n.h3,{id:"defining-volumes-with-hddsdatanodedir",children:["Defining Volumes with ",(0,a.jsx)(n.code,{children:"hdds.datanode.dir"})]}),"\n",(0,a.jsxs)(n.p,{children:["The property ",(0,a.jsx)(n.code,{children:"hdds.datanode.dir"})," defines the set of volumes (disks) managed by a Datanode. You can specify one or more\ndirectories, separated by commas. Each directory represents a volume. For example: ",(0,a.jsx)(n.code,{children:"/data1/disk1,/data2/disk2"}),", which configures\nthe Datanode to manage two volumes."]}),"\n",(0,a.jsx)(n.h3,{id:"volume-choosing-policy",children:"Volume Choosing Policy"}),"\n",(0,a.jsxs)(n.p,{children:["When a Datanode needs to select a volume to store new data, it uses a volume choosing policy. The policy is controlled by\nthe property ",(0,a.jsx)(n.code,{children:"hdds.datanode.volume.choosing.policy"}),". There are two main policies:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"CapacityVolumeChoosingPolicy (default)"}),": This policy randomly selects two volumes with enough available space and chooses the one with\nlower utilization (i.e., more free space). This approach increases the likelihood that less-used disks are chosen, helping to balance disk usage over time."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"RoundRobinVolumeChoosingPolicy"}),": This policy selects volumes in a round-robin order, cycling through all available volumes.\nIt does not consider the current utilization of each disk, but ensures even distribution of new containers across all disks."]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"volume-related-configuration-properties",children:"Volume-Related Configuration Properties"}),"\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"Property Name"}),(0,a.jsx)(n.th,{children:"Default Value"}),(0,a.jsx)(n.th,{children:"Description"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"hdds.datanode.volume.choosing.policy"})}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"CapacityVolumeChoosingPolicy"})}),(0,a.jsx)(n.td,{children:"The policy used to select a volume for new containers."})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"hdds.datanode.volume.min.free.space"})}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"20GB"})}),(0,a.jsx)(n.td,{children:"Minimum free space required on a volume to be eligible for new containers."})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"hdds.datanode.volume.min.free.space.percent"})}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"0.02"})}),(0,a.jsx)(n.td,{children:"Minimum free space percentage required on a volume to be eligible for new containers."})]})]})]}),"\n",(0,a.jsx)(n.h3,{id:"disk-balancer",children:"Disk Balancer"}),"\n",(0,a.jsxs)(n.p,{children:["Over time, operations like adding or replacing disks can cause uneven disk usage. Ozone provides a ",(0,a.jsx)(n.strong,{children:"Disk Balancer"})," feature to automatically balance disk usage across Datanode volumes. The Disk Balancer can be enabled via the ",(0,a.jsx)(n.code,{children:"hdds.datanode.disk.balancer.enabled"})," configuration property and is managed through CLI commands."]}),"\n",(0,a.jsxs)(n.p,{children:["For more information on using the Disk Balancer, refer to the ",(0,a.jsx)(n.a,{href:"/docs/administrator-guide/operations/data-balancing/disk-balancer",children:"Disk Balancer documentation"}),"."]}),"\n",(0,a.jsx)(n.h2,{id:"notable-configurations",children:"Notable Configurations"}),"\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"Key"}),(0,a.jsx)(n.th,{children:"Default"}),(0,a.jsx)(n.th,{children:"Description"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"dfs.container.ratis.datanode.storage.dir"})}),(0,a.jsx)(n.td,{children:"none"}),(0,a.jsx)(n.td,{children:"This directory is used for storing Ratis metadata like logs."})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"ozone.scm.datanode.id.dir"})}),(0,a.jsx)(n.td,{children:"none"}),(0,a.jsx)(n.td,{children:"The path that Datanodes will use to store the Datanode ID."})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"hdds.datanode.dir"})}),(0,a.jsx)(n.td,{children:"none"}),(0,a.jsx)(n.td,{children:"Determines where HDDS data will be stored on the local filesystem."})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"hdds.datanode.dir.du.reserved"})}),(0,a.jsx)(n.td,{children:"none"}),(0,a.jsx)(n.td,{children:"Reserved space in bytes per volume. Always leave this much space free for non dfs use."})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"ozone.metadata.dirs"})}),(0,a.jsx)(n.td,{children:"none"}),(0,a.jsx)(n.td,{children:"Directory to store persisted data (RocksDB)."})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"ozone.recon.address"})}),(0,a.jsx)(n.td,{children:"0.0.0.0:9891"}),(0,a.jsxs)(n.td,{children:["RPC address of the Recon. Use host",":port"," to connect Recon."]})]})]})]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}}}]);