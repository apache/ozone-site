"use strict";(self.webpackChunkdoc_site=self.webpackChunkdoc_site||[]).push([[4402],{9635:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"administrator-guide/configuration/basic/environment-variables","title":"Environment Variables","description":"The ozone-env.sh script, located at $OZONE_HOME/etc/hadoop, defines the environment variables used by Ozone processes.","source":"@site/docs/05-administrator-guide/02-configuration/01-basic/02-environment-variables.md","sourceDirName":"05-administrator-guide/02-configuration/01-basic","slug":"/administrator-guide/configuration/basic/environment-variables","permalink":"/docs/administrator-guide/configuration/basic/environment-variables","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/ozone-site/tree/HDDS-9225-website-v2/docs/05-administrator-guide/02-configuration/01-basic/02-environment-variables.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_label":"Environment Variables"},"sidebar":"defaultSidebar","previous":{"title":"Configuration Files","permalink":"/docs/administrator-guide/configuration/basic/configuration-files"},"next":{"title":"Network","permalink":"/docs/administrator-guide/configuration/basic/network/"}}');var s=n(86070),l=n(62392);const r={sidebar_label:"Environment Variables"},o="Environment Variables",d={},c=[{value:"Common Environment Variables",id:"common-environment-variables",level:2},{value:"Role-Specific Environment Variables",id:"role-specific-environment-variables",level:2},{value:"Configuration Methods",id:"configuration-methods",level:2},{value:"System-Wide Configuration",id:"system-wide-configuration",level:3},{value:"User-Specific Configuration",id:"user-specific-configuration",level:3},{value:"Per-Command Configuration",id:"per-command-configuration",level:3}];function a(e){const t={admonition:"admonition",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"environment-variables",children:"Environment Variables"})}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"ozone-env.sh"})," script, located at ",(0,s.jsx)(t.code,{children:"$OZONE_HOME/etc/hadoop"}),", defines the environment variables used by Ozone processes."]}),"\n",(0,s.jsxs)(t.blockquote,{children:["\n",(0,s.jsx)(t.p,{children:"Note: The following list is not exhaustive but includes the most commonly used environment variables."}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"common-environment-variables",children:"Common Environment Variables"}),"\n",(0,s.jsx)(t.p,{children:"These environment variables apply to all Ozone processes."}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Variable"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Default Value"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"JAVA_HOME"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"(none)"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"The path to the Java installation. Must be set on most platforms, but is auto-detected on macOS."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"OZONE_HOME"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Auto-detected from script location"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"The path to the Ozone installation directory."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"OZONE_CONF_DIR"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"$OZONE_HOME/etc/hadoop"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"The directory containing Ozone configuration files."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"OZONE_LOG_DIR"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"$OZONE_HOME/logs"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"The directory where Ozone log files are stored."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"OZONE_PID_DIR"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"/tmp"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"The directory where daemon PID files are stored."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"OZONE_OPTS"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"-Djava.net.preferIPv4Stack=true"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Universal Java options applied to all Ozone processes."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"OZONE_HEAPSIZE_MAX"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"(JVM default)"}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["The maximum JVM heap size (",(0,s.jsx)(t.code,{children:"-Xmx"}),"). If not set, the JVM auto-scales."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"OZONE_HEAPSIZE_MIN"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"(JVM default)"}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["The minimum JVM heap size (",(0,s.jsx)(t.code,{children:"-Xms"}),"). If not set, the JVM auto-scales."]})]})]})]}),"\n",(0,s.jsx)(t.h2,{id:"role-specific-environment-variables",children:"Role-Specific Environment Variables"}),"\n",(0,s.jsx)(t.p,{children:"These environment variables apply only to certain Ozone services or roles."}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Variable"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Default Value"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"OZONE_SERVER_OPTS"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"(none)"}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["Options for all Ozone server daemons (appended to ",(0,s.jsx)(t.code,{children:"OZONE_OPTS"}),")."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"OZONE_CLIENT_OPTS"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"(empty)"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Specifies Java properties for Ozone commands and clients."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"OZONE_OM_OPTS"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"(empty)"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Specifies Java properties for the Ozone Manager (OM)."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"OZONE_SCM_OPTS"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"(empty)"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Specifies Java properties for the Storage Container Manager (SCM)."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"OZONE_DATANODE_OPTS"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"(empty)"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Specifies Java properties for Datanodes."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"OZONE_S3G_OPTS"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"(empty)"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Specifies Java properties for the S3 Gateway."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"OZONE_RECON_OPTS"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"(empty)"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Specifies Java properties for the Recon server."})]})]})]}),"\n",(0,s.jsx)(t.admonition,{title:"HttpFS Gateway Configuration",type:"note",children:(0,s.jsxs)(t.p,{children:["The HttpFS Gateway does not use an ",(0,s.jsx)(t.code,{children:"OZONE_HTTPFS_OPTS"})," variable. Its specific JVM properties must be added to the global ",(0,s.jsx)(t.code,{children:"OZONE_OPTS"})," variable."]})}),"\n",(0,s.jsx)(t.h2,{id:"configuration-methods",children:"Configuration Methods"}),"\n",(0,s.jsx)(t.p,{children:"There are several ways to set these environment variables, depending on your needs."}),"\n",(0,s.jsx)(t.h3,{id:"system-wide-configuration",children:"System-Wide Configuration"}),"\n",(0,s.jsxs)(t.p,{children:["For multi-user environments, creating a system-wide profile file ensures that variables are set for all users. A common practice is to create a file in ",(0,s.jsx)(t.code,{children:"/etc/profile.d/"}),", which is loaded by most shells on login."]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsxs)(t.strong,{children:["Example for ",(0,s.jsx)(t.code,{children:"/etc/profile.d/ozone.sh"}),":"]})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:'export JAVA_HOME="$(/usr/libexec/java_home)"\nexport OZONE_HOME=/opt/ozone\nexport OZONE_CONF_DIR=/etc/ozone\n'})}),"\n",(0,s.jsx)(t.p,{children:"After creating this file, users must log out and log back in for the changes to take effect."}),"\n",(0,s.jsx)(t.h3,{id:"user-specific-configuration",children:"User-Specific Configuration"}),"\n",(0,s.jsx)(t.p,{children:"If you only need to set variables for a single user, you can add them to their personal shell profile."}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["For Bash users, add to ",(0,s.jsx)(t.code,{children:"~/.bashrc"})," or ",(0,s.jsx)(t.code,{children:"~/.bash_profile"}),"."]}),"\n",(0,s.jsxs)(t.li,{children:["For Zsh users, add to ",(0,s.jsx)(t.code,{children:"~/.zshrc"}),"."]}),"\n",(0,s.jsx)(t.li,{children:"For other shells, consult their documentation."}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsxs)(t.strong,{children:["Example for ",(0,s.jsx)(t.code,{children:"~/.bashrc"}),":"]})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"export OZONE_HOME=~/ozone\nexport OZONE_CONF_DIR=$OZONE_HOME/etc/hadoop\n"})}),"\n",(0,s.jsxs)(t.p,{children:["After editing, you must reload the profile (e.g., ",(0,s.jsx)(t.code,{children:"source ~/.bashrc"}),") or open a new shell session."]}),"\n",(0,s.jsx)(t.h3,{id:"per-command-configuration",children:"Per-Command Configuration"}),"\n",(0,s.jsx)(t.p,{children:"For quick tests or one-off commands, you can set an environment variable for a single command's execution."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"OZONE_HEAPSIZE_MAX=16G ozone sh volume create /vol1\n"})})]})}function h(e={}){const{wrapper:t}={...(0,l.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},62392:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>o});var i=n(30758);const s={},l=i.createContext(s);function r(e){const t=i.useContext(l);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),i.createElement(l.Provider,{value:t},e.children)}}}]);