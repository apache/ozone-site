"use strict";(self.webpackChunkdoc_site=self.webpackChunkdoc_site||[]).push([[3909],{62392:(e,a,o)=>{o.d(a,{R:()=>i,x:()=>r});var t=o(30758);const n={},s=t.createContext(n);function i(e){const a=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function r(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:i(e.components),t.createElement(s.Provider,{value:a},e.children)}},65712:(e,a,o)=>{o.r(a),o.d(a,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>i,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"administrator-guide/operations/s3-gateway-load-balancing","title":"Using Multiple S3 Gateways for Load Balancing","description":"The Ozone S3 Gateway is designed to be stateless, which means it does not store any data on the node where it is running. This stateless architecture allows you to run multiple S3 Gateway nodes and load balance traffic between them.","source":"@site/docs/05-administrator-guide/03-operations/11-s3-gateway-load-balancing.md","sourceDirName":"05-administrator-guide/03-operations","slug":"/administrator-guide/operations/s3-gateway-load-balancing","permalink":"/docs/administrator-guide/operations/s3-gateway-load-balancing","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/ozone-site/tree/HDDS-9225-website-v2/docs/05-administrator-guide/03-operations/11-s3-gateway-load-balancing.md","tags":[],"version":"current","sidebarPosition":11,"frontMatter":{"sidebar_label":"S3 Gateway Load Balancing"},"sidebar":"defaultSidebar","previous":{"title":"Quota in Ozone","permalink":"/docs/administrator-guide/operations/quota"},"next":{"title":"Trash","permalink":"/docs/administrator-guide/operations/trash"}}');var n=o(86070),s=o(62392);const i={sidebar_label:"S3 Gateway Load Balancing"},r="Using Multiple S3 Gateways for Load Balancing",c={},d=[{value:"Docker Compose Example",id:"docker-compose-example",level:2}];function l(e){const a={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",ul:"ul",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.header,{children:(0,n.jsx)(a.h1,{id:"using-multiple-s3-gateways-for-load-balancing",children:"Using Multiple S3 Gateways for Load Balancing"})}),"\n",(0,n.jsx)(a.p,{children:"The Ozone S3 Gateway is designed to be stateless, which means it does not store any data on the node where it is running. This stateless architecture allows you to run multiple S3 Gateway nodes and load balance traffic between them."}),"\n",(0,n.jsx)(a.p,{children:"If you find that a single S3 Gateway is becoming a bottleneck for your S3 traffic, you can improve the throughput by adding more S3 Gateway nodes to your cluster. You can then use a load balancer, such as HAProxy, to distribute the traffic among the S3 Gateway nodes in a round-robin fashion."}),"\n",(0,n.jsx)(a.h2,{id:"docker-compose-example",children:"Docker Compose Example"}),"\n",(0,n.jsxs)(a.p,{children:["The Ozone source code includes a Docker Compose example for running multiple S3 Gateways with HAProxy. You can find it in the ",(0,n.jsx)(a.code,{children:"hadoop-ozone/dist/src/main/compose/common"})," directory."]}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:(0,n.jsx)(a.a,{href:"https://github.com/apache/ozone/blob/master/hadoop-ozone/dist/src/main/compose/common/s3-haproxy.cfg",children:"S3-haproxy.cfg"})}),"\n",(0,n.jsx)(a.li,{children:(0,n.jsx)(a.a,{href:"https://github.com/apache/ozone/blob/master/hadoop-ozone/dist/src/main/compose/common/s3-haproxy.yaml",children:"S3-haproxy.yaml"})}),"\n"]}),"\n",(0,n.jsx)(a.p,{children:"These examples can help you get started with running a load-balanced S3 Gateway setup."})]})}function h(e={}){const{wrapper:a}={...(0,s.R)(),...e.components};return a?(0,n.jsx)(a,{...e,children:(0,n.jsx)(l,{...e})}):l(e)}}}]);