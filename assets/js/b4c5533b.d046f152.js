"use strict";(self.webpackChunkdoc_site=self.webpackChunkdoc_site||[]).push([[12062],{33111:(e,a,i)=>{i.r(a),i.d(a,{assets:()=>c,contentTitle:()=>r,default:()=>d,frontMatter:()=>s,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"core-concepts/high-availability/scm-ha","title":"SCM High Availability","description":"Ozone has two metadata-manager nodes (Ozone Manager for key space management and Storage Container Management for block space management) and multiple storage nodes (Datanode). Data is replicated between Datanodes with the help of RAFT consensus algorithm.","source":"@site/versioned_docs/version-2.1.0/03-core-concepts/05-high-availability/01-scm-ha.md","sourceDirName":"03-core-concepts/05-high-availability","slug":"/core-concepts/high-availability/scm-ha","permalink":"/docs/core-concepts/high-availability/scm-ha","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/ozone-site/tree/master/versioned_docs/version-2.1.0/03-core-concepts/05-high-availability/01-scm-ha.md","tags":[],"version":"2.1.0","sidebarPosition":1,"frontMatter":{"sidebar_label":"SCM High Availability"},"sidebar":"defaultSidebar","previous":{"title":"High Availability","permalink":"/docs/core-concepts/high-availability/"},"next":{"title":"Ozone Manager High Availability","permalink":"/docs/core-concepts/high-availability/om-ha"}}');var t=i(86070),o=i(62392);const s={sidebar_label:"SCM High Availability"},r="SCM High Availability",c={},l=[{value:"Service ID and SCM Host Mapping",id:"service-id-and-scm-host-mapping",level:2}];function h(e){const a={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",p:"p",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.header,{children:(0,t.jsx)(a.h1,{id:"scm-high-availability",children:"SCM High Availability"})}),"\n",(0,t.jsxs)(a.p,{children:["Ozone has two metadata-manager nodes (",(0,t.jsx)(a.em,{children:"Ozone Manager"})," for key space management and ",(0,t.jsx)(a.em,{children:"Storage Container Management"})," for block space management) and multiple storage nodes (Datanode). Data is replicated between Datanodes with the help of RAFT consensus algorithm."]}),"\n",(0,t.jsx)(a.p,{children:"To avoid any single point of failure the metadata-manager nodes also should have a HA setup."}),"\n",(0,t.jsx)(a.p,{children:"Both Ozone Manager and Storage Container Manager supports HA. In this mode the internal state is replicated via RAFT (with Apache Ratis)"}),"\n",(0,t.jsxs)(a.p,{children:["Please check the ",(0,t.jsx)(a.a,{href:"../../system-internals/components/ozone-manager/high-availability",children:"OM HA documentation"})," for HA setup of Ozone Manager (OM). While they can be setup for HA independently, a reliable, full HA setup requires enabling HA for both services."]}),"\n",(0,t.jsx)(a.h2,{id:"service-id-and-scm-host-mapping",children:"Service ID and SCM Host Mapping"}),"\n",(0,t.jsxs)(a.p,{children:["To select between the available SCM nodes, a logical name (a ",(0,t.jsx)(a.code,{children:"serviceId"}),") is required for each of the clusters which can be resolved to the IP addresses (and domain names) of the Storage Container Managers. Check out the ",(0,t.jsx)(a.a,{href:"../../administrator-guide/configuration/high-availability/scm-ha",children:"SCM HA configuration documentation"})," for details on how to configure the service ID and map it to individual SCM nodes."]})]})}function d(e={}){const{wrapper:a}={...(0,o.R)(),...e.components};return a?(0,t.jsx)(a,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},62392:(e,a,i)=>{i.d(a,{R:()=>s,x:()=>r});var n=i(30758);const t={},o=n.createContext(t);function s(e){const a=n.useContext(o);return n.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function r(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),n.createElement(o.Provider,{value:a},e.children)}}}]);