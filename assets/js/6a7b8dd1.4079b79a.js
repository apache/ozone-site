"use strict";(self.webpackChunkdoc_site=self.webpackChunkdoc_site||[]).push([[430],{19317:(e,a,o)=>{o.r(a),o.d(a,{assets:()=>i,contentTitle:()=>d,default:()=>l,frontMatter:()=>t,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"administrator-guide/operations/observability/grafana","title":"Dashboarding With Grafana","description":"Once Prometheus is up and running, Grana can be configured to monitor and","source":"@site/docs/05-administrator-guide/03-operations/09-observability/05-grafana.md","sourceDirName":"05-administrator-guide/03-operations/09-observability","slug":"/administrator-guide/operations/observability/grafana","permalink":"/docs/administrator-guide/operations/observability/grafana","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/ozone-site/tree/HDDS-9225-website-v2/docs/05-administrator-guide/03-operations/09-observability/05-grafana.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_label":"Grafana"},"sidebar":"defaultSidebar","previous":{"title":"Prometheus","permalink":"/docs/administrator-guide/operations/observability/prometheus"},"next":{"title":"Distributed tracing","permalink":"/docs/administrator-guide/operations/observability/distributed-tracing"}}');var s=o(86070),r=o(62392);const t={sidebar_label:"Grafana"},d="Dashboarding With Grafana",i={},c=[{value:"Add Prometheus as a data source",id:"add-prometheus-as-a-data-source",level:2},{value:"Import a Grafana dashboard for Ozone",id:"import-a-grafana-dashboard-for-ozone",level:2}];function h(e){const a={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.header,{children:(0,s.jsx)(a.h1,{id:"dashboarding-with-grafana",children:"Dashboarding With Grafana"})}),"\n",(0,s.jsx)(a.p,{children:"Once Prometheus is up and running, Grana can be configured to monitor and\nvisualize Ozone metrics."}),"\n",(0,s.jsx)(a.h2,{id:"add-prometheus-as-a-data-source",children:"Add Prometheus as a data source"}),"\n",(0,s.jsxs)(a.p,{children:["In the Grafana web UI, go to ",(0,s.jsx)(a.code,{children:"Add Data Sources"})," and then select ",(0,s.jsx)(a.code,{children:"Prometheus"}),"."]}),"\n",(0,s.jsxs)(a.p,{children:["Enter the Prometheus hostname/port in the ",(0,s.jsx)(a.code,{children:"HTTP"}),". For example, ",(0,s.jsx)(a.code,{children:"http://localhost:9094"}),"\n(verify the port used by looking at Prometheus command line flags ",(0,s.jsx)(a.code,{children:"-web.listen-address"}),".\nThe port can also be found from Prometheus web UI \u2192 Status \u2192 Command-Line Flags.)"]}),"\n",(0,s.jsxs)(a.p,{children:["Choose Prometheus type: ",(0,s.jsx)(a.code,{children:"Prometheus"})]}),"\n",(0,s.jsxs)(a.p,{children:["Choose Prometheus version: ",(0,s.jsx)(a.code,{children:"2.37.x"})]}),"\n",(0,s.jsxs)(a.p,{children:["Finish the setup by clicking on ",(0,s.jsx)(a.code,{children:"Save and Test"}),"."]}),"\n",(0,s.jsx)(a.h2,{id:"import-a-grafana-dashboard-for-ozone",children:"Import a Grafana dashboard for Ozone"}),"\n",(0,s.jsx)(a.p,{children:"Apache Ozone comes with a default Grafana dashboard. Follow the instructions\nbelow to import it:"}),"\n",(0,s.jsx)(a.p,{children:"Download dashboard JSON:"}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-shell",children:"wget https://raw.githubusercontent.com/apache/ozone/master/hadoop-ozone/dist/src/main/compose/common/grafana/dashboards/Ozone%20-%20Overall%20Metrics.json\n"})}),"\n",(0,s.jsxs)(a.p,{children:["Open Grafana portal and click on Dashboards on the left and select ",(0,s.jsx)(a.code,{children:"Import"}),"."]}),"\n",(0,s.jsxs)(a.p,{children:["Click at ",(0,s.jsx)(a.code,{children:"Upload JSON file"})," and select the file ",(0,s.jsx)(a.code,{children:"Ozone - Overall Metrics.json"}),"\nthat was just downloaded."]}),"\n",(0,s.jsx)(a.p,{children:"The dashboard is now imported."}),"\n",(0,s.jsx)(a.p,{children:(0,s.jsx)(a.img,{alt:"Overall dashboard",src:o(36166).A+"",width:"3358",height:"1732"})}),"\n",(0,s.jsxs)(a.p,{children:["Repeat the same for ",(0,s.jsx)(a.a,{href:"https://raw.githubusercontent.com/Xushaohong/ozone/master/hadoop-ozone/dist/src/main/compose/common/grafana/dashboards/Ozone%20-%20Object%20Metrics.json",children:"Object Metrics"}),"\ndashboard and ",(0,s.jsx)(a.a,{href:"https://raw.githubusercontent.com/Xushaohong/ozone/master/hadoop-ozone/dist/src/main/compose/common/grafana/dashboards/Ozone%20-%20RPC%20Metrics.json",children:"RPC Metrics"}),"\ndashboard."]}),"\n",(0,s.jsx)(a.p,{children:(0,s.jsx)(a.img,{alt:"Object dashboard",src:o(99649).A+"",width:"3340",height:"1724"})}),"\n",(0,s.jsx)(a.p,{children:(0,s.jsx)(a.img,{alt:"RPC dashboard",src:o(94337).A+"",width:"3352",height:"1720"})}),"\n",(0,s.jsxs)(a.p,{children:["More dashboards are constantly being added. Check out the ",(0,s.jsx)(a.a,{href:"https://github.com/apache/ozone/tree/master/hadoop-ozone/dist/src/main/compose/common/grafana/dashboards",children:"dashboard repo"}),"\nfor more."]}),"\n",(0,s.jsxs)(a.p,{children:["Check out the official Grafana doc ",(0,s.jsx)(a.a,{href:"https://grafana.com/docs/grafana-cloud/send-data/metrics/metrics-prometheus/prometheus-config-examples/the-apache-software-foundation-apache-ozone/",children:"Monitor Apache Ozone with Prometheus and Grafana\nCloud"}),"\nfor more details."]})]})}function l(e={}){const{wrapper:a}={...(0,r.R)(),...e.components};return a?(0,s.jsx)(a,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},36166:(e,a,o)=>{o.d(a,{A:()=>n});const n=o.p+"assets/images/GrafanaOzoneOverall-bd2dbb0a4ddf6becaf35b83b1ceef475.png"},62392:(e,a,o)=>{o.d(a,{R:()=>t,x:()=>d});var n=o(30758);const s={},r=n.createContext(s);function t(e){const a=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function d(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),n.createElement(r.Provider,{value:a},e.children)}},94337:(e,a,o)=>{o.d(a,{A:()=>n});const n=o.p+"assets/images/GrafanaOzoneRPCMetrics-0e97374302cde21114d6d09558674523.png"},99649:(e,a,o)=>{o.d(a,{A:()=>n});const n=o.p+"assets/images/GrafanaOzoneObjectMetrics-da824f2ba5392f17b06bac6d6db1749c.png"}}]);