"use strict";(self.webpackChunkdoc_site=self.webpackChunkdoc_site||[]).push([[5175],{53578:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"core-concepts/namespace/keys/overview","title":"Keys","description":"What is a Key?","source":"@site/docs/03-core-concepts/03-namespace/03-keys/01-overview.md","sourceDirName":"03-core-concepts/03-namespace/03-keys","slug":"/core-concepts/namespace/keys/overview","permalink":"/docs/core-concepts/namespace/keys/overview","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/ozone-site/tree/HDDS-9225-website-v2/docs/03-core-concepts/03-namespace/03-keys/01-overview.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_label":"Overview"},"sidebar":"defaultSidebar","previous":{"title":"Keys","permalink":"/docs/core-concepts/namespace/keys/"},"next":{"title":"Security","permalink":"/docs/core-concepts/security/"}}');var r=n(86070),s=n(62392);const i={sidebar_label:"Overview"},o="Keys",c={},d=[{value:"What is a Key?",id:"what-is-a-key",level:2},{value:"Details",id:"details",level:2},{value:"Creation, Reading, and Management",id:"creation-reading-and-management",level:3},{value:"Key Write and Read Process",id:"key-write-and-read-process",level:3},{value:"Atomic Key Replacement",id:"atomic-key-replacement",level:3},{value:"Trash",id:"trash",level:3},{value:"Encryption",id:"encryption",level:3},{value:"Access Control Lists (ACLs)",id:"access-control-lists-acls",level:3}];function l(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"keys",children:"Keys"})}),"\n",(0,r.jsx)(t.h2,{id:"what-is-a-key",children:"What is a Key?"}),"\n",(0,r.jsxs)(t.p,{children:["A ",(0,r.jsx)(t.strong,{children:"Key"})," is the fundamental data object in Ozone, analogous to a file in a traditional file system. Keys are stored within buckets and represent the actual data that users interact with."]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.strong,{children:"Key Characteristics:"})}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Contained within Buckets:"})," Every key must reside within a bucket."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Immutable Data Blocks:"})," Once written, the underlying data blocks of a key are immutable. Updates or modifications to a key typically result in new versions or new data blocks being written, with the metadata pointing to the latest version."]}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"details",children:"Details"}),"\n",(0,r.jsx)(t.h3,{id:"creation-reading-and-management",children:"Creation, Reading, and Management"}),"\n",(0,r.jsx)(t.p,{children:"Keys are created, read, and managed using the Ozone CLI or various client APIs (Java, S3, etc.)."}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"ozone sh key put /myvolume/mybucket/mykey.txt /path/to/local/file.txt\n"})}),"\n",(0,r.jsxs)(t.p,{children:["For more details on key operations, refer to the ",(0,r.jsx)(t.a,{href:"/docs/user-guide/client-interfaces/o3#key-operations",children:"Ozone CLI documentation"}),"."]}),"\n",(0,r.jsx)(t.h3,{id:"key-write-and-read-process",children:"Key Write and Read Process"}),"\n",(0,r.jsx)(t.p,{children:"When a client writes a key, the Ozone Manager handles the metadata (key name, location of data blocks), and the Datanodes store the actual data blocks. For reads, the Ozone Manager provides the client with the locations of the data blocks, which the client then retrieves directly from the Datanodes."}),"\n",(0,r.jsx)(t.p,{children:"For a deeper dive into the key write and read process, refer to the Ozone Manager documentation."}),"\n",(0,r.jsx)(t.h3,{id:"atomic-key-replacement",children:"Atomic Key Replacement"}),"\n",(0,r.jsx)(t.p,{children:"Ozone supports atomic key replacement, ensuring that a key is only overwritten if it hasn't changed since it was last read. This prevents lost updates in concurrent write scenarios."}),"\n",(0,r.jsx)(t.p,{children:"For more details, refer to the Overwriting Key Only If Unchanged design document."}),"\n",(0,r.jsx)(t.h3,{id:"trash",children:"Trash"}),"\n",(0,r.jsx)(t.p,{children:"When keys are deleted from File System Optimized (FSO) buckets, they are moved to a trash directory, allowing for recovery. For Object Store (OBS) buckets, keys are permanently deleted."}),"\n",(0,r.jsxs)(t.p,{children:["For more information on the trash feature, refer to the ",(0,r.jsx)(t.a,{href:"/docs/administrator-guide/operations/trash",children:"Trash documentation"}),"."]}),"\n",(0,r.jsx)(t.h3,{id:"encryption",children:"Encryption"}),"\n",(0,r.jsx)(t.p,{children:"If the parent bucket is encrypted, all keys written to that bucket will be transparently encrypted."}),"\n",(0,r.jsxs)(t.p,{children:["For more details, refer to the ",(0,r.jsx)(t.a,{href:"/docs/administrator-guide/configuration/security/encryption/transparent-data-encryption",children:"Transparent Data Encryption documentation"}),"."]}),"\n",(0,r.jsx)(t.h3,{id:"access-control-lists-acls",children:"Access Control Lists (ACLs)"}),"\n",(0,r.jsx)(t.p,{children:"ACLs can also be applied to individual keys, providing fine-grained control over read and write permissions."}),"\n",(0,r.jsxs)(t.p,{children:["For more details, refer to the ",(0,r.jsx)(t.a,{href:"/docs/core-concepts/security/acls/native-acls",children:"Native ACLs documentation"}),"."]})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},62392:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>o});var a=n(30758);const r={},s=a.createContext(r);function i(e){const t=a.useContext(s);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),a.createElement(s.Provider,{value:t},e.children)}}}]);