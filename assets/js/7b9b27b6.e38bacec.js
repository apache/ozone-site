"use strict";(self.webpackChunkdoc_site=self.webpackChunkdoc_site||[]).push([[216],{40936:(e,s,d)=>{d.r(s),d.d(s,{assets:()=>l,contentTitle:()=>c,default:()=>a,frontMatter:()=>i,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"user-guide/client-interfaces/ofs","title":"ofs: Hadoop Compatible Interface","description":"The Hadoop compatible file system interface allows storage backends like Ozone to be easily integrated into Hadoop eco-system. Ozone file system is a Hadoop compatible file system.","source":"@site/docs/04-user-guide/01-client-interfaces/02-ofs.md","sourceDirName":"04-user-guide/01-client-interfaces","slug":"/user-guide/client-interfaces/ofs","permalink":"/docs/user-guide/client-interfaces/ofs","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/ozone-site/tree/HDDS-9225-website-v2/docs/04-user-guide/01-client-interfaces/02-ofs.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_label":"ofs"},"sidebar":"defaultSidebar","previous":{"title":"Ozone Shell","permalink":"/docs/user-guide/client-interfaces/o3"},"next":{"title":"S3 API","permalink":"/docs/user-guide/client-interfaces/s3/"}}');var t=d(86070),n=d(62392);const i={sidebar_label:"ofs"},c="ofs: Hadoop Compatible Interface",l={},o=[{value:"The Basics",id:"the-basics",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Differences from o3fs",id:"differences-from-o3fs",level:2},{value:"Creating files",id:"creating-files",level:3},{value:"Simplify fs.defaultFS",id:"simplify-fsdefaultfs",level:3},{value:"Volume and bucket management directly from FileSystem shell",id:"volume-and-bucket-management-directly-from-filesystem-shell",level:3},{value:"Mounts and Configuring /tmp",id:"mounts-and-configuring-tmp",level:2},{value:"For /tmp directory per user (default)",id:"for-tmp-directory-per-user-default",level:3},{value:"For a sharable /tmp directory common to all users",id:"for-a-sharable-tmp-directory-common-to-all-users",level:3},{value:"Delete with trash enabled",id:"delete-with-trash-enabled",level:2},{value:"Note",id:"note",level:3},{value:"Recursive listing",id:"recursive-listing",level:2},{value:"Migrating from HDFS",id:"migrating-from-hdfs",level:2},{value:"Supported FileSystem APIs",id:"supported-filesystem-apis",level:3},{value:"Unsupported FileSystem APIs",id:"unsupported-filesystem-apis",level:3},{value:"Unsupported HDFS-Specific APIs",id:"unsupported-hdfs-specific-apis",level:3},{value:"[1]",id:"footnote-1",level:4},{value:"[2]",id:"footnote-2",level:4},{value:"[3]",id:"footnote-3",level:4},{value:"[4]",id:"footnote-4",level:4},{value:"[5]",id:"footnote-5",level:4},{value:"[6]",id:"footnote-6",level:4},{value:"[7]",id:"footnote-7",level:4}];function h(e){const s={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,n.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"ofs-hadoop-compatible-interface",children:"ofs: Hadoop Compatible Interface"})}),"\n",(0,t.jsx)(s.p,{children:"The Hadoop compatible file system interface allows storage backends like Ozone to be easily integrated into Hadoop eco-system. Ozone file system is a Hadoop compatible file system."}),"\n",(0,t.jsxs)(s.admonition,{type:"warning",children:[(0,t.jsxs)(s.p,{children:["Currently, Ozone supports two schemes: ",(0,t.jsx)(s.code,{children:"o3fs://"})," and ",(0,t.jsx)(s.code,{children:"ofs://"}),"."]}),(0,t.jsxs)(s.p,{children:["The biggest difference between ",(0,t.jsx)(s.code,{children:"o3fs"})," and ",(0,t.jsx)(s.code,{children:"ofs"})," is that ",(0,t.jsx)(s.code,{children:"o3fs"})," supports operations only at a ",(0,t.jsx)(s.strong,{children:"single bucket"}),", while ",(0,t.jsx)(s.code,{children:"ofs"})," supports operations across all volumes and buckets and provides a full view of all the volume/buckets."]})]}),"\n",(0,t.jsx)(s.h2,{id:"the-basics",children:"The Basics"}),"\n",(0,t.jsx)(s.p,{children:"Examples of valid ofs paths:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-text",children:"ofs://om1/\nofs://om3:9862/\nofs://omservice/\nofs://omservice/volume1/\nofs://omservice/volume1/bucket1/\nofs://omservice/volume1/bucket1/dir1\nofs://omservice/volume1/bucket1/dir1/key1\n\nofs://omservice/tmp/\nofs://omservice/tmp/key1\n"})}),"\n",(0,t.jsx)(s.p,{children:"Volumes and mount(s) are located at the root level of an ofs Filesystem.\nBuckets are listed naturally under volumes.\nKeys and directories are under each buckets."}),"\n",(0,t.jsxs)(s.p,{children:["Note that for mounts, only temp mount ",(0,t.jsx)(s.code,{children:"/tmp"})," is supported at the moment."]}),"\n",(0,t.jsx)(s.h2,{id:"configuration",children:"Configuration"}),"\n",(0,t.jsxs)(s.p,{children:["Please add the following entry to the ",(0,t.jsx)(s.code,{children:"core-site.xml"}),"."]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-xml",children:"<property>\n  <name>fs.ofs.impl</name>\n  <value>org.apache.hadoop.fs.ozone.RootedOzoneFileSystem</value>\n</property>\n<property>\n  <name>fs.defaultFS</name>\n  <value>ofs://om-host.example.com/</value>\n</property>\n"})}),"\n",(0,t.jsx)(s.p,{children:"This will make all the volumes and buckets to be the default Hadoop compatible file system and register the ofs file system type."}),"\n",(0,t.jsx)(s.p,{children:"You also need to add the Ozone filesystem JAR file to the classpath:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"export HADOOP_CLASSPATH=/opt/ozone/share/ozone/lib/ozone-filesystem-hadoop3-*.jar:$HADOOP_CLASSPATH\n"})}),"\n",(0,t.jsx)(s.admonition,{type:"note",children:(0,t.jsx)(s.p,{children:"With Hadoop 2.x, use the Hadoop 2.x version."})}),"\n",(0,t.jsx)(s.p,{children:"Once the default Filesystem has been setup, users can run commands like ls, put, mkdir, etc.\nFor example:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"hdfs dfs -ls /\n"})}),"\n",(0,t.jsx)(s.p,{children:"Note that ofs works on all buckets and volumes. Users can create buckets and volumes using mkdir, such as create volume named volume1 and bucket named bucket1:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"hdfs dfs -mkdir /volume1\nhdfs dfs -mkdir /volume1/bucket1\n"})}),"\n",(0,t.jsx)(s.p,{children:"Or use the put command to write a file to the bucket."}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"hdfs dfs -put /etc/hosts /volume1/bucket1/test\n"})}),"\n",(0,t.jsxs)(s.p,{children:["For more usage, see: ",(0,t.jsx)(s.a,{href:"https://issues.apache.org/jira/secure/attachment/12987636/Design%20ofs%20v1.pdf",children:"https://issues.apache.org/jira/secure/attachment/12987636/Design%20ofs%20v1.pdf"})]}),"\n",(0,t.jsx)(s.h2,{id:"differences-from-o3fs",children:"Differences from o3fs"}),"\n",(0,t.jsx)(s.h3,{id:"creating-files",children:"Creating files"}),"\n",(0,t.jsx)(s.p,{children:"ofs doesn't allow creating keys(files) directly under root or volumes.\nUsers will receive an error message when they try to do that:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"ozone fs -touch /volume1/key1\n# Output: touch: Cannot create file under root or volume.\n"})}),"\n",(0,t.jsx)(s.h3,{id:"simplify-fsdefaultfs",children:"Simplify fs.defaultFS"}),"\n",(0,t.jsxs)(s.p,{children:["With ofs, fs.defaultFS (in ",(0,t.jsx)(s.code,{children:"core-site.xml"}),") no longer needs to have a specific volume and bucket in its path like o3fs did.\nSimply put the OM host or service ID (in case of HA):"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-xml",children:"<property>\n  <name>fs.defaultFS</name>\n  <value>ofs://omservice</value>\n</property>\n"})}),"\n",(0,t.jsx)(s.p,{children:"The client would then be able to access every volume and bucket on the cluster without specifying the hostname or service ID."}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"ozone fs -mkdir -p /volume1/bucket1\n"})}),"\n",(0,t.jsx)(s.h3,{id:"volume-and-bucket-management-directly-from-filesystem-shell",children:"Volume and bucket management directly from FileSystem shell"}),"\n",(0,t.jsxs)(s.p,{children:["Admins can create and delete volumes and buckets easily with Hadoop FS shell.\nVolumes and buckets are treated similar to directories so they will be created if they don't exist with ",(0,t.jsx)(s.code,{children:"-p"}),":"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"ozone fs -mkdir -p ofs://omservice/volume1/bucket1/dir1/\n"})}),"\n",(0,t.jsxs)(s.p,{children:["Note that the supported volume and bucket name character set rule still applies.\nFor instance, bucket and volume names don't take underscore(",(0,t.jsx)(s.code,{children:"_"}),"):"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"$ ozone fs -mkdir -p /volume_1\nmkdir: Bucket or Volume name has an unsupported character : _\n"})}),"\n",(0,t.jsx)(s.h2,{id:"mounts-and-configuring-tmp",children:"Mounts and Configuring /tmp"}),"\n",(0,t.jsx)(s.p,{children:"In order to be compatible with legacy Hadoop applications that use /tmp/, we have a special temp mount located at the root of the FS.\nThis feature may be expanded in the feature to support custom mount paths."}),"\n",(0,t.jsxs)(s.p,{children:["Currently Ozone supports two configurations for /tmp. The first (default), is a tmp directory for each user comprised of a mount volume with a user specific temp bucket. The second (configurable through ",(0,t.jsx)(s.code,{children:"ozone-site.xml"}),"), a sticky-bit like tmp directory common to all users comprised of a mount volume and a common temp bucket."]}),"\n",(0,t.jsxs)(s.p,{children:["Important: To use it, first, an ",(0,t.jsx)(s.strong,{children:"admin"})," needs to create the volume tmp (the volume name is hardcoded for now) and set its ACL to world ALL access.\nNamely:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"ozone sh volume create tmp\nozone sh volume setacl tmp -al world::a\n"})}),"\n",(0,t.jsxs)(s.p,{children:["These commands only need to be done ",(0,t.jsx)(s.strong,{children:"once per cluster"}),"."]}),"\n",(0,t.jsx)(s.h3,{id:"for-tmp-directory-per-user-default",children:"For /tmp directory per user (default)"}),"\n",(0,t.jsxs)(s.p,{children:["Then, ",(0,t.jsx)(s.strong,{children:"each user"})," needs to mkdir first to initialize their own temp bucket once."]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"$ ozone fs -mkdir /tmp\n2020-06-04 00:00:00,050 [main] INFO rpc.RpcClient: Creating Bucket: tmp/0238 ...\n"})}),"\n",(0,t.jsx)(s.p,{children:"After that they can write to it just like they would do to a regular directory. e.g.:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"ozone fs -touch /tmp/key1\n"})}),"\n",(0,t.jsx)(s.h3,{id:"for-a-sharable-tmp-directory-common-to-all-users",children:"For a sharable /tmp directory common to all users"}),"\n",(0,t.jsxs)(s.p,{children:["To enable the sticky-bit common /tmp directory, update the ",(0,t.jsx)(s.code,{children:"ozone-site.xml"})," with the following property"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-xml",children:"<property>\n  <name>ozone.om.enable.ofs.shared.tmp.dir</name>\n  <value>true</value>\n</property>\n"})}),"\n",(0,t.jsxs)(s.p,{children:["Then after setting up the volume tmp as ",(0,t.jsx)(s.strong,{children:"admin"}),", also configure a tmp bucket that serves as the common /tmp directory for all users, for example,"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"$ ozone sh bucket create /tmp/tmp\n$ ozone sh volume setacl tmp -a user:anyuser:rwlc \\\n  user:adminuser:a,group:anyuser:rwlc,group:adminuser:a tmp/tmp\n"})}),"\n",(0,t.jsx)(s.p,{children:"where, anyuser is username(s) admin wants to grant access and, adminuser is the admin username."}),"\n",(0,t.jsx)(s.p,{children:"Users then access the tmp directory as,"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"ozone fs -put ./NOTICE.txt ofs://om/tmp/key1\n"})}),"\n",(0,t.jsx)(s.h2,{id:"delete-with-trash-enabled",children:"Delete with trash enabled"}),"\n",(0,t.jsxs)(s.p,{children:["In order to enable trash in Ozone, Please add these configs to ",(0,t.jsx)(s.code,{children:"core-site.xml"})]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-xml",children:"<property>\n  <name>fs.trash.interval</name>\n  <value>10</value>\n</property>\n<property>\n  <name>fs.trash.classname</name>\n  <value>org.apache.hadoop.fs.ozone.OzoneTrashPolicy</value>\n</property>\n"})}),"\n",(0,t.jsx)(s.p,{children:"When keys are deleted with trash enabled, they are moved to a trash directory under each bucket, because keys aren't allowed to be moved(renamed) between buckets in Ozone."}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"$ ozone fs -rm /volume1/bucket1/key1\n2020-06-04 00:00:00,100 [main] INFO fs.TrashPolicyDefault: Moved: 'ofs://id1/volume1/bucket1/key1' to trash at: ofs://id1/volume1/bucket1/.Trash/hadoop/Current/volume1/bucket1/key1\n"})}),"\n",(0,t.jsx)(s.p,{children:"This is very similar to how the HDFS encryption zone handles trash location."}),"\n",(0,t.jsx)(s.h3,{id:"note",children:"Note"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:["The flag ",(0,t.jsx)(s.code,{children:"-skipTrash"})," can be used to delete files permanently without being moved to trash."]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:["Deletes at bucket or volume level with trash enabled are not allowed. One must use skipTrash in such cases.\ni.e ",(0,t.jsx)(s.code,{children:"ozone fs -rm -R ofs://vol1/bucket1"})," or ",(0,t.jsx)(s.code,{children:"ozone fs -rm -R o3fs://bucket1.vol1"})," are not allowed without skipTrash"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"recursive-listing",children:"Recursive listing"}),"\n",(0,t.jsx)(s.p,{children:"ofs supports recursive volume, bucket and key listing."}),"\n",(0,t.jsxs)(s.p,{children:["i.e. ",(0,t.jsx)(s.code,{children:"ozone fs -ls -R ofs://omservice/"})," will recursively list all volumes, buckets and keys the user has LIST permission to if ACL is enabled.\nIf ACL is disabled, the command would just list literally everything on that cluster."]}),"\n",(0,t.jsx)(s.p,{children:"This feature wouldn't degrade server performance as the loop is on the client.\nThink it as a client is issuing multiple requests to the server to get all the information."}),"\n",(0,t.jsx)(s.h2,{id:"migrating-from-hdfs",children:"Migrating from HDFS"}),"\n",(0,t.jsx)(s.p,{children:"This guide helps you migrate applications from HDFS to Ozone by detailing the API-level compatibility of the Ozone File System (ofs)."}),"\n",(0,t.jsx)(s.p,{children:"To ensure a smooth transition, you should first verify that your existing applications will work with ofs. You can check for potential incompatibilities by identifying the HDFS APIs your applications use."}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"For Cluster Administrators"}),": Analyze the NameNode audit logs on your source HDFS cluster to identify the operations performed by your applications."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"For Application Developers"}),": Review your application's source code to identify which ",(0,t.jsx)(s.code,{children:"FileSystem"})," or ",(0,t.jsx)(s.code,{children:"DistributedFileSystem"})," APIs are being called."]}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:"Once you have a list of APIs, compare it against the tables below to identify any unsupported operations."}),"\n",(0,t.jsx)(s.h3,{id:"supported-filesystem-apis",children:"Supported FileSystem APIs"}),"\n",(0,t.jsxs)(s.p,{children:["The following standard ",(0,t.jsx)(s.code,{children:"FileSystem"})," APIs are supported by ofs."]}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Operation"}),(0,t.jsx)(s.th,{children:"NameNode audit log"}),(0,t.jsx)(s.th,{children:"Description"}),(0,t.jsx)(s.th,{children:"Support"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"access"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"checkAccess"})}),(0,t.jsx)(s.td,{children:"Checks if the user can access a path."}),(0,t.jsx)(s.td,{children:"Supported"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"create"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"create"})}),(0,t.jsx)(s.td,{children:"Creates a new file."}),(0,t.jsx)(s.td,{children:"Supported"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"open"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"open"})}),(0,t.jsx)(s.td,{children:"Opens a file for reading."}),(0,t.jsx)(s.td,{children:"Supported"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"rename"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"rename"})}),(0,t.jsx)(s.td,{children:"Renames a file or directory."}),(0,t.jsxs)(s.td,{children:["Supported ",(0,t.jsx)(s.a,{href:"#footnote-1",children:"[1]"})]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"delete"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"delete"})}),(0,t.jsx)(s.td,{children:"Deletes a file or directory."}),(0,t.jsxs)(s.td,{children:["Supported ",(0,t.jsx)(s.a,{href:"#footnote-2",children:"[2]"})]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"listStatus"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"listStatus"})}),(0,t.jsx)(s.td,{children:"Lists the status of files in a directory."}),(0,t.jsxs)(s.td,{children:["Supported ",(0,t.jsx)(s.a,{href:"#footnote-3",children:"[3]"})]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"mkdirs"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"mkdirs"})}),(0,t.jsx)(s.td,{children:"Creates a directory and its parents."}),(0,t.jsx)(s.td,{children:"Supported"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"getFileStatus"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"getfileinfo"})}),(0,t.jsx)(s.td,{children:"Gets the status of a file."}),(0,t.jsx)(s.td,{children:"Supported"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"setTimes"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"setTimes"})}),(0,t.jsx)(s.td,{children:"Sets the modification and access times."}),(0,t.jsx)(s.td,{children:"Supported"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"getLinkTarget"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"getfileinfo"})}),(0,t.jsx)(s.td,{children:"Gets the target of a symbolic link."}),(0,t.jsxs)(s.td,{children:["Supported ",(0,t.jsx)(s.a,{href:"#footnote-4",children:"[4]"})]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"getFileChecksum"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"open"})}),(0,t.jsx)(s.td,{children:"Gets the checksum of a file."}),(0,t.jsx)(s.td,{children:"Supported"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"setSafeMode"})}),(0,t.jsxs)(s.td,{children:[(0,t.jsx)(s.code,{children:"safemode_leave"}),", ",(0,t.jsx)(s.code,{children:"safemode_enter"}),", ",(0,t.jsx)(s.code,{children:"safemode_get"}),", ",(0,t.jsx)(s.code,{children:"safemode_force_exit"})]}),(0,t.jsx)(s.td,{children:"Enters or leaves safe mode."}),(0,t.jsx)(s.td,{children:"Supported"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"recoverLease"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"recoverLease"})}),(0,t.jsx)(s.td,{children:"Recovers a file lease."}),(0,t.jsx)(s.td,{children:"Supported"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"isFileClosed"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"isFileClosed"})}),(0,t.jsx)(s.td,{children:"Checks if a file is closed."}),(0,t.jsx)(s.td,{children:"Supported"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"createSnapshot"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"createSnapshot"})}),(0,t.jsx)(s.td,{children:"Creates a snapshot."}),(0,t.jsxs)(s.td,{children:["Supported ",(0,t.jsx)(s.a,{href:"#footnote-5",children:"[5]"})]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"deleteSnapshot"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"deleteSnapshot"})}),(0,t.jsx)(s.td,{children:"Deletes a snapshot."}),(0,t.jsxs)(s.td,{children:["Supported ",(0,t.jsx)(s.a,{href:"#footnote-5",children:"[5]"})]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"renameSnapshot"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"renameSnapshot"})}),(0,t.jsx)(s.td,{children:"Renames a snapshot."}),(0,t.jsxs)(s.td,{children:["Supported ",(0,t.jsx)(s.a,{href:"#footnote-5",children:"[5]"})]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"getSnapshotDiffReport"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"computeSnapshotDiff"})}),(0,t.jsx)(s.td,{children:"Gets a snapshot diff report."}),(0,t.jsxs)(s.td,{children:["Supported ",(0,t.jsx)(s.a,{href:"#footnote-5",children:"[5]"})]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"getContentSummary"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"contentSummary"})}),(0,t.jsx)(s.td,{children:"Gets the content summary of a path."}),(0,t.jsx)(s.td,{children:"Supported"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"getDelegationToken"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"getDelegationToken"})}),(0,t.jsx)(s.td,{children:"Gets a delegation token."}),(0,t.jsx)(s.td,{children:"Supported"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"globStatus"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"listStatus"})}),(0,t.jsx)(s.td,{children:"Finds files matching a pattern."}),(0,t.jsx)(s.td,{children:"Supported"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"copyFromLocalFile"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"getfileinfo"})}),(0,t.jsx)(s.td,{children:"Copies a file from the local filesystem."}),(0,t.jsx)(s.td,{children:"Supported"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"exists"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"getfileinfo"})}),(0,t.jsx)(s.td,{children:"Checks if a path exists."}),(0,t.jsx)(s.td,{children:"Supported"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"getFileBlockLocations"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"open"})}),(0,t.jsx)(s.td,{children:"Gets file block locations."}),(0,t.jsx)(s.td,{children:"Supported"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"getTrashRoot"})}),(0,t.jsxs)(s.td,{children:[(0,t.jsx)(s.code,{children:"listSnapshottableDirectory"}),", ",(0,t.jsx)(s.code,{children:"getEZForPath"})]}),(0,t.jsx)(s.td,{children:"Gets the trash root for a path."}),(0,t.jsx)(s.td,{children:"Supported"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"getTrashRoots"})}),(0,t.jsxs)(s.td,{children:[(0,t.jsx)(s.code,{children:"listStatus"}),", ",(0,t.jsx)(s.code,{children:"listEncryptionZones"})]}),(0,t.jsx)(s.td,{children:"Gets all trash roots."}),(0,t.jsx)(s.td,{children:"Supported"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"isDirectory"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"getfileinfo"})}),(0,t.jsx)(s.td,{children:"Checks if a path is a directory."}),(0,t.jsx)(s.td,{children:"Supported"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"isFile"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"getfileinfo"})}),(0,t.jsx)(s.td,{children:"Checks if a path is a file."}),(0,t.jsx)(s.td,{children:"Supported"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"listFiles"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"listStatus"})}),(0,t.jsx)(s.td,{children:"Returns a remote iterator for files."}),(0,t.jsx)(s.td,{children:"Supported"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"listLocatedStatus"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"listStatus"})}),(0,t.jsx)(s.td,{children:"Returns a remote iterator for located file statuses."}),(0,t.jsx)(s.td,{children:"Supported"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"listStatusIterator"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"listStatus"})}),(0,t.jsx)(s.td,{children:"Returns a remote iterator for file statuses."}),(0,t.jsx)(s.td,{children:"Supported"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"getDefaultBlockSize"})}),(0,t.jsx)(s.td,{children:"N/A"}),(0,t.jsx)(s.td,{children:"Gets the default block size."}),(0,t.jsx)(s.td,{children:"Supported"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"getDefaultReplication"})}),(0,t.jsx)(s.td,{children:"N/A"}),(0,t.jsx)(s.td,{children:"Gets the default replication factor."}),(0,t.jsx)(s.td,{children:"Supported"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"getHomeDirectory"})}),(0,t.jsx)(s.td,{children:"N/A"}),(0,t.jsx)(s.td,{children:"Gets the user's home directory."}),(0,t.jsx)(s.td,{children:"Supported"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"getServerDefaults"})}),(0,t.jsx)(s.td,{children:"N/A"}),(0,t.jsx)(s.td,{children:"Gets the server default values."}),(0,t.jsx)(s.td,{children:"Supported"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"getWorkingDirectory"})}),(0,t.jsx)(s.td,{children:"N/A"}),(0,t.jsx)(s.td,{children:"Gets the current working directory."}),(0,t.jsx)(s.td,{children:"Supported"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"hasPathCapability"})}),(0,t.jsx)(s.td,{children:"N/A"}),(0,t.jsx)(s.td,{children:"Queries for a path capability."}),(0,t.jsx)(s.td,{children:"Supported"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"setWorkingDirectory"})}),(0,t.jsx)(s.td,{children:"N/A"}),(0,t.jsx)(s.td,{children:"Sets the current working directory."}),(0,t.jsx)(s.td,{children:"Supported"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"supportsSymlinks"})}),(0,t.jsx)(s.td,{children:"N/A"}),(0,t.jsx)(s.td,{children:"Checks if symbolic links are supported."}),(0,t.jsx)(s.td,{children:"Supported"})]})]})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.em,{children:"Note: An audit log of N/A means the API is client-side only and does not access the NameNode."})}),"\n",(0,t.jsx)(s.h3,{id:"unsupported-filesystem-apis",children:"Unsupported FileSystem APIs"}),"\n",(0,t.jsxs)(s.p,{children:["The following standard ",(0,t.jsx)(s.code,{children:"FileSystem"})," APIs are not supported by ofs."]}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Operation"}),(0,t.jsx)(s.th,{children:"NameNode audit log"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"append"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"append"})}),(0,t.jsx)(s.td,{children:"Appends to an existing file."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"setPermission"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"setPermission"})}),(0,t.jsx)(s.td,{children:"Sets the permission of a file."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"setOwner"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"setOwner"})}),(0,t.jsx)(s.td,{children:"Sets the owner of a file."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"setReplication"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"setReplication"})}),(0,t.jsx)(s.td,{children:"Sets the replication factor."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"createSymlink"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"createSymlink"})}),(0,t.jsx)(s.td,{children:"Creates a symbolic link."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"resolveLink"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"getfileinfo"})}),(0,t.jsx)(s.td,{children:"Resolves a symbolic link."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"setXAttr"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"setXAttr"})}),(0,t.jsx)(s.td,{children:"Sets an extended attribute."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"getXAttr"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"getXAttrs"})}),(0,t.jsx)(s.td,{children:"Gets an extended attribute."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"getXAttrs"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"getXAttrs"})}),(0,t.jsx)(s.td,{children:"Gets extended attributes."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"listXAttrs"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"listXAttrs"})}),(0,t.jsx)(s.td,{children:"Lists extended attributes."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"removeXAttr"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"removeXAttr"})}),(0,t.jsx)(s.td,{children:"Removes an extended attribute."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"setAcl"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"setAcl"})}),(0,t.jsx)(s.td,{children:"Sets an ACL."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"getAclStatus"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"getAclStatus"})}),(0,t.jsx)(s.td,{children:"Gets an ACL status."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"modifyAclEntries"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"modifyAclEntries"})}),(0,t.jsx)(s.td,{children:"Modifies ACL entries."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"removeAclEntries"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"removeAclEntries"})}),(0,t.jsx)(s.td,{children:"Removes ACL entries."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"removeDefaultAcl"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"removeDefaultAcl"})}),(0,t.jsx)(s.td,{children:"Removes the default ACL."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"removeAcl"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"removeAcl"})}),(0,t.jsx)(s.td,{children:"Removes an ACL."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"truncate"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"truncate"})}),(0,t.jsx)(s.td,{children:"Truncates a file."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"concat"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"concat"})}),(0,t.jsx)(s.td,{children:"Concatenates files."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"listCorruptFileBlocks"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"listCorruptFileBlocks"})}),(0,t.jsx)(s.td,{children:"List corrupted file blocks"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"msync"})}),(0,t.jsx)(s.td,{children:"N/A"}),(0,t.jsx)(s.td,{children:"Does not have a corresponding HDFS audit log."})]})]})]}),"\n",(0,t.jsx)(s.h3,{id:"unsupported-hdfs-specific-apis",children:"Unsupported HDFS-Specific APIs"}),"\n",(0,t.jsxs)(s.p,{children:["The following APIs are specific to HDFS's ",(0,t.jsx)(s.code,{children:"DistributedFileSystem"})," implementation and are not part of the generic ",(0,t.jsx)(s.code,{children:"org.apache.hadoop.fs.FileSystem"})," API. Therefore, they are not supported by ofs. However, see the footnotes below for equivalent APIs."]}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Operation"}),(0,t.jsx)(s.th,{children:"NameNode audit log"}),(0,t.jsx)(s.th,{children:"Description"}),(0,t.jsx)(s.th,{children:"Support"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"getErasureCodingPolicy"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"getErasureCodingPolicy"})}),(0,t.jsx)(s.td,{children:"Gets the erasure coding policy of a file/dir."}),(0,t.jsxs)(s.td,{children:["Unsupported ",(0,t.jsx)(s.a,{href:"#footnote-6",children:"[6]"})]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"setErasureCodingPolicy"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"setErasureCodingPolicy"})}),(0,t.jsx)(s.td,{children:"Sets an erasure coding policy on a directory."}),(0,t.jsxs)(s.td,{children:["Unsupported ",(0,t.jsx)(s.a,{href:"#footnote-6",children:"[6]"})]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"unsetErasureCodingPolicy"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"unsetErasureCodingPolicy"})}),(0,t.jsx)(s.td,{children:"Unsets an erasure coding policy on a directory."}),(0,t.jsxs)(s.td,{children:["Unsupported ",(0,t.jsx)(s.a,{href:"#footnote-6",children:"[6]"})]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"addErasureCodingPolicies"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"addErasureCodingPolicies"})}),(0,t.jsx)(s.td,{children:"Adds erasure coding policies."}),(0,t.jsxs)(s.td,{children:["Unsupported ",(0,t.jsx)(s.a,{href:"#footnote-6",children:"[6]"})]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"getErasureCodingPolicies"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"getErasureCodingPolicies"})}),(0,t.jsx)(s.td,{children:"Gets the available erasure coding policies."}),(0,t.jsxs)(s.td,{children:["Unsupported ",(0,t.jsx)(s.a,{href:"#footnote-6",children:"[6]"})]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"removeErasureCodingPolicy"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"removeErasureCodingPolicy"})}),(0,t.jsx)(s.td,{children:"Removes an erasure coding policy."}),(0,t.jsxs)(s.td,{children:["Unsupported ",(0,t.jsx)(s.a,{href:"#footnote-6",children:"[6]"})]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"enableErasureCodingPolicy"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"enableErasureCodingPolicy"})}),(0,t.jsx)(s.td,{children:"Enables an erasure coding policy."}),(0,t.jsxs)(s.td,{children:["Unsupported ",(0,t.jsx)(s.a,{href:"#footnote-6",children:"[6]"})]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"disableErasureCodingPolicy"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"disableErasureCodingPolicy"})}),(0,t.jsx)(s.td,{children:"Disables an erasure coding policy."}),(0,t.jsxs)(s.td,{children:["Unsupported ",(0,t.jsx)(s.a,{href:"#footnote-6",children:"[6]"})]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"getErasureCodingCodecs"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"getErasureCodingCodecs"})}),(0,t.jsx)(s.td,{children:"Lists all erasure coding codecs."}),(0,t.jsxs)(s.td,{children:["Unsupported ",(0,t.jsx)(s.a,{href:"#footnote-6",children:"[6]"})]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"getECTopologyResultForPolicies"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"getECTopologyResultForPolicies"})}),(0,t.jsx)(s.td,{children:"Get erasure coding topology result for policies."}),(0,t.jsxs)(s.td,{children:["Unsupported ",(0,t.jsx)(s.a,{href:"#footnote-6",children:"[6]"})]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"getSnapshotListing"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"ListSnapshot"})}),(0,t.jsx)(s.td,{children:"List all snapshots of a snapshottable directory."}),(0,t.jsxs)(s.td,{children:["Unsupported ",(0,t.jsx)(s.a,{href:"#footnote-6",children:"[6]"})]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"allowSnapshot"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"allowSnapshot"})}),(0,t.jsx)(s.td,{children:"Allows snapshots to be taken on a directory."}),(0,t.jsxs)(s.td,{children:["Unsupported ",(0,t.jsx)(s.a,{href:"#footnote-6",children:"[6]"})]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"disallowSnapshot"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"disallowSnapshot"})}),(0,t.jsx)(s.td,{children:"Disallows snapshots to be taken on a directory."}),(0,t.jsxs)(s.td,{children:["Unsupported ",(0,t.jsx)(s.a,{href:"#footnote-6",children:"[6]"})]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"provisionSnapshotTrash"})}),(0,t.jsxs)(s.td,{children:[(0,t.jsx)(s.code,{children:"getfileinfo"}),", ",(0,t.jsx)(s.code,{children:"mkdirs"}),", ",(0,t.jsx)(s.code,{children:"setPermission"})]}),(0,t.jsx)(s.td,{children:"Provision trash for a snapshottable directory."}),(0,t.jsxs)(s.td,{children:["Unsupported ",(0,t.jsx)(s.a,{href:"#footnote-6",children:"[6]"})]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"createEncryptionZone"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"createEncryptionZone"})}),(0,t.jsx)(s.td,{children:"Creates an encryption zone."}),(0,t.jsxs)(s.td,{children:["Unsupported ",(0,t.jsx)(s.a,{href:"#footnote-6",children:"[6]"})]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"getEZForPath"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"getEZForPath"})}),(0,t.jsx)(s.td,{children:"Gets the encryption zone for a path."}),(0,t.jsxs)(s.td,{children:["Unsupported ",(0,t.jsx)(s.a,{href:"#footnote-6",children:"[6]"})]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"listEncryptionZones"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"listEncryptionZones"})}),(0,t.jsx)(s.td,{children:"Lists all encryption zones."}),(0,t.jsxs)(s.td,{children:["Unsupported ",(0,t.jsx)(s.a,{href:"#footnote-6",children:"[6]"})]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"reencryptEncryptionZone"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"reencryptEncryptionZone"})}),(0,t.jsx)(s.td,{children:"Reencrypt an encryption zone."}),(0,t.jsxs)(s.td,{children:["Unsupported ",(0,t.jsx)(s.a,{href:"#footnote-6",children:"[6]"})]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"listReencryptionStatus"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"listReencryptionStatus"})}),(0,t.jsx)(s.td,{children:"List reencryption status."}),(0,t.jsxs)(s.td,{children:["Unsupported ",(0,t.jsx)(s.a,{href:"#footnote-6",children:"[6]"})]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"getFileEncryptionInfo"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"getfileinfo"})}),(0,t.jsx)(s.td,{children:"Get file encryption info."}),(0,t.jsxs)(s.td,{children:["Unsupported ",(0,t.jsx)(s.a,{href:"#footnote-6",children:"[6]"})]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"provisionEZTrash"})}),(0,t.jsxs)(s.td,{children:[(0,t.jsx)(s.code,{children:"getEZForPath"}),", ",(0,t.jsx)(s.code,{children:"getfileinfo"}),", ",(0,t.jsx)(s.code,{children:"mkdirs"}),", ",(0,t.jsx)(s.code,{children:"setPermission"})]}),(0,t.jsx)(s.td,{children:"Provision trash for an encryption zone."}),(0,t.jsxs)(s.td,{children:["Unsupported ",(0,t.jsx)(s.a,{href:"#footnote-6",children:"[6]"})]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"setQuota"})}),(0,t.jsxs)(s.td,{children:[(0,t.jsx)(s.code,{children:"clearQuota"})," or ",(0,t.jsx)(s.code,{children:"clearSpaceQuota"})," or ",(0,t.jsx)(s.code,{children:"setQuota"})," or ",(0,t.jsx)(s.code,{children:"setSpaceQuota"})]}),(0,t.jsx)(s.td,{children:"Sets the quota usage for a path."}),(0,t.jsxs)(s.td,{children:["Unsupported ",(0,t.jsx)(s.a,{href:"#footnote-6",children:"[6]"})]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"getQuotaUsage"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"quotaUsage"})}),(0,t.jsx)(s.td,{children:"Gets the quota usage for a path."}),(0,t.jsxs)(s.td,{children:["Unsupported ",(0,t.jsx)(s.a,{href:"#footnote-6",children:"[6]"})]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"setQuotaByStorageType"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"setSpaceQuota"})}),(0,t.jsx)(s.td,{children:"Sets quota by storage type for a path."}),(0,t.jsxs)(s.td,{children:["Unsupported ",(0,t.jsx)(s.a,{href:"#footnote-6",children:"[6]"})]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"unsetStoragePolicy"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"unsetStoragePolicy"})}),(0,t.jsx)(s.td,{children:"Unsets a storage policy on a file or directory."}),(0,t.jsx)(s.td,{children:"Unsupported"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"setStoragePolicy"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"setStoragePolicy"})}),(0,t.jsx)(s.td,{children:"Sets a storage policy on a file or directory."}),(0,t.jsx)(s.td,{children:"Unsupported"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"getStoragePolicy"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"getStoragePolicy"})}),(0,t.jsx)(s.td,{children:"Gets the storage policy of a file or directory."}),(0,t.jsx)(s.td,{children:"Unsupported"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"satisfyStoragePolicy"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"satisfyStoragePolicy"})}),(0,t.jsx)(s.td,{children:"Satisfies the storage policy of a file."}),(0,t.jsx)(s.td,{children:"Unsupported"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"addCachePool"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"addCachePool"})}),(0,t.jsx)(s.td,{children:"Adds a cache pool."}),(0,t.jsx)(s.td,{children:"Unsupported"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"modifyCachePool"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"modifyCachePool"})}),(0,t.jsx)(s.td,{children:"Modifies a cache pool."}),(0,t.jsx)(s.td,{children:"Unsupported"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"removeCachePool"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"removeCachePool"})}),(0,t.jsx)(s.td,{children:"Removes a cache pool."}),(0,t.jsx)(s.td,{children:"Unsupported"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"listCachePools"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"listCachePools"})}),(0,t.jsx)(s.td,{children:"Lists all cache pools."}),(0,t.jsx)(s.td,{children:"Unsupported"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"addCacheDirective"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"addCacheDirective"})}),(0,t.jsx)(s.td,{children:"Adds a cache directive."}),(0,t.jsx)(s.td,{children:"Unsupported"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"modifyCacheDirective"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"modifyCacheDirective"})}),(0,t.jsx)(s.td,{children:"Modifies a cache directive."}),(0,t.jsx)(s.td,{children:"Unsupported"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"removeCacheDirective"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"removeCacheDirective"})}),(0,t.jsx)(s.td,{children:"Removes a cache directive."}),(0,t.jsx)(s.td,{children:"Unsupported"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"listCacheDirectives"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"listCacheDirectives"})}),(0,t.jsx)(s.td,{children:"Lists cache directives."}),(0,t.jsx)(s.td,{children:"Unsupported"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"getSlowDatanodeStats"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"datanodeReport"})}),(0,t.jsx)(s.td,{children:"Get slow Datanode stats."}),(0,t.jsx)(s.td,{children:"Unsupported"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"saveNamespace"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"saveNamespace"})}),(0,t.jsx)(s.td,{children:"Save the namespace."}),(0,t.jsx)(s.td,{children:"Unsupported"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"restoreFailedStorage"})}),(0,t.jsxs)(s.td,{children:[(0,t.jsx)(s.code,{children:"checkRestoreFailedStorage"}),", ",(0,t.jsx)(s.code,{children:"enableRestoreFailedStorage"}),", ",(0,t.jsx)(s.code,{children:"disableRestoreFailedStorage"})]}),(0,t.jsx)(s.td,{children:"Restore failed storage."}),(0,t.jsx)(s.td,{children:"Unsupported"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"refreshNodes"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"refreshNodes"})}),(0,t.jsx)(s.td,{children:"Refresh nodes."}),(0,t.jsx)(s.td,{children:"Unsupported"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"setBalancerBandwidth"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"setBalancerBandwidth"})}),(0,t.jsx)(s.td,{children:"Set balancer bandwidth."}),(0,t.jsx)(s.td,{children:"Unsupported"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"metaSave"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"metaSave"})}),(0,t.jsx)(s.td,{children:"Meta save."}),(0,t.jsx)(s.td,{children:"Unsupported"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"rollingUpgrade"})}),(0,t.jsxs)(s.td,{children:[(0,t.jsx)(s.code,{children:"queryRollingUpgrade"}),", ",(0,t.jsx)(s.code,{children:"startRollingUpgrade"}),", ",(0,t.jsx)(s.code,{children:"finalizeRollingUpgrade"})]}),(0,t.jsx)(s.td,{children:"Rolling upgrade."}),(0,t.jsx)(s.td,{children:"Unsupported"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"finalizeUpgrade"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"finalizeUpgrade"})}),(0,t.jsx)(s.td,{children:"Finalize upgrade."}),(0,t.jsxs)(s.td,{children:["Unsupported ",(0,t.jsx)(s.a,{href:"#footnote-7",children:"[7]"})]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"listOpenFiles"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"listOpenFiles"})}),(0,t.jsx)(s.td,{children:"List open files."}),(0,t.jsxs)(s.td,{children:["Unsupported ",(0,t.jsx)(s.a,{href:"#footnote-7",children:"[7]"})]})]})]})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Footnotes:"})}),"\n",(0,t.jsx)(s.h4,{id:"footnote-1",children:"[1]"}),"\n",(0,t.jsx)(s.p,{children:"Renaming files or directories across different buckets is not supported. Within a File System Optimized (FSO) bucket, rename is an atomic metadata operation. For legacy buckets, renaming a directory is a non-atomic operation that renames each file and subdirectory individually."}),"\n",(0,t.jsx)(s.h4,{id:"footnote-2",children:"[2]"}),"\n",(0,t.jsx)(s.p,{children:"Deleting the filesystem root is not allowed. Recursively deleting a volume is also not supported."}),"\n",(0,t.jsx)(s.h4,{id:"footnote-3",children:"[3]"}),"\n",(0,t.jsx)(s.p,{children:"Recursive listing is not supported at the root or volume level."}),"\n",(0,t.jsx)(s.h4,{id:"footnote-4",children:"[4]"}),"\n",(0,t.jsx)(s.p,{children:'ofs supports "linked buckets," where one bucket serves as a reference to another. However, general-purpose symbolic links for files or directories are not supported.'}),"\n",(0,t.jsx)(s.h4,{id:"footnote-5",children:"[5]"}),"\n",(0,t.jsx)(s.p,{children:"Snapshots are supported at the bucket level only."}),"\n",(0,t.jsx)(s.h4,{id:"footnote-6",children:"[6]"}),"\n",(0,t.jsx)(s.p,{children:"For operations related to encryption zones, erasure coding, snapshots, and quotas, use the corresponding Ozone bucket-level APIs instead."}),"\n",(0,t.jsx)(s.h4,{id:"footnote-7",children:"[7]"}),"\n",(0,t.jsxs)(s.p,{children:["Replace with ",(0,t.jsx)(s.code,{children:"OzoneManagerProtocol.finalizeUpgrade()"})," and ",(0,t.jsx)(s.code,{children:"OzoneManagerProtocol.listOpenFiles()"}),"."]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsxs)(s.em,{children:["The following audit logs are typically produced by HDFS internal services and are not relevant for application migration: ",(0,t.jsx)(s.code,{children:"slowDataNodesReport"}),", ",(0,t.jsx)(s.code,{children:"getDatanodeStorageReport"}),", ",(0,t.jsx)(s.code,{children:"rollEditLog"}),", ",(0,t.jsx)(s.code,{children:"renewDelegationToken"}),", ",(0,t.jsx)(s.code,{children:"cancelDelegationToken"}),", ",(0,t.jsx)(s.code,{children:"gcDeletedSnapshot"}),"."]})}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsxs)(s.em,{children:["The following audit logs are produced by the HDFS output stream: ",(0,t.jsx)(s.code,{children:"getAdditionalBlock"}),", ",(0,t.jsx)(s.code,{children:"getAdditionalDatanode"}),", ",(0,t.jsx)(s.code,{children:"abandonBlock"}),", ",(0,t.jsx)(s.code,{children:"completeFile"}),", ",(0,t.jsx)(s.code,{children:"fsync"}),"."]})}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsxs)(s.em,{children:["The ",(0,t.jsx)(s.code,{children:"getPreferredBlockSize"})," audit log is used in testing only."]})})]})}function a(e={}){const{wrapper:s}={...(0,n.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},62392:(e,s,d)=>{d.d(s,{R:()=>i,x:()=>c});var r=d(30758);const t={},n=r.createContext(t);function i(e){const s=r.useContext(n);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),r.createElement(n.Provider,{value:s},e.children)}}}]);