<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-system-internals/features/om-bootstrapping-with-snapshots" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">OM Bootstrapping with Snapshots | Apache Ozone</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://ozone.apache.org/img/social-card.png"><meta data-rh="true" name="twitter:image" content="https://ozone.apache.org/img/social-card.png"><meta data-rh="true" property="og:url" content="https://ozone.apache.org/docs/system-internals/features/om-bootstrapping-with-snapshots"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="OM Bootstrapping with Snapshots | Apache Ozone"><meta data-rh="true" name="description" content="Problem Statement"><meta data-rh="true" property="og:description" content="Problem Statement"><link data-rh="true" rel="canonical" href="https://ozone.apache.org/docs/system-internals/features/om-bootstrapping-with-snapshots"><link data-rh="true" rel="alternate" href="https://ozone.apache.org/docs/system-internals/features/om-bootstrapping-with-snapshots" hreflang="en"><link data-rh="true" rel="alternate" href="https://ozone.apache.org/docs/system-internals/features/om-bootstrapping-with-snapshots" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://YQWKI4BIJ7-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Apache Ozone RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Apache Ozone Atom Feed">




<link rel="search" type="application/opensearchdescription+xml" title="Apache Ozone" href="/opensearch.xml">
<link rel="manifest" href="/pwa/manifest.json">

<link rel="icon" href="favicon.ico" sizes="32x32">
<link rel="icon" href="favicon.svg" type="image/svg+xml">
<link rel="apple-touch-icon" href="apple-touch-icon.png">
<meta name="google-site-verification" content="fXhAWQ_Jb1fOk6QlN9a7Zs_Xsj-E2U0Q8oFqTNVclaE">
<meta name="algolia-site-verification" content="A2998EF969F36A0D">
<script src="/script/matomo.js"></script><link rel="stylesheet" href="/assets/css/styles.27c88cdc.css">
<script src="/assets/js/runtime~main.60873f7c.js" defer="defer"></script>
<script src="/assets/js/main.537b6577.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_wi3M" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/ozone-logo.svg" alt="Ozone Logo" class="themedComponent_Ka_G themedComponent--light_hIiB"><img src="/img/ozone-logo.svg" alt="Ozone Logo" class="themedComponent_Ka_G themedComponent--dark_GbLg"></div><b class="navbar__title text--truncate">Apache Ozone</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs">Docs</a><a class="navbar__item navbar__link" href="/download">Download</a><a class="navbar__item navbar__link" href="/roadmap">Roadmap</a><a class="navbar__item navbar__link" href="/faq">FAQ</a><a class="navbar__item navbar__link" href="/blog">Blog</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Community</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/community/communication-channels">Communication Channels</a></li><li><a class="dropdown__link" href="/community/who-uses-ozone">Who Uses Ozone?</a></li><li><a class="dropdown__link" href="/community/report-an-issue">Report An Issue</a></li><li><a class="dropdown__link" href="/community/ask-a-question">Ask a Question</a></li><li><a class="dropdown__link" href="/community/how-to-contribute">How to Contribute</a></li><li><a class="dropdown__link" href="/community/events-and-media">Events and Media</a></li></ul></div></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_NU7Q"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/docs/system-internals/features/om-bootstrapping-with-snapshots" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li></ul></div><a href="https://github.com/apache/ozone" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub Repo"></a><div class="toggle_F0tt colorModeToggle_Cksm"><button class="clean-btn toggleButton_tFD4 toggleButtonDisabled_UmGx" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_gzz6"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_HsWo"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_SQAi"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_HMzJ"><div class="docsWrapper_TA0s"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton__Euq" type="button"></button><div class="docRoot_VN1Z"><aside class="theme-doc-sidebar-container docSidebarContainer_jdpB"><div class="sidebarViewport_pKkV"><div class="scrollCustom_InGK"><div class="customSidebarVersion_kZiw"><div class="customSidebarInner_rBmt"><span style="display:inline-block">Version:</span> <a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/system-internals/features/om-bootstrapping-with-snapshots">Next</a></div></div><div id="sidebarCssSelector_uq97"><div class="sidebar_W81o"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_KB1A"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/quick-start/">Quick Start</a><button aria-label="Expand sidebar category &#x27;Quick Start&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/core-concepts/">Core Concepts</a><button aria-label="Expand sidebar category &#x27;Core Concepts&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/user-guide/">User Guide</a><button aria-label="Expand sidebar category &#x27;User Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/administrator-guide/">Administrator Guide</a><button aria-label="Expand sidebar category &#x27;Administrator Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/troubleshooting/">Troubleshooting</a><button aria-label="Expand sidebar category &#x27;Troubleshooting&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/system-internals/">System Internals</a><button aria-label="Collapse sidebar category &#x27;System Internals&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/system-internals/components/">Components</a><button aria-label="Expand sidebar category &#x27;Components&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/system-internals/data-operations/">Data Operations</a><button aria-label="Expand sidebar category &#x27;Data Operations&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/system-internals/data-integrity/">Data Integrity</a><button aria-label="Expand sidebar category &#x27;Data Integrity&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/system-internals/replication/">Replication</a><button aria-label="Expand sidebar category &#x27;Replication&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/system-internals/security/">Security</a><button aria-label="Expand sidebar category &#x27;Security&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/system-internals/network-protocols/">Network Protocols</a><button aria-label="Expand sidebar category &#x27;Network Protocols&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/system-internals/features/">Features</a><button aria-label="Collapse sidebar category &#x27;Features&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/system-internals/features/filesystem-optimization">Filesystem Optimization (FSO)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/system-internals/features/upgrade-downgrade">Upgrade and Downgrade</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/system-internals/features/bucket-snapshots">Bucket Snapshot</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/system-internals/features/erasure-coding">Erasure Coding</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/system-internals/features/improve-ozone-snapshot-scale-with-snapshot-defragmentation">Improve Ozone Snapshot Scale with Snapshot Defragmentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/system-internals/features/om-bootstrapping-with-snapshots">OM Bootstrapping with Snapshots</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/developer-guide/">Developer Guide</a><button aria-label="Expand sidebar category &#x27;Developer Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></div></div></aside><main class="docMainContainer_YnIx"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_oKcN"><div class="docItemContainer_EnqJ"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_JwNh" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_gcoS"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/system-internals/"><span itemprop="name">System Internals</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/system-internals/features/"><span itemprop="name">Features</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">OM Bootstrapping with Snapshots</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_my_n theme-doc-toc-mobile tocMobile_mwTw"><button type="button" class="clean-btn tocCollapsibleButton_v3oV">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>OM Bootstrapping with Snapshots</h1></header>
<h2 class="anchor anchorWithStickyNavbar_e_9H" id="problem-statement">Problem Statement<a href="#problem-statement" class="hash-link" aria-label="Direct link to Problem Statement" title="Direct link to Problem Statement">​</a></h2>
<p>The current bootstrapping mechanism for OM has inconsistencies when dealing with Snapshotted OM RocksDBs. Bootstrapping
occurs without locking mechanisms, and active transactions may still modify snapshots RocksDB during the process.
This can lead to a corrupted RocksDB instance on the follower OM post-bootstrapping. To resolve this, the bootstrapping
process must operate on a consistent system state.</p>
<p>Jira Ticket: <a href="https://issues.apache.org/jira/browse/HDDS-12090" target="_blank" rel="noopener noreferrer">HDDS-12090</a></p>
<h2 class="anchor anchorWithStickyNavbar_e_9H" id="background-on-snapshots">Background on Snapshots<a href="#background-on-snapshots" class="hash-link" aria-label="Direct link to Background on Snapshots" title="Direct link to Background on Snapshots">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_e_9H" id="snapshot-operations">Snapshot Operations<a href="#snapshot-operations" class="hash-link" aria-label="Direct link to Snapshot Operations" title="Direct link to Snapshot Operations">​</a></h3>
<p>When a snapshot is taken on an Ozone bucket, the following steps occur:</p>
<ol>
<li>A RocksDB checkpoint of the active <code>om.db</code> is created.</li>
<li>Deleted entries are removed from the <code>deletedKeyTable</code> and <code>deletedDirTable</code> in the Active Object Store (AOS) RocksDB.
This is to just prevent the blocks from getting purged without checking for the key&#x27;s presence in the correct snapshot in the snapshot chain.</li>
<li>A new entry is added to the <code>snapshotInfoTable</code> in the AOS RocksDB.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_e_9H" id="current-bootstrap-model">Current Bootstrap Model<a href="#current-bootstrap-model" class="hash-link" aria-label="Direct link to Current Bootstrap Model" title="Direct link to Current Bootstrap Model">​</a></h3>
<p>The current model involves the follower OM initiating an HTTP request to the leader OM, which provides a consistent view of its state.
Before bucket snapshots were introduced, this process relied solely on an AOS RocksDB checkpoint. However, with snapshots, multiple RocksDB
instances (AOS RocksDB + snapshot RocksDBs) must be handled, complicating the process.</p>
<h4 class="anchor anchorWithStickyNavbar_e_9H" id="workflow">Workflow<a href="#workflow" class="hash-link" aria-label="Direct link to Workflow" title="Direct link to Workflow">​</a></h4>
<ul>
<li><strong>Follower Initiation:</strong>
<ul>
<li>Sends an exclude list of files already copied in previous batches.</li>
</ul>
</li>
<li><strong>Leader Actions:</strong>
<ul>
<li>Creates an AOS RocksDB checkpoint.</li>
<li>Performs a directory walk through:<!-- -->
<ul>
<li>AOS RocksDB checkpoint directory.</li>
<li>Snapshot RocksDB directories.</li>
<li>Backup SST file directory (compaction backup directory).</li>
</ul>
</li>
<li>Identifies unique files to be copied in the next batch.</li>
<li>Transfers files in batches, recreating hardlinks on the follower side as needed.</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_e_9H" id="issues-with-the-current-model">Issues with the Current Model<a href="#issues-with-the-current-model" class="hash-link" aria-label="Direct link to Issues with the Current Model" title="Direct link to Issues with the Current Model">​</a></h4>
<ol>
<li>Active transactions during bootstrapping may modify snapshot RocksDBs, leading to inconsistencies.</li>
<li>Partial data copies can occur when double-buffer flushes or other snapshot-related operations are in progress.</li>
<li>Large snapshot data sizes (often in GBs) require multi-batch transfers, increasing the risk of data corruption.</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_e_9H" id="proposed-fixes">Proposed Fixes<a href="#proposed-fixes" class="hash-link" aria-label="Direct link to Proposed Fixes" title="Direct link to Proposed Fixes">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_e_9H" id="locking-the-snapshot-cache">Locking the Snapshot Cache<a href="#locking-the-snapshot-cache" class="hash-link" aria-label="Direct link to Locking the Snapshot Cache" title="Direct link to Locking the Snapshot Cache">​</a></h3>
<p>Snapshot Cache is the class which is responsible for maintaining all RocksDB handles corresponding to a snapshot.
The RocksDB handles are closed by the snapshot cache from time to time if there are no references of the
RocksDB being used by any of the threads in the system. Hence any operation on a snapshot would go through the snapshot
cache increasing the reference count of that snapshot. Implementing a lock for this snapshot cache would prevent any newer
threads from requesting a snapshot RocksDB handle from the snapshot cache. Thus any operation under this lock will have a
consistent view of the entire snapshot. The only downside to this is that it would block the double buffer thread,
hence any operation performed under this thread has to be lightweight so that it doesn&#x27;t end up running for a long
period of time. (P.S. With Sumit&#x27;s implementation of optimized Gatekeeping model and getting rid of double buffer from
OM would result in only blocking the snapshot operations which should be fine since these operations are only fired by background threads.)</p>
<p>With the above implementation of a lock there is a way to get a consistent snapshot of the entire OM. Now lets dive into various approaches to overall bootstrap flow.</p>
<h3 class="anchor anchorWithStickyNavbar_e_9H" id="approach-1-batching-files-over-multiple-tarballs">Approach 1 (Batching files over multiple tarballs)<a href="#approach-1-batching-files-over-multiple-tarballs" class="hash-link" aria-label="Direct link to Approach 1 (Batching files over multiple tarballs)" title="Direct link to Approach 1 (Batching files over multiple tarballs)">​</a></h3>
<p>This approach builds the current model by introducing size thresholds to manage locks and data transfers more efficiently.</p>
<h4 class="anchor anchorWithStickyNavbar_e_9H" id="workflow-1">Workflow<a href="#workflow-1" class="hash-link" aria-label="Direct link to Workflow" title="Direct link to Workflow">​</a></h4>
<ol>
<li><strong>Follower Initiation:</strong>
<ul>
<li>Sends an exclude list of previously copied files (identified by <code>inodeId</code>).</li>
</ul>
</li>
<li><strong>Leader Directory Walk:</strong>
<ul>
<li>Walks through AOS RocksDB, snapshot RocksDBs, and backup SST directories to identify files to transfer.</li>
<li>Compares against the exclude list to avoid duplicate transfers.</li>
</ul>
</li>
<li>If the total size of files to be copied is more than <code>ozone.om.ratis.snapshot.lock.max.total.size.threshold</code> then the
files would be directly sent over the stream as a tarball where the name of the files is the inodeId of the file.</li>
<li>If the total size of files to be copied is less than equal to <code>ozone.om.ratis.snapshot.lock.max.total.size.threshold</code>
then the snapshot cache lock is taken after waiting for the snapshot cache to completely get empty (No snapshot RocksDB should be open). Under the lock following operations would be performed:<!-- -->
<ul>
<li>Take the AOS RocksDB checkpoint.</li>
<li>A complete directory walk is done on AOS checkpoint RocksDB directory + all the snapshot RocksDB directories + backup sst
file directory (compaction log directory) to figure out all the files to be copied and any file already present in the exclude list would be excluded.</li>
<li>These files are added to the tarball where again the name of the file would be the inodeId of the file.</li>
</ul>
</li>
<li>As the files are being iterated the path of each file and their corresponding inodeIds would be tracked. When it is the
last batch this map would also be written as a text file in the final tarball to recreate all the hardlinks on the follower node.</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_e_9H" id="drawback">Drawback<a href="#drawback" class="hash-link" aria-label="Direct link to Drawback" title="Direct link to Drawback">​</a></h4>
<p>The only drawback with this approach is that we might end up sending more data over the network because some sst files sent
over the network could have been replaced because of compaction running concurrently on the active object store. But at the
same time since the entire bootstrap operation is supposed to finish in the order of a few minutes, the amount of extra data
would be really minimal assuming we could utmost write 30 MBs of data assuming there are 30000 keys written in 2 mins each
key would be around 1 KB.</p>
<h3 class="anchor anchorWithStickyNavbar_e_9H" id="approach-11">Approach 1.1<a href="#approach-11" class="hash-link" aria-label="Direct link to Approach 1.1" title="Direct link to Approach 1.1">​</a></h3>
<p>This approach builds on the approach1 where along with introducing size thresholds under locks manage locks, we only rely
on the number of files changed under the snapshot directory as the threshold.</p>
<h4 class="anchor anchorWithStickyNavbar_e_9H" id="workflow-2">Workflow<a href="#workflow-2" class="hash-link" aria-label="Direct link to Workflow" title="Direct link to Workflow">​</a></h4>
<ol>
<li><strong>Follower Initiation:</strong>
<ul>
<li>Sends an exclude list of previously copied files (identified by <code>inodeId</code>).</li>
</ul>
</li>
<li><strong>Leader Directory Walk:</strong>
<ul>
<li>Walks through AOS RocksDB, snapshot RocksDBs, and backup SST directories to identify files to transfer.</li>
<li>Compares against the exclude list to avoid duplicate transfers.</li>
</ul>
</li>
<li>If either the total size to be copied or the total number of files under the snapshot RocksDB directory to be copied is
more than <code>ozone.om.ratis.snapshot.max.total.sst.size</code> respectively then the files would be directly sent over the stream as
a tarball where the name of the files is the inodeId of the file.</li>
<li>If the total file size to be copied under the snapshot RocksDB directory is less than or equal to <code>ozone.om.ratis.snapshot.max.total.sst.size</code>
then the snapshot cache lock is taken after waiting for the snapshot cache to completely get empty (No snapshot RocksDB should be open).
Under the lock following operations would be performed:<!-- -->
<ul>
<li>Take the AOS RocksDB checkpoint.</li>
<li>A complete directory walk is done on all the snapshot RocksDB directories to figure out all the files to be copied and any file already present in the exclude list would be excluded.</li>
<li>Hard links of these files are added to tmp directory on the leader.</li>
<li>Exit lock</li>
<li>After the lock all files under the tmp directory, AOS RocksDB checkpoint directory and compaction backup directory have to be written to the tarball. As the files are being iterated the path of each file and their corresponding inodeIds would be tracked. Since this is the last batch this map would also be written as a text file in the final tarball to recreate all the hardlinks on the follower node.</li>
</ul>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_e_9H" id="drawback-1">Drawback<a href="#drawback-1" class="hash-link" aria-label="Direct link to Drawback" title="Direct link to Drawback">​</a></h4>
<p>The drawbacks for this approach are the same as approach 1, but here we are optimizing on the amount of time lock is held
by performing very lightweight operations under the lock. So this is a more optimal approach since it minimises the lock wait time on other threads.</p>
<h3 class="anchor anchorWithStickyNavbar_e_9H" id="approach-2-single-tarball-creation-under-lock">Approach 2 (Single tarball creation under lock)<a href="#approach-2-single-tarball-creation-under-lock" class="hash-link" aria-label="Direct link to Approach 2 (Single tarball creation under lock)" title="Direct link to Approach 2 (Single tarball creation under lock)">​</a></h3>
<p>The approach 2 here proposes to create a single tarball file on the disk and stream the chunks of the tarball over multiple
http batch request from the follower.</p>
<p>Following is the flow for creating the tarball:</p>
<ol>
<li>Snapshot cache lock is taken after waiting for the snapshot cache to become completely empty (No snapshot RocksDB should be open). Under the lock following operations would be performed:<!-- -->
<ul>
<li>Take the AOS RocksDB checkpoint.</li>
<li>A complete directory walk is done on AOS RocksDB directory + all the snapshot RocksDB directories + backup sst file
directory (compaction log directory) to figure out all the files to be copied to create a single tarball.</li>
</ul>
</li>
<li>This tarball should be streamed batch by batch to the follower in a paginated fashion.</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_e_9H" id="drawback-2">Drawback<a href="#drawback-2" class="hash-link" aria-label="Direct link to Drawback" title="Direct link to Drawback">​</a></h4>
<p>The drawback with this approach is that the double buffer would be blocked for a really long time if there is a lot of data to be tarballed. If the total snapshot size of the OM dbs put together is 1 TB, considering the tarball writes go to an NVMe and considering the write throughput for an NVMe drive is around 5 GB/sec then the tarball write might take a total of 1024/5 secs = 3 mins. Blocking the double buffer thread for 3 mins seems to be a bad idea, but at the same time this would only happen if there is snapshot operation in flight or in the double buffer queue already.</p>
<h3 class="anchor anchorWithStickyNavbar_e_9H" id="approach-3-creating-a-checkpoint-of-the-snapshot-rocksdb-under-lock">Approach 3 (Creating a checkpoint of the snapshot RocksDB under lock)<a href="#approach-3-creating-a-checkpoint-of-the-snapshot-rocksdb-under-lock" class="hash-link" aria-label="Direct link to Approach 3 (Creating a checkpoint of the snapshot RocksDB under lock)" title="Direct link to Approach 3 (Creating a checkpoint of the snapshot RocksDB under lock)">​</a></h3>
<p>The approach 3 here proposes to create a RocksDB checkpoint for each and every snapshot RocksDB in the system along with
the AOS RocksDB under the snapshot cache lock. Outside of the lock we could either create a single tarball file as done
in approach 2 or stream the files in batches as multiple tarball file similar to approach 1 to the follower.</p>
<p>Following is the flow for creating the tarball:</p>
<ol>
<li>Snapshot cache lock is taken after waiting for the snapshot cache to become completely empty (No snapshot RocksDB should be open).
Under the lock following operations would be performed:<!-- -->
<ul>
<li>Take the AOS RocksDB checkpoint.</li>
<li>Take RocksDB checkpoint of each and every snapshot in the system by iterating through the snapshotInfo table of AOS checkpoint RocksDB.</li>
</ul>
</li>
<li>Now the files in the checkpoint directories have to be streamed to the follower as done in either approach 1 or approach 2.</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_e_9H" id="drawback-3">Drawback<a href="#drawback-3" class="hash-link" aria-label="Direct link to Drawback" title="Direct link to Drawback">​</a></h4>
<p>The drawback with this approach is that this would double the number of hardlinks in the file system which could have potential
impact on performance during bootstrap, considering the case in systems where the total number of files and hardlinks in the system
order up to 5 million files.</p>
<h2 class="anchor anchorWithStickyNavbar_e_9H" id="recommendations">Recommendations<a href="#recommendations" class="hash-link" aria-label="Direct link to Recommendations" title="Direct link to Recommendations">​</a></h2>
<p>Approach 1 is the most optimized solution as it balances the amount of time under the lock by minimising the amount of IO
ops inside the lock by introducing another threshold config to track this. Moreover, taking this approach will also need the
most minimal amount of code change as it doesn&#x27;t differ from the current approach by much. While approach 2 might look simpler
but this would imply revamping the entire bootstrap logic currently in place and moreover this approach might increase the
total amount of time inside the lock which would imply blocking the double buffer thread of extended amounts of time if it
comes to this situation, which approach 1 tries to avoid.</p>
<p>Final approach implemented is the <strong>Approach 1.1</strong>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/apache/ozone-site/tree/master/docs/07-system-internals/07-features/08-om-bootstrapping-with-snapshots.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_kQtw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_orCj"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/system-internals/features/improve-ozone-snapshot-scale-with-snapshot-defragmentation"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Improve Ozone Snapshot Scale with Snapshot Defragmentation</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/developer-guide/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Developer Guide</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_reur thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#problem-statement" class="table-of-contents__link toc-highlight">Problem Statement</a></li><li><a href="#background-on-snapshots" class="table-of-contents__link toc-highlight">Background on Snapshots</a><ul><li><a href="#snapshot-operations" class="table-of-contents__link toc-highlight">Snapshot Operations</a></li><li><a href="#current-bootstrap-model" class="table-of-contents__link toc-highlight">Current Bootstrap Model</a></li></ul></li><li><a href="#proposed-fixes" class="table-of-contents__link toc-highlight">Proposed Fixes</a><ul><li><a href="#locking-the-snapshot-cache" class="table-of-contents__link toc-highlight">Locking the Snapshot Cache</a></li><li><a href="#approach-1-batching-files-over-multiple-tarballs" class="table-of-contents__link toc-highlight">Approach 1 (Batching files over multiple tarballs)</a></li><li><a href="#approach-11" class="table-of-contents__link toc-highlight">Approach 1.1</a></li><li><a href="#approach-2-single-tarball-creation-under-lock" class="table-of-contents__link toc-highlight">Approach 2 (Single tarball creation under lock)</a></li><li><a href="#approach-3-creating-a-checkpoint-of-the-snapshot-rocksdb-under-lock" class="table-of-contents__link toc-highlight">Approach 3 (Creating a checkpoint of the snapshot RocksDB under lock)</a></li></ul></li><li><a href="#recommendations" class="table-of-contents__link toc-highlight">Recommendations</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Apache Software Foundation</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.apache.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Foundation<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_QWNa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.apache.org/licenses/" target="_blank" rel="noopener noreferrer" class="footer__link-item">License<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_QWNa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.apache.org/events/current-event" target="_blank" rel="noopener noreferrer" class="footer__link-item">Events<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_QWNa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.apache.org/foundation/sponsorship.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Sponsorship<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_QWNa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://privacy.apache.org/policies/privacy-policy-public.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_QWNa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.apache.org/security/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Security<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_QWNa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.apache.org/foundation/thanks.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Thanks<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_QWNa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/apache/ozone/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item"><img src="/img/social/github.svg" alt="GitHub Discussions Icon" style="width:1em;height:1em;margin-right:0.5em;vertical-align:middle">GitHub Discussions<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_QWNa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://issues.apache.org/jira/projects/HDDS/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item"><img src="/img/social/jira.svg" alt="Jira Issues Icon" style="width:1em;height:1em;margin-right:0.5em;vertical-align:middle">Jira Issues<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_QWNa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://infra.apache.org/slack.html" target="_blank" rel="noopener noreferrer" class="footer__link-item"><img src="/img/social/slack.svg" alt="Slack Icon" style="width:1em;height:1em;margin-right:0.5em;vertical-align:middle">Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_QWNa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="mailto:dev@ozone.apache.org" target="_blank" rel="noopener noreferrer" class="footer__link-item"><img src="/img/social/mail.svg" alt="Mailing List Icon" style="width:1em;height:1em;margin-right:0.5em;vertical-align:middle">Mailing List<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_QWNa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/@ApacheOzone" target="_blank" rel="noopener noreferrer" class="footer__link-item"><img src="/img/social/youtube.svg" alt="YouTube Icon" style="width:1em;height:1em;margin-right:0.5em;vertical-align:middle">YouTube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_QWNa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/ApacheOzone" target="_blank" rel="noopener noreferrer" class="footer__link-item"><img src="/img/social/twitter-x.svg" alt="Twitter Icon" style="width:1em;height:1em;margin-right:0.5em;vertical-align:middle">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_QWNa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Repositories</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/apache/ozone" target="_blank" rel="noopener noreferrer" class="footer__link-item">Ozone</a></li><li class="footer__item"><a href="https://github.com/apache/ozone-site" target="_blank" rel="noopener noreferrer" class="footer__link-item">Website</a></li><li class="footer__item"><a href="https://github.com/apache/ozone-docker" target="_blank" rel="noopener noreferrer" class="footer__link-item">Docker Image</a></li><li class="footer__item"><a href="https://github.com/apache/ozone-docker-runner" target="_blank" rel="noopener noreferrer" class="footer__link-item">Docker Runner Image</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">
        <div>
          Copyright © 2026 <a href="https://www.apache.org/" class="copyright-link">The Apache Software Foundation</a>. Licensed under the <a href="https://www.apache.org/licenses/LICENSE-2.0" class="copyright-link">Apache License, Version 2.0</a>. <br>
          <div>
            <p>The Apache Software Foundation, Apache Ozone, Ozone, Apache, the Apache Feather, and the Apache Ozone project logo are either registered trademarks or trademarks of the Apache Software Foundation.</p>
          </div>
        </div></div></div></div></footer></div>
</body>
</html>