

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <meta name="description" content="Apache Ozone Documentation">

    <title>Documentation for Apache Ozone</title>

    
    <link href="../../css/bootstrap.min.css" rel="stylesheet">

    
    <link href="../../css/ozonedoc.css" rel="stylesheet">

    
    
    <link href="../../swagger-resources/swagger-ui.css" rel="stylesheet">

    
    <script>
      var _paq = window._paq = window._paq || [];
      

       
      _paq.push(['disableCookies']);
      

      _paq.push(['trackPageView']);
      _paq.push(['enableLinkTracking']);
      (function() {
        var u="//analytics.apache.org/";
        _paq.push(['setTrackerUrl', u+'matomo.php']);
        _paq.push(['setSiteId', '34']);
        var d=document, g=d.createElement('script'),
s=d.getElementsByTagName('script')[0];
        g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
      })();
    </script>
    

  </head>


<body>

  
<nav class="navbar navbar-inverse navbar-fixed-top">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#sidebar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a href="../../zh/index.html" class="navbar-left ozone-logo">
        <img src="../../ozone-logo-small.png"/>
      </a>
      <a class="navbar-brand hidden-xs" href="../../zh/index.html">
        Apache Ozone/HDDS Documentation
      </a>
      <a class="navbar-brand visible-xs-inline" href="#">Apache Ozone</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li><a href="https://github.com/apache/ozone">Source</a></li>
        <li><a href="https://ozone.apache.org">Apache Ozone</a></li>
        <li><a href="https://apache.org">ASF</a></li>
      </ul>
    </div>
  </div>
</nav>


  <div class="wrapper">
  <div class="container-fluid">
    <div class="row">
      
<div class="col-sm-2 col-md-2 sidebar" id="sidebar">
  <ul class="nav nav-sidebar">
    
    
        
            <li class="">
                
                   <a href="../../zh/index.html">
                

                    
                    <span>概述</span>
                </a>
            </li>
        
    
        
            <li class="">
                <a href="../../zh/start.html">
                    
                    <span>快速入门</span>
                </a>
                <ul class="nav">
                    
                        <li class="">
                           
                           <a href="../../zh/start/productiondeployment.html">生产环境部署</a>
                           
                        </li>
                    
                </ul>
            </li>
        
    
        
            <li class="">
                <a href="../../zh/concept.html">
                    
                    <span>概念</span>
                </a>
                <ul class="nav">
                    
                        <li class="">
                           
                           <a href="../../zh/concept/overview.html">概览</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../../zh/concept/ozonemanager.html">Ozone Manager</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../../zh/concept/storagecontainermanager.html">Storage Container Manager</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../../zh/concept/datanodes.html">数据节点</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../../zh/concept/containers.html">Containers</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../../zh/concept/recon.html">Recon</a>
                           
                        </li>
                    
                </ul>
            </li>
        
    
        
            <li class="">
                <a href="../../zh/feature.html">
                    
                    <span>特性</span>
                </a>
                <ul class="nav">
                    
                        <li class="">
                           
                           <a href="../../zh/feature/decommission.html">Decommissioning</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../../zh/feature/erasurecoding.html">纠删码</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../../zh/feature/om-ha.html">高可用 OM</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../../zh/feature/scm-ha.html">高可用 SCM</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../../zh/feature/dn-merge-rocksdb.html">在DataNode上合并Container的RocksDB</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../../zh/feature/prefixfso.html">基于前缀的文件系统优化</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../../zh/feature/topology.html">拓扑感知能力</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../../zh/feature/quota.html">Ozone 中的配额</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../../zh/feature/recon.html">Recon 服务器</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../../zh/feature/reconfigurability.html">动态加载配置</a>
                           
                        </li>
                    
                </ul>
            </li>
        
    
        
            <li class="">
                <a href="../../zh/security.html">
                    
                    <span>安全</span>
                </a>
                <ul class="nav">
                    
                        <li class="">
                           
                           <a href="../../zh/security/secureozone.html">安全化 Ozone</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../../zh/security/securingtde.html">透明数据加密</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../../zh/security/gdpr.html">Ozone 中的 GDPR</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../../zh/security/securingdatanodes.html">安全化 Datanode</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../../zh/security/securingozonehttp.html">安全化 HTTP</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../../zh/security/securings3.html">安全化 S3</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../../zh/security/securityacls.html">Ozone 访问控制列表</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../../zh/security/securitywithranger.html">Apache Ranger</a>
                           
                        </li>
                    
                </ul>
            </li>
        
    
        
            <li class="">
                <a href="../../zh/interface.html">
                    
                    <span>客户端接口</span>
                </a>
                <ul class="nav">
                    
                        <li class="">
                           
                           <a href="../../zh/interface/cli.html">命令行接口</a>
                           
                        </li>
                    
                </ul>
            </li>
        
    
        
            <li class="">
                
                   <a href="../../zh/tools.html">
                

                    
                    <span>工具</span>
                </a>
            </li>
        
    
        
            <li class="">
                
                   <a href="../../zh/recipe.html">
                

                    
                    <span>使用配方</span>
                </a>
            </li>
        
    
        
            <li class="">
                <a href="../../">
                    
                    <span></span>
                </a>
                <ul class="nav">
                    
                        <li class="">
                           
                           <a href="../../zh/interface/javaapi.html">Java API</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../../zh/interface/ofs.html">Ofs (兼容 Hadoop 的文件系统)</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../../zh/interface/o3fs.html">Ozone 文件系统</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../../zh/interface/csi.html">CSI 协议</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../../zh/interface/s3.html">S3 协议接口</a>
                           
                        </li>
                    
                        <li class="">
                           
                           <a href="../../zh/interface/reconapi.html">Recon API</a>
                           
                        </li>
                    
                </ul>
            </li>
        
    
    <li><a href="../../design.html"><span><b>Design docs</b></span></a></li>
    <li class="visible-xs"><a href="#">References</a>
    <ul class="nav">
        <li><a href="https://github.com/apache/ozone"><span class="glyphicon glyphicon-new-window" aria-hidden="true"></span> Source</a></li>
        <li><a href="https://ozone.apache.org"><span class="glyphicon glyphicon-new-window" aria-hidden="true"></span> Apache Ozone</a></li>
        <li><a href="https://apache.org"><span class="glyphicon glyphicon-new-window" aria-hidden="true"></span> ASF</a></li>
    </ul></li>
  </ul>

</div>

      <div class="col-sm-10 col-sm-offset-2 col-md-10 col-md-offset-2 main-content">



        <div class="col-md-9">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                  <li class="breadcrumb-item"><a href="../../zh/index.html">Home</a></li>
                  <li class="breadcrumb-item" aria-current="page"><a href="../../zh/tools.html">工具</a></li>
                  <li class="breadcrumb-item active" aria-current="page">Ozone Debug</li>
                </ol>
              </nav>

          

<div class="pull-right">
    
    
    
    <a href="../../tools/debug.html"><span class="label label-success">English</span></a>
    
    
    
    
</div>


          <div class="col-md-9">
            <h1>Ozone Debug</h1>

            <!---
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<p>Ozone Debug 命令 (<code>ozone debug</code>) 是开发人员工具的集合，旨在帮助调试并获取 Ozone 各个组件的更多信息。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>Usage: ozone debug <span style="color:#f92672">[</span>-hV<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>--verbose<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>-conf<span style="color:#f92672">=</span>&lt;configurationPath&gt;<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>                   <span style="color:#f92672">[</span>-D<span style="color:#f92672">=</span>&lt;String<span style="color:#f92672">=</span>String&gt;<span style="color:#f92672">]</span>... <span style="color:#f92672">[</span>COMMAND<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>Developer tools <span style="color:#66d9ef">for</span> Ozone Debug operations
</span></span><span style="display:flex;"><span>      -conf<span style="color:#f92672">=</span>&lt;configurationPath&gt;
</span></span><span style="display:flex;"><span>                  path to the ozone configuration file
</span></span><span style="display:flex;"><span>  -D, --set<span style="color:#f92672">=</span>&lt;String<span style="color:#f92672">=</span>String&gt;
</span></span><span style="display:flex;"><span>                  a map of <span style="color:#f92672">(</span>configuration_key,configuration_value<span style="color:#f92672">)</span> <span style="color:#66d9ef">for</span> any overrides
</span></span><span style="display:flex;"><span>  -h, --help      Show this help message and exit.
</span></span><span style="display:flex;"><span>  -V, --version   Print version information and exit.
</span></span><span style="display:flex;"><span>      --verbose   More verbose output. Show the stack trace of the errors.
</span></span></code></pre></div><p>子命令:
chunkinfo                  返回指定文件/对象的块位置信息。
print-log-dag, pld         在 OM 中创建当前压缩日志 DAG 的镜像。
find-missing-padding, fmp  列出所有缺少填充的文件/对象，可以选择指定卷/存储桶/键 URI。
recover                    恢复指定文件的租约。如果默认值不是 ofs:// ，请确保指定文件系统schema。
prefix                     解析前缀内容。
ldb                        解析 rocksdb 文件内容。
read-replicas              读取给定路径文件/对象所有块的每个副本。
container                  容器副本特定操作，仅在数据节点上执行。
ratislogparser             解析Ratis Log 成用户可理解的文字形式。</p>
<p>有关更详细的用法，请参阅每个子命令的“&ndash;help”输出。</p>
<h2 id="ozone-debug-ldb">ozone debug ldb</h2>
<p>Ozone 大量使用 RocksDB 来存储元数据。该工具帮助解析各个Ozone Roles 的 RocksDB 数据内容。
支持的数据库：Ozone Manager (om.db)、StorageContainerManager (scm.db)、Datanode/Container (container.db)
下面是用法：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>Usage: ozone debug ldb --db<span style="color:#f92672">=</span>&lt;dbPath&gt; <span style="color:#f92672">[</span>COMMAND<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>Parse rocksdb file content
</span></span><span style="display:flex;"><span>      --db<span style="color:#f92672">=</span>&lt;dbPath&gt;   Database File Path
</span></span><span style="display:flex;"><span>Commands:
</span></span><span style="display:flex;"><span>  scan                      Parse specified metadataTable
</span></span><span style="display:flex;"><span>  list_column_families, ls  list all column families in db.
</span></span><span style="display:flex;"><span>  value-schema              Schema of value in metadataTable
</span></span></code></pre></div><h3 id="list_column_families-command">list_column_families command</h3>
<p><code>list_column_families</code> 命令列出指定数据库中的所有列族。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ ozone debug ldb --db<span style="color:#f92672">=</span>/path/to/scm.db ls
</span></span><span style="display:flex;"><span>default
</span></span><span style="display:flex;"><span>sequenceId
</span></span><span style="display:flex;"><span>revokedCertsV2
</span></span><span style="display:flex;"><span>pipelines
</span></span><span style="display:flex;"><span>crls
</span></span><span style="display:flex;"><span>crlSequenceId
</span></span><span style="display:flex;"><span>meta
</span></span><span style="display:flex;"><span>containers
</span></span><span style="display:flex;"><span>validCerts
</span></span><span style="display:flex;"><span>validSCMCerts
</span></span><span style="display:flex;"><span>scmTransactionInfos
</span></span><span style="display:flex;"><span>deletedBlocks
</span></span><span style="display:flex;"><span>statefulServiceConfig
</span></span><span style="display:flex;"><span>revokedCerts
</span></span><span style="display:flex;"><span>move
</span></span></code></pre></div><h3 id="scan-command">scan command</h3>
<p><code>scan</code> 命令解析提供的 rocksdb 的特定列族并打印记录。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>Usage: ozone debug ldb scan <span style="color:#f92672">[</span>--compact<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>--count<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>--with-keys<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>                            <span style="color:#f92672">[</span>--batch-size<span style="color:#f92672">=</span>&lt;batchSize&gt;<span style="color:#f92672">]</span> --cf<span style="color:#f92672">=</span>&lt;tableName&gt;
</span></span><span style="display:flex;"><span>                            <span style="color:#f92672">[</span>--cid<span style="color:#f92672">=</span>&lt;containerId&gt;<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>-d<span style="color:#f92672">=</span>&lt;dnDBSchemaVersion&gt;<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>                            <span style="color:#f92672">[</span>-e<span style="color:#f92672">=</span>&lt;endKey&gt;<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>--fields<span style="color:#f92672">=</span>&lt;fieldsFilter&gt;<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>                            <span style="color:#f92672">[</span>--filter<span style="color:#f92672">=</span>&lt;filter&gt;<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>-l<span style="color:#f92672">=</span>&lt;limit&gt;<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>-o<span style="color:#f92672">=</span>&lt;fileName&gt;<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>                            <span style="color:#f92672">[</span>-s<span style="color:#f92672">=</span>&lt;startKey&gt;<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>--thread-count<span style="color:#f92672">=</span>&lt;threadCount&gt;<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>Parse specified metadataTable
</span></span><span style="display:flex;"><span>      --batch-size<span style="color:#f92672">=</span>&lt;batchSize&gt;
</span></span><span style="display:flex;"><span>                          Batch size <span style="color:#66d9ef">for</span> processing DB data.
</span></span><span style="display:flex;"><span>      --cf, --column_family, --column-family<span style="color:#f92672">=</span>&lt;tableName&gt;
</span></span><span style="display:flex;"><span>                          Table name
</span></span><span style="display:flex;"><span>      --cid, --container-id<span style="color:#f92672">=</span>&lt;containerId&gt;
</span></span><span style="display:flex;"><span>                          Container ID. Applicable <span style="color:#66d9ef">if</span> datanode DB Schema is V3
</span></span><span style="display:flex;"><span>      --compact           disable the pretty print the output
</span></span><span style="display:flex;"><span>      --count, --show-count
</span></span><span style="display:flex;"><span>                          Get estimated key count <span style="color:#66d9ef">for</span> the given DB column family
</span></span><span style="display:flex;"><span>                            Default: false
</span></span><span style="display:flex;"><span>  -d, --dnSchema, --dn-schema<span style="color:#f92672">=</span>&lt;dnDBSchemaVersion&gt;
</span></span><span style="display:flex;"><span>                          Datanode DB Schema Version: V1/V2/V3
</span></span><span style="display:flex;"><span>  -e, --ek, --endkey<span style="color:#f92672">=</span>&lt;endKey&gt;
</span></span><span style="display:flex;"><span>                          Key at which iteration of the DB ends
</span></span><span style="display:flex;"><span>      --fields<span style="color:#f92672">=</span>&lt;fieldsFilter&gt;
</span></span><span style="display:flex;"><span>                          Comma-separated list of fields needed <span style="color:#66d9ef">for</span> each value.
</span></span><span style="display:flex;"><span>                            eg.<span style="color:#f92672">)</span> <span style="color:#e6db74">&#34;name,acls.type&#34;</span> <span style="color:#66d9ef">for</span> showing name and type
</span></span><span style="display:flex;"><span>                            under acls.
</span></span><span style="display:flex;"><span>      --filter<span style="color:#f92672">=</span>&lt;filter&gt;   Comma-separated list of <span style="color:#e6db74">&#34;&lt;field&gt;:&lt;operator&gt;:&lt;value&gt;&#34;</span>
</span></span><span style="display:flex;"><span>                            where &lt;field&gt; is any valid field of the record,
</span></span><span style="display:flex;"><span>                            &lt;operator&gt; is <span style="color:#f92672">[</span>EQUALS,LESSER, GREATER or REGEX<span style="color:#f92672">]</span>.
</span></span><span style="display:flex;"><span>                            <span style="color:#f92672">(</span>EQUALS compares the exact string, REGEX compares
</span></span><span style="display:flex;"><span>                            with a valid regular expression passed, and
</span></span><span style="display:flex;"><span>                            LESSER/GREATER works with numeric values<span style="color:#f92672">)</span>, &lt;value&gt;
</span></span><span style="display:flex;"><span>                            is the value of the field.
</span></span><span style="display:flex;"><span>                          eg.<span style="color:#f92672">)</span> <span style="color:#e6db74">&#34;dataSize:equals:1000&#34;</span> <span style="color:#66d9ef">for</span> showing records
</span></span><span style="display:flex;"><span>                            having the value <span style="color:#ae81ff">1000</span> <span style="color:#66d9ef">for</span> dataSize,
</span></span><span style="display:flex;"><span>                               <span style="color:#e6db74">&#34;keyName:regex:^key.*</span>$<span style="color:#e6db74">&#34;</span> <span style="color:#66d9ef">for</span> showing records
</span></span><span style="display:flex;"><span>                            having keyName that matches the given regex.
</span></span><span style="display:flex;"><span>  -l, --limit, --length<span style="color:#f92672">=</span>&lt;limit&gt;
</span></span><span style="display:flex;"><span>                          Maximum number of items to list.
</span></span><span style="display:flex;"><span>  -o, --out<span style="color:#f92672">=</span>&lt;fileName&gt;    File to dump table scan data
</span></span><span style="display:flex;"><span>  -s, --sk, --startkey<span style="color:#f92672">=</span>&lt;startKey&gt;
</span></span><span style="display:flex;"><span>                          Key from which to iterate the DB
</span></span><span style="display:flex;"><span>      --thread-count<span style="color:#f92672">=</span>&lt;threadCount&gt;
</span></span><span style="display:flex;"><span>                          Thread count <span style="color:#66d9ef">for</span> concurrent processing.
</span></span><span style="display:flex;"><span>      --with-keys         Print a JSON object of key-&gt;value pairs <span style="color:#f92672">(</span>default<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>                            instead of a JSON array of only values.
</span></span></code></pre></div><p>默认情况下，内容打印在控制台上，但可以使用 <code>--out</code> 选项将其重定向到文件。 <br>
<code>--length</code> 可用于限制打印的记录数。 <br>
<code>--count</code> 不打印记录，它显示大概的，并不是完全精确的记录数。 <br>
<code>ozone debug ldb scan</code> 命令提供了许多过滤选项以使调试更容易，详细说明如下：<br></p>
<div class="alert alert-success" role="alert">
  多个过滤选项可以在单个命令中一起使用。
</div>
<h4 id="--startkey-and---endkey">&ndash;startkey and &ndash;endkey</h4>
<p>顾名思义，这些选项指定迭代需要发生的键。  <br>
<code>--startkey</code> 指定从哪个键开始迭代，包含该键。 <code>--endkey</code> 指定停止迭代的键，不包含该键。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ ozone debug ldb --db<span style="color:#f92672">=</span>/path/to/om.db scan --cf<span style="color:#f92672">=</span>volumeTable --startkey<span style="color:#f92672">=</span>vol3 --endkey<span style="color:#f92672">=</span>vol5
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{ <span style="color:#f92672">&#34;/vol3&#34;</span>: {
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;metadata&#34;</span> : { },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;objectID&#34;</span> : <span style="color:#ae81ff">-9999</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;updateID&#34;</span> : <span style="color:#ae81ff">4000</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;adminName&#34;</span> : <span style="color:#e6db74">&#34;om&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;ownerName&#34;</span> : <span style="color:#e6db74">&#34;om&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;volume&#34;</span> : <span style="color:#e6db74">&#34;vol3&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;creationTime&#34;</span> : <span style="color:#ae81ff">1707192335309</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;modificationTime&#34;</span> : <span style="color:#ae81ff">1714057412205</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;quotaInBytes&#34;</span> : <span style="color:#ae81ff">22854448694951936</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;quotaInNamespace&#34;</span> : <span style="color:#ae81ff">100000000</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;usedNamespace&#34;</span> : <span style="color:#ae81ff">1</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;acls&#34;</span> : [ {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;type&#34;</span> : <span style="color:#e6db74">&#34;USER&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;name&#34;</span> : <span style="color:#e6db74">&#34;om&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;aclScope&#34;</span> : <span style="color:#e6db74">&#34;ACCESS&#34;</span>
</span></span><span style="display:flex;"><span>  } ],
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;refCount&#34;</span> : <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>, <span style="color:#f92672">&#34;/vol4&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;metadata&#34;</span> : { },
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;objectID&#34;</span> : <span style="color:#ae81ff">-888</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;updateID&#34;</span> : <span style="color:#ae81ff">5000</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;adminName&#34;</span> : <span style="color:#e6db74">&#34;om&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;ownerName&#34;</span> : <span style="color:#e6db74">&#34;om&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;volume&#34;</span> : <span style="color:#e6db74">&#34;vol4&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;creationTime&#34;</span> : <span style="color:#ae81ff">1696280979907</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;modificationTime&#34;</span> : <span style="color:#ae81ff">1696280979907</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;quotaInBytes&#34;</span> : <span style="color:#ae81ff">2251799813685250</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;quotaInNamespace&#34;</span> : <span style="color:#ae81ff">100000000</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;usedNamespace&#34;</span> : <span style="color:#ae81ff">2</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;acls&#34;</span> : [ {
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;type&#34;</span> : <span style="color:#e6db74">&#34;USER&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;name&#34;</span> : <span style="color:#e6db74">&#34;om&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;aclScope&#34;</span> : <span style="color:#e6db74">&#34;ACCESS&#34;</span>
</span></span><span style="display:flex;"><span>    } ],
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;refCount&#34;</span> : <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>  }
</span></span></code></pre></div><h4 id="--fields">&ndash;fields</h4>
<p>每条记录中有多个字段。 <code>--fields</code> 选项允许我们选择要显示的特定字段。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ ozone debug ldb --db<span style="color:#f92672">=</span>/path/to/om.db scan --cf<span style="color:#f92672">=</span>keyTable -l<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span> --fields<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;volumeName,bucketName,keyName,keyLocationVersions.version,acls.name&#34;</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{ <span style="color:#f92672">&#34;/vol1/ozone-legacy-bucket/10T-1-terasort-input/&#34;</span>: {
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;keyLocationVersions&#34;</span> : [ {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;version&#34;</span> : <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>  } ],
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;keyName&#34;</span> : <span style="color:#e6db74">&#34;10T-1-terasort-input/&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;bucketName&#34;</span> : <span style="color:#e6db74">&#34;ozone-legacy-bucket&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;acls&#34;</span> : [ {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;name&#34;</span> : <span style="color:#e6db74">&#34;om&#34;</span>
</span></span><span style="display:flex;"><span>  }, {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;name&#34;</span> : <span style="color:#e6db74">&#34;scm&#34;</span>
</span></span><span style="display:flex;"><span>  }, {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;name&#34;</span> : <span style="color:#e6db74">&#34;testuser&#34;</span>
</span></span><span style="display:flex;"><span>  } ],
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;volumeName&#34;</span> : <span style="color:#e6db74">&#34;vol1&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="--filter">&ndash;filter</h4>
<p><code>--filter</code> 可用于选择值与给定条件匹配的记录。过滤器按以下格式给出：<code>&lt;field&gt;:&lt;operator&gt;:&lt;value&gt;</code>，
其中“<field>”是记录值中的任何有效字段，“<operator>”是 4 个支持的操作 <code>[equals, regex, lesser, greater]</code> 之一，“<value>”是使用的值用于比较。<br>
<code>Equals</code> 和 <code>regex</code> 适用于字符串、布尔值和数字字段，<code>lesser</code> 和 <code>greater</code> 仅适用于数字值。  <br>
也可以在一个命令中给出多个过滤器，它们需要用逗号分隔。<br>
使用 <code>equals</code> (等于) 运算符：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ ozone debug ldb --db<span style="color:#f92672">=</span>/path/to/om.db scan --cf<span style="color:#f92672">=</span>volumeTable --filter<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;usedNamespace:equals:2&#34;</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;/vol4&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;metadata&#34;</span>: {},
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;objectID&#34;</span>: <span style="color:#ae81ff">-888</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;updateID&#34;</span>: <span style="color:#ae81ff">5000</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;adminName&#34;</span>: <span style="color:#e6db74">&#34;om&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;ownerName&#34;</span>: <span style="color:#e6db74">&#34;om&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;volume&#34;</span>: <span style="color:#e6db74">&#34;vol4&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;creationTime&#34;</span>: <span style="color:#ae81ff">1696280979907</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;modificationTime&#34;</span>: <span style="color:#ae81ff">1696280979907</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;quotaInBytes&#34;</span>: <span style="color:#ae81ff">2251799813685250</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;quotaInNamespace&#34;</span>: <span style="color:#ae81ff">100000000</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;usedNamespace&#34;</span>: <span style="color:#ae81ff">2</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;acls&#34;</span>: [
</span></span><span style="display:flex;"><span>      {
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;USER&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;om&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;aclScope&#34;</span>: <span style="color:#e6db74">&#34;ACCESS&#34;</span>
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    ],
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;refCount&#34;</span>: <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>, <span style="color:#f92672">&#34;/vol5&#34;</span>: {
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;metadata&#34;</span> : { },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;objectID&#34;</span> : <span style="color:#ae81ff">-956599</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;updateID&#34;</span> : <span style="color:#ae81ff">45600</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;adminName&#34;</span> : <span style="color:#e6db74">&#34;om&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;ownerName&#34;</span> : <span style="color:#e6db74">&#34;om&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;volume&#34;</span> : <span style="color:#e6db74">&#34;vol5&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;creationTime&#34;</span> : <span style="color:#ae81ff">1807192332309</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;modificationTime&#34;</span> : <span style="color:#ae81ff">1914057410005</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;quotaInBytes&#34;</span> : <span style="color:#ae81ff">7785494951936</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;quotaInNamespace&#34;</span> : <span style="color:#ae81ff">100000000</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;usedNamespace&#34;</span> : <span style="color:#ae81ff">2</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;acls&#34;</span> : [ {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;type&#34;</span> : <span style="color:#e6db74">&#34;USER&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;name&#34;</span> : <span style="color:#e6db74">&#34;om&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;aclScope&#34;</span> : <span style="color:#e6db74">&#34;ACCESS&#34;</span>
</span></span><span style="display:flex;"><span>  } ],
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;refCount&#34;</span> : <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span> }
</span></span></code></pre></div><p>使用 <code>lesser</code> (较小) 运算符（<code>greater</code>(较大) 运算符也可以以相同的方式使用）：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ ozone debug ldb --db<span style="color:#f92672">=</span>/path/to/om.db scan --cf<span style="color:#f92672">=</span>volumeTable --filter<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;usedNamespace:lesser:2&#34;</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;/vol2&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;metadata&#34;</span>: {},
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;objectID&#34;</span>: <span style="color:#ae81ff">-73548</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;updateID&#34;</span>: <span style="color:#ae81ff">2384</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;adminName&#34;</span>: <span style="color:#e6db74">&#34;om&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;ownerName&#34;</span>: <span style="color:#e6db74">&#34;om&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;volume&#34;</span>: <span style="color:#e6db74">&#34;vol2&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;creationTime&#34;</span>: <span style="color:#ae81ff">11980979907</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;modificationTime&#34;</span>: <span style="color:#ae81ff">1296280979900</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;quotaInBytes&#34;</span>: <span style="color:#ae81ff">417913685250</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;quotaInNamespace&#34;</span>: <span style="color:#ae81ff">100000000</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;usedNamespace&#34;</span>: <span style="color:#ae81ff">1</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;acls&#34;</span>: [
</span></span><span style="display:flex;"><span>      {
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;USER&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;om&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;aclScope&#34;</span>: <span style="color:#e6db74">&#34;ACCESS&#34;</span>
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    ],
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;refCount&#34;</span>: <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span> }
</span></span></code></pre></div><p>使用 <code>regex</code> 运算符：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ ozone debug ldb --db<span style="color:#f92672">=</span>/path/to/om.db scan --cf<span style="color:#f92672">=</span>volumeTable --filter<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;volume:regex:^v.*2</span>$<span style="color:#e6db74">&#34;</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;/vol2&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;metadata&#34;</span>: {},
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;objectID&#34;</span>: <span style="color:#ae81ff">-73548</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;updateID&#34;</span>: <span style="color:#ae81ff">2384</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;adminName&#34;</span>: <span style="color:#e6db74">&#34;om&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;ownerName&#34;</span>: <span style="color:#e6db74">&#34;om&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;volume&#34;</span>: <span style="color:#e6db74">&#34;vol2&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;creationTime&#34;</span>: <span style="color:#ae81ff">11980979907</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;modificationTime&#34;</span>: <span style="color:#ae81ff">1296280979900</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;quotaInBytes&#34;</span>: <span style="color:#ae81ff">417913685250</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;quotaInNamespace&#34;</span>: <span style="color:#ae81ff">100000000</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;usedNamespace&#34;</span>: <span style="color:#ae81ff">1</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;acls&#34;</span>: [
</span></span><span style="display:flex;"><span>      {
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;USER&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;om&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;aclScope&#34;</span>: <span style="color:#e6db74">&#34;ACCESS&#34;</span>
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    ],
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;refCount&#34;</span>: <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span> }
</span></span></code></pre></div><p>使用多个过滤器：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ ozone debug ldb --db<span style="color:#f92672">=</span>/path/to/om.db scan --cf<span style="color:#f92672">=</span>volumeTable --filter<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;usedNamespace:equals:2,volume:regex:^.*4</span>$<span style="color:#e6db74">&#34;</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;/vol4&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;metadata&#34;</span>: {},
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;objectID&#34;</span>: <span style="color:#ae81ff">-888</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;updateID&#34;</span>: <span style="color:#ae81ff">5000</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;adminName&#34;</span>: <span style="color:#e6db74">&#34;om&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;ownerName&#34;</span>: <span style="color:#e6db74">&#34;om&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;volume&#34;</span>: <span style="color:#e6db74">&#34;vol4&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;creationTime&#34;</span>: <span style="color:#ae81ff">1696280979907</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;modificationTime&#34;</span>: <span style="color:#ae81ff">1696280979907</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;quotaInBytes&#34;</span>: <span style="color:#ae81ff">2251799813685250</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;quotaInNamespace&#34;</span>: <span style="color:#ae81ff">100000000</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;usedNamespace&#34;</span>: <span style="color:#ae81ff">2</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;acls&#34;</span>: [
</span></span><span style="display:flex;"><span>      {
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;USER&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;om&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;aclScope&#34;</span>: <span style="color:#e6db74">&#34;ACCESS&#34;</span>
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    ],
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;refCount&#34;</span>: <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span> }
</span></span></code></pre></div><h3 id="value-schema-command">value-schema command</h3>
<p>“value-schema”命令显示存储在rocksdb的列族中的值的模式，即，它显示存储在值中的字段及其数据类型。
可以选择使用<code>--depth</code>来限制获取字段的级别。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ ozone debug ldb --db<span style="color:#f92672">=</span>/data/metadata/om.db value-schema --cf<span style="color:#f92672">=</span>keyTable --depth<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;OmKeyInfo&#34;</span> : {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;bucketName&#34;</span> : <span style="color:#e6db74">&#34;String&#34;</span>, 
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;metadata&#34;</span> : <span style="color:#e6db74">&#34;struct&#34;</span>, 
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;fileName&#34;</span> : <span style="color:#e6db74">&#34;String&#34;</span>, 
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;creationTime&#34;</span> : <span style="color:#e6db74">&#34;long&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;isFile&#34;</span> : <span style="color:#e6db74">&#34;boolean&#34;</span>, 
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;acls&#34;</span> : <span style="color:#e6db74">&#34;struct&#34;</span>, 
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;keyName&#34;</span> : <span style="color:#e6db74">&#34;String&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;replicationConfig&#34;</span> : <span style="color:#e6db74">&#34;struct&#34;</span>, 
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;encInfo&#34;</span> : <span style="color:#e6db74">&#34;struct&#34;</span>, 
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;dataSize&#34;</span> : <span style="color:#e6db74">&#34;long&#34;</span>, 
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;tags&#34;</span> : <span style="color:#e6db74">&#34;struct&#34;</span>, 
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;keyLocationVersions&#34;</span> : <span style="color:#e6db74">&#34;struct&#34;</span>, 
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;updateID&#34;</span> : <span style="color:#e6db74">&#34;long&#34;</span>, 
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;ownerName&#34;</span> : <span style="color:#e6db74">&#34;String&#34;</span>, 
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;modificationTime&#34;</span> : <span style="color:#e6db74">&#34;long&#34;</span>, 
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;parentObjectID&#34;</span> : <span style="color:#e6db74">&#34;long&#34;</span>, 
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;volumeName&#34;</span> : <span style="color:#e6db74">&#34;String&#34;</span>, 
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;fileChecksum&#34;</span> : <span style="color:#e6db74">&#34;struct&#34;</span>, 
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;objectID&#34;</span> : <span style="color:#e6db74">&#34;long&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span> }
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ ozone debug ldb --db<span style="color:#f92672">=</span>/data/metadata/om.db value-schema --cf<span style="color:#f92672">=</span>keyTable
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;OmKeyInfo&#34;</span> : {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;bucketName&#34;</span> : <span style="color:#e6db74">&#34;String&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;metadata&#34;</span> : { },
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;fileName&#34;</span> : <span style="color:#e6db74">&#34;String&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;creationTime&#34;</span> : <span style="color:#e6db74">&#34;long&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;isFile&#34;</span> : <span style="color:#e6db74">&#34;boolean&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;acls&#34;</span> : {
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;toStringMethod&#34;</span> : { },
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;hashCodeMethod&#34;</span> : { },
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;name&#34;</span> : <span style="color:#e6db74">&#34;String&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;type&#34;</span> : {
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;name&#34;</span> : <span style="color:#e6db74">&#34;String&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;value&#34;</span> : <span style="color:#e6db74">&#34;String&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;ordinal&#34;</span> : <span style="color:#e6db74">&#34;int&#34;</span>
</span></span><span style="display:flex;"><span>      },
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;aclScope&#34;</span> : {
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;name&#34;</span> : <span style="color:#e6db74">&#34;String&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;ordinal&#34;</span> : <span style="color:#e6db74">&#34;int&#34;</span>
</span></span><span style="display:flex;"><span>      },
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;aclBits&#34;</span> : <span style="color:#e6db74">&#34;int&#34;</span>
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;keyName&#34;</span> : <span style="color:#e6db74">&#34;String&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;replicationConfig&#34;</span> : { },
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;encInfo&#34;</span> : {
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;ezKeyVersionName&#34;</span> : <span style="color:#e6db74">&#34;String&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;keyName&#34;</span> : <span style="color:#e6db74">&#34;String&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;edek&#34;</span> : { },
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;cipherSuite&#34;</span> : {
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;unknownValue&#34;</span> : {
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">&#34;value&#34;</span> : <span style="color:#e6db74">&#34;int&#34;</span>
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;name&#34;</span> : <span style="color:#e6db74">&#34;String&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;algoBlockSize&#34;</span> : <span style="color:#e6db74">&#34;int&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;ordinal&#34;</span> : <span style="color:#e6db74">&#34;int&#34;</span>
</span></span><span style="display:flex;"><span>      },
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;version&#34;</span> : {
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;unknownValue&#34;</span> : {
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">&#34;value&#34;</span> : <span style="color:#e6db74">&#34;int&#34;</span>
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;name&#34;</span> : <span style="color:#e6db74">&#34;String&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;description&#34;</span> : <span style="color:#e6db74">&#34;String&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;version&#34;</span> : <span style="color:#e6db74">&#34;int&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;ordinal&#34;</span> : <span style="color:#e6db74">&#34;int&#34;</span>
</span></span><span style="display:flex;"><span>      },
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;iv&#34;</span> : { }
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;dataSize&#34;</span> : <span style="color:#e6db74">&#34;long&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;tags&#34;</span> : { },
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;keyLocationVersions&#34;</span> : {
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;isMultipartKey&#34;</span> : <span style="color:#e6db74">&#34;boolean&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;locationVersionMap&#34;</span> : { },
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;version&#34;</span> : <span style="color:#e6db74">&#34;long&#34;</span>
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;updateID&#34;</span> : <span style="color:#e6db74">&#34;long&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;ownerName&#34;</span> : <span style="color:#e6db74">&#34;String&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;modificationTime&#34;</span> : <span style="color:#e6db74">&#34;long&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;parentObjectID&#34;</span> : <span style="color:#e6db74">&#34;long&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;volumeName&#34;</span> : <span style="color:#e6db74">&#34;String&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;fileChecksum&#34;</span> : { },
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;objectID&#34;</span> : <span style="color:#e6db74">&#34;long&#34;</span>
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div>

          
          <a class="btn  btn-success btn-lg" href="../../zh/tools/admin.html">Next >></a>
          
          </div>

        </div>
      </div>
    </div>
  </div>
    <div class="push"></div>
  </div>

  

<footer class="footer">
  <div class="container">
    <span class="small text-muted">
      Version: 2.1.0-SNAPSHOT, Last Modified: October 30, 2024 <a class="hide-child link primary-color" href="https://github.com/apache/ozone/commit/c4d68573f76c8a1528a4d07d558371dba159c37d">c4d68573f7</a>
    </span>
  </div>
</footer>



<script src="../../js/jquery-3.5.1.min.js"></script>
<script src="../../js/ozonedoc.js"></script>
<script src="../../js/bootstrap.min.js"></script>


</body>

</html>